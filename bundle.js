(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";require("./src");

},{"./src":163}],2:[function(require,module,exports){
!function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-a%1*8)){if(n=e.charCodeAt(a+=.75),n>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(-2*a&6)):0)n=r.indexOf(n);return c})}();

},{}],3:[function(require,module,exports){
module.exports=function(n){return function(){return n.apply(null,arguments)}};

},{}],4:[function(require,module,exports){
module.exports=function(n){return function(u){return n.apply(null,arguments)}};

},{}],5:[function(require,module,exports){
module.exports=function(n){return function(u,r){return n.apply(null,arguments)}};

},{}],6:[function(require,module,exports){
module.exports=function(n){return function(u,r,t){return n.apply(null,arguments)}};

},{}],7:[function(require,module,exports){
module.exports=function(n){return function(u,r,t,e){return n.apply(null,arguments)}};

},{}],8:[function(require,module,exports){
module.exports=function(n){return function(u,r,t,e,l){return n.apply(null,arguments)}};

},{}],9:[function(require,module,exports){
var arityFn=[require("./0"),require("./1"),require("./2"),require("./3"),require("./4"),require("./5")];module.exports=function(r,e){return e&&5>=e?arityFn[e](r):r};

},{"./0":3,"./1":4,"./2":5,"./3":6,"./4":7,"./5":8}],10:[function(require,module,exports){
var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===h||r===u?62:r===c||r===f?63:o>r?-1:o+10>r?r-o+26+26:i+26>r?r-i:A+26>r?r-A+26:void 0}function e(t){function e(t){i[f++]=t}var n,h,c,o,A,i;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;A="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,i=new a(3*t.length/4-A),c=A>0?t.length-4:t.length;var f=0;for(n=0,h=0;c>n;n+=4,h+=3)o=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&o)>>16),e((65280&o)>>8),e(255&o);return 2===A?(o=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&o)):1===A&&(o=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(o>>8&255),e(255&o)),i}function n(t){function r(t){return lookup.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var n,a,h,c=t.length%3,o="";for(n=0,h=t.length-c;h>n;n+=3)a=(t[n]<<16)+(t[n+1]<<8)+t[n+2],o+=e(a);switch(c){case 1:a=t[t.length-1],o+=r(a>>2),o+=r(a<<4&63),o+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],o+=r(a>>10),o+=r(a>>4&63),o+=r(a<<2&63),o+="="}return o}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),o="0".charCodeAt(0),A="a".charCodeAt(0),i="A".charCodeAt(0),u="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=n}("undefined"==typeof exports?this.base64js={}:exports);

},{}],11:[function(require,module,exports){

},{}],12:[function(require,module,exports){
module.exports=function(e){var t,n=String.prototype.split,l=/()??/.exec("")[1]===e;return t=function(t,r,i){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(t,r,i);var s,g,o,p,c=[],u=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),x=0,r=new RegExp(r.source,u+"g");for(t+="",l||(s=new RegExp("^"+r.source+"$(?!\\s)",u)),i=i===e?-1>>>0:i>>>0;(g=r.exec(t))&&(o=g.index+g[0].length,!(o>x&&(c.push(t.slice(x,g.index)),!l&&g.length>1&&g[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(g[t]=e)}),g.length>1&&g.index<t.length&&Array.prototype.push.apply(c,g.slice(1)),p=g[0].length,x=o,c.length>=i)));)r.lastIndex===g.index&&r.lastIndex++;return x===t.length?(p||!r.test(""))&&c.push(""):c.push(t.slice(x)),c.length>i?c.slice(0,i):c}}();

},{}],13:[function(require,module,exports){

},{}],14:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],15:[function(require,module,exports){
(function (global){
function typedArraySupport(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(r){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(t){return this instanceof Buffer?(this.length=0,this.parent=void 0,"number"==typeof t?fromNumber(this,t):"string"==typeof t?fromString(this,t,arguments.length>1?arguments[1]:"utf8"):fromObject(this,t)):arguments.length>1?new Buffer(t,arguments[1]):new Buffer(t)}function fromNumber(t,e){if(t=allocate(t,0>e?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;e>r;r++)t[r]=0;return t}function fromString(t,e,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|byteLength(e,r);return t=allocate(t,n),t.write(e,r),t}function fromObject(t,e){if(Buffer.isBuffer(e))return fromBuffer(t,e);if(isArray(e))return fromArray(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return fromTypedArray(t,e);if(e instanceof ArrayBuffer)return fromArrayBuffer(t,e)}return e.length?fromArrayLike(t,e):fromJsonObject(t,e)}function fromBuffer(t,e){var r=0|checked(e.length);return t=allocate(t,r),e.copy(t,0,0,r),t}function fromArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromTypedArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e){return Buffer.TYPED_ARRAY_SUPPORT?(e.byteLength,t=Buffer._augment(new Uint8Array(e))):t=fromTypedArray(t,new Uint8Array(e)),t}function fromArrayLike(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromJsonObject(t,e){var r,n=0;"Buffer"===e.type&&isArray(e.data)&&(r=e.data,n=0|checked(r.length)),t=allocate(t,n);for(var i=0;n>i;i+=1)t[i]=255&r[i];return t}function allocate(t,e){Buffer.TYPED_ARRAY_SUPPORT?(t=Buffer._augment(new Uint8Array(e)),t.__proto__=Buffer.prototype):(t.length=e,t._isBuffer=!0);var r=0!==e&&e<=Buffer.poolSize>>>1;return r&&(t.parent=rootParent),t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t,e){if(!(this instanceof SlowBuffer))return new SlowBuffer(t,e);var r=new Buffer(t,e);return delete r.parent,r}function byteLength(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if(e=0|e,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),0>e&&(e=0),r>this.length&&(r=this.length),e>=r)return"";for(;;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"binary":return binarySlice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function hexWrite(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var f=e.length;if(f%2!==0)throw new Error("Invalid hex string");n>f/2&&(n=f/2);for(var o=0;n>o;o++){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function binaryWrite(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;r>i;){var f=t[i],o=null,u=f>239?4:f>223?3:f>191?2:1;if(r>=i+u){var s,a,h,c;switch(u){case 1:128>f&&(o=f);break;case 2:s=t[i+1],128===(192&s)&&(c=(31&f)<<6|63&s,c>127&&(o=c));break;case 3:s=t[i+1],a=t[i+2],128===(192&s)&&128===(192&a)&&(c=(15&f)<<12|(63&s)<<6|63&a,c>2047&&(55296>c||c>57343)&&(o=c));break;case 4:s=t[i+1],a=t[i+2],h=t[i+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&f)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&1114112>c&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(MAX_ARGUMENTS_LENGTH>=e)return String.fromCharCode.apply(String,t);for(var r="",n=0;e>n;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(127&t[i]);return n}function binarySlice(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(t[i]);return n}function hexSlice(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var i="",f=e;r>f;f++)i+=toHex(t[f]);return i}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),i="",f=0;f<n.length;f+=2)i+=String.fromCharCode(n[f]+256*n[f+1]);return i}function checkOffset(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,i,f){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||f>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function objectWriteUInt16(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,f=Math.min(t.length-r,2);f>i;i++)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,f=Math.min(t.length-r,4);f>i;i++)t[r+i]=e>>>8*(n?i:3-i)&255}function checkIEEE754(t,e,r,n,i,f){if(e>i||f>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function writeFloat(t,e,r,n,i){return i||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,i){return i||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return 16>t?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,i=null,f=[],o=0;n>o;o++){if(r=t.charCodeAt(o),r>55295&&57344>r){if(!i){if(r>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&f.push(239,191,189);continue}i=r;continue}if(56320>r){(e-=3)>-1&&f.push(239,191,189),i=r;continue}r=i-55296<<10|r-56320|65536}else i&&(e-=3)>-1&&f.push(239,191,189);if(i=null,128>r){if((e-=1)<0)break;f.push(r)}else if(2048>r){if((e-=2)<0)break;f.push(r>>6|192,63&r|128)}else if(65536>r){if((e-=3)<0)break;f.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((e-=4)<0)break;f.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return f}function asciiToBytes(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,i,f=[],o=0;o<t.length&&!((e-=2)<0);o++)r=t.charCodeAt(o),n=r>>8,i=r%256,f.push(i),f.push(n);return f}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var i=0;n>i&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("is-array");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,f=Math.min(r,n);f>i&&t[i]===e[i];)++i;return i!==f&&(r=t[i],n=e[i]),n>r?-1:r>n?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new Buffer(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new Buffer(e),i=0;for(r=0;r<t.length;r++){var f=t[r];f.copy(n,i),i+=f.length}return n},Buffer.byteLength=byteLength,Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0,Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:Buffer.compare(this,t)},Buffer.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,i=0;r+i<t.length;i++)if(t[r+i]===e[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(Buffer.isBuffer(t))return r(this,t,e);if("number"==typeof t)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},Buffer.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=e,e=0|r,r=i}var f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(0>r||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"binary":return binaryWrite(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=Buffer._augment(this.subarray(t,e));else{var i=e-t;n=new Buffer(i,void 0);for(var f=0;i>f;f++)n[f]=this[f+t]}return n.length&&(n.parent=this.parent||this),n},Buffer.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],i=1,f=0;++f<e&&(i*=256);)n+=this[t+f]*i;return n},Buffer.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],i=1,f=0;++f<e&&(i*=256);)n+=this[t+f]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=e,i=1,f=this[t+--n];n>0&&(i*=256);)f+=this[t+--n]*i;return i*=128,f>=i&&(f-=Math.pow(2,8*e)),f},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var i=1,f=0;for(this[e]=255&t;++f<r&&(i*=256);)this[e+f]=t/i&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var i=r-1,f=1;for(this[e+i]=255&t;--i>=0&&(f*=256);)this[e+i]=t/f&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);checkInt(this,t,e,r,i-1,-i)}var f=0,o=1,u=0>t?1:0;for(this[e]=255&t;++f<r&&(o*=256);)this[e+f]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);checkInt(this,t,e,r,i-1,-i)}var f=r-1,o=1,u=0>t?1:0;for(this[e+f]=255&t;--f>=0&&(o*=256);)this[e+f]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,f=n-r;if(this===t&&e>r&&n>e)for(i=f-1;i>=0;i--)t[i+e]=this[i+r];else if(1e3>f||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;f>i;i++)t[i+e]=this[i+r];else t._set(this.subarray(r,r+f),e);return f},Buffer.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),e>r)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var i=utf8ToBytes(t.toString()),f=i.length;for(n=e;r>n;n++)this[n]=i[n%f]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(t){return t.constructor=Buffer,t._isBuffer=!0,t._set=t.set,t.get=BP.get,t.set=BP.set,t.write=BP.write,t.toString=BP.toString,t.toLocaleString=BP.toString,t.toJSON=BP.toJSON,t.equals=BP.equals,t.compare=BP.compare,t.indexOf=BP.indexOf,t.copy=BP.copy,t.slice=BP.slice,t.readUIntLE=BP.readUIntLE,t.readUIntBE=BP.readUIntBE,t.readUInt8=BP.readUInt8,t.readUInt16LE=BP.readUInt16LE,t.readUInt16BE=BP.readUInt16BE,t.readUInt32LE=BP.readUInt32LE,t.readUInt32BE=BP.readUInt32BE,t.readIntLE=BP.readIntLE,t.readIntBE=BP.readIntBE,t.readInt8=BP.readInt8,t.readInt16LE=BP.readInt16LE,t.readInt16BE=BP.readInt16BE,t.readInt32LE=BP.readInt32LE,t.readInt32BE=BP.readInt32BE,t.readFloatLE=BP.readFloatLE,t.readFloatBE=BP.readFloatBE,t.readDoubleLE=BP.readDoubleLE,t.readDoubleBE=BP.readDoubleBE,t.writeUInt8=BP.writeUInt8,t.writeUIntLE=BP.writeUIntLE,t.writeUIntBE=BP.writeUIntBE,t.writeUInt16LE=BP.writeUInt16LE,t.writeUInt16BE=BP.writeUInt16BE,t.writeUInt32LE=BP.writeUInt32LE,t.writeUInt32BE=BP.writeUInt32BE,t.writeIntLE=BP.writeIntLE,t.writeIntBE=BP.writeIntBE,t.writeInt8=BP.writeInt8,t.writeInt16LE=BP.writeInt16LE,t.writeInt16BE=BP.writeInt16BE,t.writeInt32LE=BP.writeInt32LE,t.writeInt32BE=BP.writeInt32BE,t.writeFloatLE=BP.writeFloatLE,t.writeFloatBE=BP.writeFloatBE,t.writeDoubleLE=BP.writeDoubleLE,t.writeDoubleBE=BP.writeDoubleBE,t.fill=BP.fill,t.inspect=BP.inspect,t.toArrayBuffer=BP.toArrayBuffer,t};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"base64-js":10,"ieee754":31,"is-array":36}],16:[function(require,module,exports){
"use strict";function compose(){for(var r=arguments.length,e=Array(r),n=0;r>n;n++)e[n]=arguments[n];e=e.filter(function(r){return"function"==typeof r});var t=e.length-1,o=0;if(e.length<=0)throw new Error("No functions passed");return t>=0&&e[t]&&(o=e[t].length),arityN(e.reduce(compose2),o)}var _interopRequire=function(r){return r&&r.__esModule?r["default"]:r};module.exports=compose;var arityN=_interopRequire(require("arity-n")),compose2=function(r,e){return function(){for(var n=arguments.length,t=Array(n),o=0;n>o;o++)t[o]=arguments[o];return r(e.apply(null,t))}};

},{"arity-n":9}],17:[function(require,module,exports){
(function (Buffer){
function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=isBuffer;

}).call(this,{"isBuffer":require("../../is-buffer/index.js")})
},{"../../is-buffer/index.js":37}],18:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _invariant=require("invariant"),_invariant2=_interopRequireDefault(_invariant);exports["default"]=function(e){return e.reduce(function(e,t){return(0,_invariant2["default"])(void 0===e[t],"action type `%s` has been declared. Should not declare a constant twice.",t),e[t]=t,e},{})},module.exports=exports["default"];

},{"invariant":35}],19:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function delegant(e){function r(r){var n=t(r);return e.addEventListener(r,n,!0),function(){return e.removeEventListener(r,n,!0)}}function t(e){return function(r){return n(e,r.target,r)}}function n(r,t,u){var a=(0,_evStore2["default"])(t),i=a[r];if(i){var c=new _proxyEvent2["default"](u);c.currentTarget=t,o(i(c))}t.parentNode&&t.parentNode!==e&&n(r,t.parentNode,u)}var o=arguments.length<=1||void 0===arguments[1]?function(e){return e}:arguments[1];return _composeFunction2["default"].apply(void 0,_toConsumableArray(events.map(r)))}Object.defineProperty(exports,"__esModule",{value:!0});var _evStore=require("ev-store"),_evStore2=_interopRequireDefault(_evStore),_composeFunction=require("compose-function"),_composeFunction2=_interopRequireDefault(_composeFunction),_proxyEvent=require("./proxy-event"),_proxyEvent2=_interopRequireDefault(_proxyEvent),events=["blur","change","click","contextmenu","dblclick","error","focus","focusin","focusout","input","keydown","keypress","keyup","load","mousedown","mouseup","resize","select","submit","touchcancel","touchend","touchstart","unload"];exports["default"]=delegant,module.exports=exports["default"];

},{"./proxy-event":20,"compose-function":16,"ev-store":22}],20:[function(require,module,exports){
"use strict";function ProxyEvent(e){if(!(this instanceof ProxyEvent))return new ProxyEvent(e);if(rkeyEvent.test(e.type))return new KeyEvent(e);if(rmouseEvent.test(e.type))return new MouseEvent(e);for(var t=0;t<ALL_PROPS.length;t++){var n=ALL_PROPS[t];this[n]=e[n]}this._rawEvent=e,this._bubbles=!1}function MouseEvent(e){for(var t=0;t<ALL_PROPS.length;t++){var n=ALL_PROPS[t];this[n]=e[n]}for(var r=0;r<MOUSE_PROPS.length;r++){var o=MOUSE_PROPS[r];this[o]=e[o]}this._rawEvent=e}function KeyEvent(e){for(var t=0;t<ALL_PROPS.length;t++){var n=ALL_PROPS[t];this[n]=e[n]}for(var r=0;r<KEY_PROPS.length;r++){var o=KEY_PROPS[r];this[o]=e[o]}this._rawEvent=e}var inherits=require("inherits"),ALL_PROPS=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"],KEY_PROPS=["char","charCode","key","keyCode"],MOUSE_PROPS=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"],rkeyEvent=/^key|input/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/;module.exports=ProxyEvent,ProxyEvent.prototype.preventDefault=function(){this._rawEvent.preventDefault()},ProxyEvent.prototype.startPropagation=function(){this._bubbles=!0},inherits(MouseEvent,ProxyEvent),inherits(KeyEvent,ProxyEvent);

},{"inherits":34}],21:[function(require,module,exports){
(function (process,global){
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function r(){}function o(){return function(){process.nextTick(c)}}function i(){var t=0,e=new F(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function s(){var t=new MessageChannel;return t.port1.onmessage=c,function(){t.port2.postMessage(0)}}function u(){return function(){setTimeout(c,1)}}function c(){for(var t=0;D>t;t+=2){var e=N[t],n=N[t+1];e(n),N[t]=void 0,N[t+1]=void 0}D=0}function a(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(e){return z.error=e,z}}function p(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function _(t,e,n){Y(function(t){var r=!1,o=p(n,e,function(n){r||(r=!0,e!==n?m(t,n):w(t,n))},function(e){r||(r=!0,g(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,g(t,o))},t)}function d(t,e){e._state===W?w(t,e._result):t._state===q?g(t,e._result):b(e,void 0,function(e){m(t,e)},function(e){g(t,e)})}function v(t,n){if(n.constructor===t.constructor)d(t,n);else{var r=h(n);r===z?g(t,z.error):void 0===r?w(t,n):e(r)?_(t,n,r):w(t,n)}}function m(e,n){e===n?g(e,f()):t(n)?v(e,n):w(e,n)}function y(t){t._onerror&&t._onerror(t._result),A(t)}function w(t,e){t._state===U&&(t._result=e,t._state=W,0===t._subscribers.length||Y(A,t))}function g(t,e){t._state===U&&(t._state=q,t._result=e,Y(y,t))}function b(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+W]=n,o[i+q]=r,0===i&&t._state&&Y(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function j(){this.error=null}function E(t,e){try{return t(e)}catch(n){return B.error=n,B}}function P(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=E(r,o),i===B?(c=!0,s=i.error,i=null):u=!0,n===i)return void g(n,l())}else i=o,u=!0;n._state!==U||(a&&u?m(n,i):c?g(n,s):t===W?w(n,i):t===q&&g(n,i))}function T(t,e){try{e(function(e){m(t,e)},function(e){g(t,e)})}catch(n){g(t,n)}}function S(t,e,n,r){this._instanceConstructor=t,this.promise=new t(a,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):g(this.promise,this._validationError())}function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function O(t){this._id=V++,this._state=void 0,this._result=void 0,this._subscribers=[],a!==t&&(e(t)||k(),this instanceof O||M(),T(this,t))}var C;C=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var R,x=C,D=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return r.prototype=t,new r},0),Y=function(t,e){N[D]=t,N[D+1]=e,D+=2,2===D&&R()},I="undefined"!=typeof window?window:{},F=I.MutationObserver||I.WebKitMutationObserver,K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=new Array(1e3);R="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?o():F?i():K?s():u();var U=void 0,W=1,q=2,z=new j,B=new j;S.prototype._validateInput=function(t){return x(t)},S.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},S.prototype._init=function(){this._result=new Array(this.length)};var G=S;S.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===U&&t>r;r++)this._eachEntry(n[r],r)},S.prototype._eachEntry=function(t,e){var r=this._instanceConstructor;n(t)?t.constructor===r&&t._state!==U?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(r.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(W,e,t))},S.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===U&&(this._remaining--,this._abortOnReject&&t===q?g(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&w(r,this._result)},S.prototype._makeResult=function(t,e,n){return n},S.prototype._willSettleAt=function(t,e){var n=this;b(t,void 0,function(t){n._settledAt(W,e,t)},function(t){n._settledAt(q,e,t)})};var H=function(t,e){return new G(this,t,!0,e).promise},J=function(t,e){function n(t){m(i,t)}function r(t){g(i,t)}var o=this,i=new o(a,e);if(!x(t))return g(i,new TypeError("You must pass an array to race.")),i;for(var s=t.length,u=0;i._state===U&&s>u;u++)b(o.resolve(t[u]),void 0,n,r);return i},L=function(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(a,e);return m(r,t),r},Q=function(t,e){var n=this,r=new n(a,e);return g(r,t),r},V=0,X=O;O.all=H,O.race=J,O.resolve=L,O.reject=Q,O.prototype={constructor:O,then:function(t,e){var n=this,r=n._state;if(r===W&&!t||r===q&&!e)return this;var o=new this.constructor(a),i=n._result;if(r){var s=arguments[r-1];Y(function(){P(r,o,s,i)})}else b(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var Z=function(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var n="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var n;return new t.Promise(function(t){n=t}),e(n)}();n||(t.Promise=X)},$={Promise:X,polyfill:Z};"function"==typeof define&&define.amd?define(function(){return $}):"undefined"!=typeof module&&module.exports?module.exports=$:"undefined"!=typeof this&&(this.ES6Promise=$)}).call(this);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"_process":14}],22:[function(require,module,exports){
"use strict";function EvStore(e){var r=e[hashKey];return r||(r=e[hashKey]={}),r}var OneVersionConstraint=require("individual/one-version"),MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION;module.exports=EvStore;

},{"individual/one-version":33}],23:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};

},{}],24:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function isValidKey(e){return validKeys.indexOf(e)>-1}function isFSA(e){return _lodashIsplainobject2["default"](e)&&"undefined"!=typeof e.type&&Object.keys(e).every(isValidKey)}function isError(e){return e.error===!0}exports.__esModule=!0,exports.isFSA=isFSA,exports.isError=isError;var _lodashIsplainobject=require("lodash.isplainobject"),_lodashIsplainobject2=_interopRequireDefault(_lodashIsplainobject),validKeys=["type","payload","error","meta"];

},{"lodash.isplainobject":45}],25:[function(require,module,exports){
var counter=Date.now()%1e9;module.exports=function(){return(1e9*Math.random()>>>0)+counter++};

},{}],26:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"min-document":11}],27:[function(require,module,exports){
var http=module.exports,EventEmitter=require("events").EventEmitter,Request=require("./lib/request"),url=require("url");http.request=function(e,t){"string"==typeof e&&(e=url.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.protocol||(e.scheme?e.protocol=e.scheme+":":e.protocol=window.location.protocol),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https:"==e.protocol?443:80);var o=new Request(new xhrHttp,e);return t&&o.on("response",t),o},http.get=function(e,t){e.method="GET";var o=http.request(e,t);return o.end(),o},http.Agent=function(){},http.Agent.defaultMaxSockets=4;var xhrHttp=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var o=new window.ActiveXObject(e[t]);return function(){if(o){var r=o;return o=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();http.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};

},{"./lib/request":28,"events":23,"url":118}],28:[function(require,module,exports){
var Stream=require("stream"),Response=require("./response"),Base64=require("Base64"),inherits=require("inherits"),Request=module.exports=function(e,t){var r=this;r.writable=!0,r.xhr=e,r.body=[],r.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(o){}if(t.responseType)try{e.responseType=t.responseType}catch(o){}if(e.open(t.method||"GET",r.uri,!0),e.onerror=function(e){r.emit("error",new Error("Network error"))},r._headers={},t.headers)for(var s=objectKeys(t.headers),i=0;i<s.length;i++){var n=s[i];if(r.isSafeRequestHeader(n)){var a=t.headers[n];r.setHeader(n,a)}}t.auth&&this.setHeader("Authorization","Basic "+Base64.btoa(t.auth));var h=new Response;h.on("close",function(){r.emit("close")}),h.on("ready",function(){r.emit("response",h)}),h.on("error",function(e){r.emit("error",e)}),e.onreadystatechange=function(){e.__aborted||h.handle(e)}};inherits(Request,Stream),Request.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},Request.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},Request.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},Request.prototype.write=function(e){this.body.push(e)},Request.prototype.destroy=function(e){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},Request.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=objectKeys(this._headers),r=0;r<t.length;r++){var o=t[r],s=this._headers[o];if(isArray(s))for(var i=0;i<s.length;i++)this.xhr.setRequestHeader(o,s[i]);else this.xhr.setRequestHeader(o,s)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(isArray(this.body[0])){for(var n=[],r=0;r<this.body.length;r++)n.push.apply(n,this.body[r]);this.xhr.send(n)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var a=0,r=0;r<this.body.length;r++)a+=this.body[r].length;for(var n=new this.body[0].constructor(a),h=0,r=0;r<this.body.length;r++)for(var d=this.body[r],i=0;i<d.length;i++)n[h++]=d[i];this.xhr.send(n)}else if(isXHR2Compatible(this.body[0]))this.xhr.send(this.body[0]);else{for(var n="",r=0;r<this.body.length;r++)n+=this.body[r].toString();this.xhr.send(n)}},Request.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],Request.prototype.isSafeRequestHeader=function(e){return e?-1===indexOf(Request.unsafeHeaders,e.toLowerCase()):!1};var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},isXHR2Compatible=function(e){return"undefined"!=typeof Blob&&e instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&e instanceof FormData?!0:void 0};

},{"./response":29,"Base64":2,"inherits":34,"stream":106}],29:[function(require,module,exports){
function parseHeaders(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),s={},r=0;r<t.length;r++){var a=t[r];if(""!==a){var i=a.match(/^([^:]+):\s*(.*)/);if(i){var o=i[1].toLowerCase(),n=i[2];void 0!==s[o]?isArray(s[o])?s[o].push(n):s[o]=[s[o],n]:s[o]=n}else s[a]=!0}}return s}var Stream=require("stream"),util=require("util"),Response=module.exports=function(e){this.offset=0,this.readable=!0};util.inherits(Response,Stream);var capable={streaming:!0,status2:!0};Response.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},Response.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},Response.prototype.handle=function(e){if(2===e.readyState&&capable.status2){try{this.statusCode=e.status,this.headers=parseHeaders(e)}catch(t){capable.status2=!1}capable.status2&&this.emit("ready")}else if(capable.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=parseHeaders(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){capable.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},Response.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};

},{"stream":106,"util":120}],30:[function(require,module,exports){
var http=require("http"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(t,e){return t||(t={}),t.scheme="https",t.protocol="https:",http.request.call(this,t,e)};

},{"http":27}],31:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=0>o||0===o&&0>1/o?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],32:[function(require,module,exports){
(function (global){
"use strict";function Individual(o,n){return o in root?root[o]:(root[o]=n,n)}var root="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};module.exports=Individual;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],33:[function(require,module,exports){
"use strict";function OneVersion(n,e,i){var r="__INDIVIDUAL_ONE_VERSION_"+n,o=r+"_ENFORCE_SINGLETON",a=Individual(o,e);if(a!==e)throw new Error("Can only have one copy of "+n+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+e);return Individual(r,i)}var Individual=require("./index.js");module.exports=OneVersion;

},{"./index.js":32}],34:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],35:[function(require,module,exports){
(function (process){
"use strict";var invariant=function(r,e,n,i,o,a,t,s){if("production"!==process.env.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!r){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[n,i,o,a,t,s],d=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return v[d++]}))}throw u.framesToPop=1,u}};module.exports=invariant;

}).call(this,require('_process'))
},{"_process":14}],36:[function(require,module,exports){
var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(r){return!!r&&"[object Array]"==str.call(r)};

},{}],37:[function(require,module,exports){
module.exports=function(r){return!(null==r||!(r._isBuffer||r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)))};

},{}],38:[function(require,module,exports){
"use strict";module.exports=function(t){return"object"==typeof t&&null!==t};

},{}],39:[function(require,module,exports){
function isPromise(o){return!!o&&("object"==typeof o||"function"==typeof o)&&"function"==typeof o.then}module.exports=isPromise;

},{}],40:[function(require,module,exports){
module.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)};

},{}],41:[function(require,module,exports){
require("whatwg-fetch"),module.exports=self.fetch.bind(self);

},{"whatwg-fetch":152}],42:[function(require,module,exports){
function createBaseFor(e){return function(t,r,o){for(var n=toObject(t),c=o(t),a=c.length,u=e?a:-1;e?u--:++u<a;){var b=c[u];if(r(n[b],b,n)===!1)break}return t}}function toObject(e){return isObject(e)?e:Object(e)}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var baseFor=createBaseFor();module.exports=baseFor;

},{}],43:[function(require,module,exports){
function isObjectLike(e){return!!e&&"object"==typeof e}function baseProperty(e){return function(r){return null==r?void 0:r[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&MAX_SAFE_INTEGER>=e}function isArguments(e){return isObjectLike(e)&&isArrayLike(e)&&hasOwnProperty.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=isArguments;

},{}],44:[function(require,module,exports){
function isObjectLike(t){return!!t&&"object"==typeof t}function getNative(t,r){var e=null==t?void 0:t[r];return isNative(e)?e:void 0}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&MAX_SAFE_INTEGER>=t}function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}function isObject(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function isNative(t){return null==t?!1:isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t)}var arrayTag="[object Array]",funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nativeIsArray=getNative(Array,"isArray"),MAX_SAFE_INTEGER=9007199254740991,isArray=nativeIsArray||function(t){return isObjectLike(t)&&isLength(t.length)&&objToString.call(t)==arrayTag};module.exports=isArray;

},{}],45:[function(require,module,exports){
function isObjectLike(o){return!!o&&"object"==typeof o}function baseForIn(o,e){return baseFor(o,e,keysIn)}function isPlainObject(o){var e;if(!isObjectLike(o)||objToString.call(o)!=objectTag||isArguments(o)||!hasOwnProperty.call(o,"constructor")&&(e=o.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var t;return baseForIn(o,function(o,e){t=e}),void 0===t||hasOwnProperty.call(o,t)}var baseFor=require("lodash._basefor"),isArguments=require("lodash.isarguments"),keysIn=require("lodash.keysin"),objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=isPlainObject;

},{"lodash._basefor":42,"lodash.isarguments":43,"lodash.keysin":46}],46:[function(require,module,exports){
function isIndex(r,t){return r="number"==typeof r||reIsUint.test(r)?+r:-1,t=null==t?MAX_SAFE_INTEGER:t,r>-1&&r%1==0&&t>r}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&MAX_SAFE_INTEGER>=r}function isObject(r){var t=typeof r;return!!r&&("object"==t||"function"==t)}function keysIn(r){if(null==r)return[];isObject(r)||(r=Object(r));var t=r.length;t=t&&isLength(t)&&(isArray(r)||isArguments(r))&&t||0;for(var e=r.constructor,n=-1,o="function"==typeof e&&e.prototype===r,s=Array(t),i=t>0;++n<t;)s[n]=n+"";for(var u in r)i&&isIndex(u,t)||"constructor"==u&&(o||!hasOwnProperty.call(r,u))||s.push(u);return s}var isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,MAX_SAFE_INTEGER=9007199254740991;module.exports=keysIn;

},{"lodash.isarguments":43,"lodash.isarray":44}],47:[function(require,module,exports){
var globalRequire=require;require=function(){};var exports=module.exports={Lexer:require("./lib/N3Lexer"),Parser:require("./lib/N3Parser"),Writer:require("./lib/N3Writer"),Store:require("./lib/N3Store"),StreamParser:require("./lib/N3StreamParser"),StreamWriter:require("./lib/N3StreamWriter"),Util:require("./lib/N3Util")};Object.keys(exports).forEach(function(e){Object.defineProperty(exports,e,{configurable:!0,enumerable:!0,get:function(){return delete exports[e],exports[e]=globalRequire("./lib/N3"+e)}})});

},{"./lib/N3Lexer":48,"./lib/N3Parser":49,"./lib/N3Store":50,"./lib/N3StreamParser":51,"./lib/N3StreamWriter":52,"./lib/N3Util":53,"./lib/N3Writer":54}],48:[function(require,module,exports){
function N3Lexer(e){if(!(this instanceof N3Lexer))return new N3Lexer(e);if(e&&e.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var f=this;this._tokenize=this.tokenize,this.tokenize=function(e,u){this._tokenize(e,function(e,t){!e&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(t.type)?u&&u(e,t):u&&u(e||f._syntaxError(t.type,u=null))})}}}var fromCharCode=String.fromCharCode,immediately="function"==typeof setImmediate?setImmediate:function(e){setTimeout(e,0)},escapeSequence=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,escapeReplacements={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},illegalIriChars=/[\x00-\x20<>\\"\{\}\|\^\`]/;N3Lexer.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,f){function u(f){e(f._syntaxError(/^\S*/.exec(t)[0]))}for(var t=this._input;;){for(var i;i=this._newline.exec(t);)t=t.substr(i[0].length,t.length),this._line++;if((i=this._whitespace.exec(t))&&(t=t.substr(i[0].length,t.length)),this._endOfFile.test(t))return f&&e(t=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=t;var n,r=this._line,d="",s="",a="",c=t[0],o=null,l=0,x=!1;switch(c){case"^":if(1===t.length)break;if("^"!==t[1])return u(this);if(this._prevTokenType="^",t=t.substr(2),"<"!==t[0]){x=!0;break}case"<":if(o=this._unescapedIri.exec(t))d="IRI",s=o[1];else if(o=this._iri.exec(t)){if(n=this._unescape(o[1]),null===n||illegalIriChars.test(n))return u(this);d="IRI",s=n}break;case"_":((o=this._blank.exec(t))||f&&(o=this._blank.exec(t+" ")))&&(d="prefixed",a="_",s=o[1]);break;case'"':case"'":if(o=this._unescapedString.exec(t))d="literal",s=o[0];else if(o=this._singleQuotedString.exec(t)){if(n=this._unescape(o[0]),null===n)return u(this);d="literal",s=n.replace(/^'|'$/g,'"')}else if(o=this._tripleQuotedString.exec(t)){if(n=o[1]||o[2],this._line+=n.split(/\r\n|\r|\n/).length-1,n=this._unescape(n),null===n)return u(this);d="literal",s=n.replace(/^'|'$/g,'"')}break;case"@":"literal"===this._prevTokenType&&(o=this._langcode.exec(t))?(d="langcode",s=o[1]):(o=this._keyword.exec(t))&&(d=o[0]);break;case".":if(1===t.length?f:t[1]<"0"||t[1]>"9"){d=".",l=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(o=this._number.exec(t))&&(d="literal",s='"'+o[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(o[1]?"double":/^[+\-]?\d+$/.test(o[0])?"integer":"decimal"));break;case"B":case"b":case"p":case"P":case"G":case"g":(o=this._sparqlKeyword.exec(t))?d=o[0].toUpperCase():x=!0;break;case"f":case"t":(o=this._boolean.exec(t))?(d="literal",s='"'+o[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):x=!0;break;case"a":(o=this._shortPredicates.exec(t))?(d="abbreviation",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):x=!0;break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":l=1,d=c;break;default:x=!0}if(x&&("@prefix"!==this._prevTokenType&&"PREFIX"!==this._prevTokenType||!(o=this._prefix.exec(t))?((o=this._prefixed.exec(t))||f&&(o=this._prefixed.exec(t+" ")))&&(d="prefixed",a=o[1]||"",s=this._unescape(o[2])):(d="prefix",s=o[1]||"")),"^"===this._prevTokenType&&(d="IRI"===d||"prefixed"===d?"type":""),!d)return f||!/^'''|^"""/.test(t)&&/\n|\r/.test(t)?u(this):this._input=t;e(null,{line:r,type:d,value:s,prefix:a}),this._prevTokenType=d,t=t.substr(l||o[0].length,t.length)}},_unescape:function(e){try{return e.replace(escapeSequence,function(e,f,u,t){var i;if(f){if(i=parseInt(f,16),isNaN(i))throw new Error;return fromCharCode(i)}if(u){if(i=parseInt(u,16),isNaN(i))throw new Error;return 65535>=i?fromCharCode(i):fromCharCode(55296+(i-=65536)/1024,56320+(1023&i))}var n=escapeReplacements[t];if(!n)throw new Error;return n})}catch(f){return null}},_syntaxError:function(e){return this._input=null,new Error('Syntax error: unexpected "'+e+'" on line '+this._line+".")},tokenize:function(e,f){function u(e){null!==i._input&&(i._input+=e,i._tokenizeToEnd(f,!1))}function t(){null!==i._input&&i._tokenizeToEnd(f,!0)}var i=this;this._line=1,"string"==typeof e?(this._input=e,immediately(function(){i._tokenizeToEnd(f,!0)})):(this._input="",e&&"function"!=typeof e?("function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",u),e.on("end",t)):(this.addChunk=u,this.end=t,f||(f=e)))}},module.exports=N3Lexer;

},{}],49:[function(require,module,exports){
function N3Parser(e){if(!(this instanceof N3Parser))return new N3Parser(e);this._tripleStack=[],this._graph=null,e=e||{},this._setBase(e.documentIRI);var t="string"==typeof e.format&&e.format.match(/\w*$/)[0].toLowerCase(),r="turtle"===t,a="trig"===t,s=/triple/.test(t),i=/quad/.test(t),n=s||i;(this._supportsNamedGraphs=!r)||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||a||s),n&&(this._base="",this._resolveIRI=function(e){return this._error("Disallowed relative IRI",e),this._callback=noop,this._subject=null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":"_:"+e.blankNodePrefix.replace(/^_:/,""),this._lexer=e.lexer||new N3Lexer({lineMode:n})}function noop(){}var N3Lexer=require("./N3Lexer"),RDF_PREFIX="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDF_NIL=RDF_PREFIX+"nil",RDF_FIRST=RDF_PREFIX+"first",RDF_REST=RDF_PREFIX+"rest",absoluteIRI=/^[a-z][a-z0-9+.-]*:/i,schemeAuthority=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,dotSegments=/(?:^|\/)\.\.?(?:$|[\/#?])/,blankNodePrefix=0,blankNodeCount=0;N3Parser._resetBlankNodeIds=function(){blankNodePrefix=blankNodeCount=0},N3Parser.prototype={_setBase:function(e){if(e){if(e.indexOf("#")>=0)throw new Error("Invalid base IRI "+e)}else e=null;(this._base=e)&&(this._basePath=e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(schemeAuthority),this._baseRoot=e[0],this._baseScheme=e[1])},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"@prefix":return this._sparqlStyle=!1,this._readPrefix;case"PREFIX":return this._sparqlStyle=!0,this._readPrefix;case"@base":return this._sparqlStyle=!1,this._readBaseIRI;case"BASE":return this._sparqlStyle=!0,this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readSubject:function(e){switch(this._predicate=null,e.type){case"IRI":null===this._base||absoluteIRI.test(e.value)?this._subject=e.value:this._subject=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._subject=t+e.value;break;case"[":return this._subject="_:b"+blankNodeCount++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:RDF_NIL,predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case"}":return this._readPunctuation(e);default:return this._error("Expected subject but got "+e.type,e)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"IRI":case"abbreviation":null===this._base||absoluteIRI.test(e.value)?this._predicate=e.value:this._predicate=this._resolveIRI(e);break;case"prefixed":if("_"===e.prefix)return this._error("Disallowed blank node as predicate",e);var r=this._prefixes[e.prefix];if(void 0===r)return this._error('Undefined prefix "'+e.prefix+':"',e);this._predicate=r+e.value;break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',e)}return this._readObject},_readObject:function(e){switch(e.type){case"IRI":null===this._base||absoluteIRI.test(e.value)?this._object=e.value:this._object=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._object=t+e.value;break;case"literal":return this._object=e.value,this._readDataTypeOrLang;case"[":var r="_:b"+blankNodeCount++;return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:r,type:"blank"}),this._subject=r,this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:RDF_NIL,type:"list"}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',e)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});var t=this._tripleStack.pop();return this._subject=t.subject,null!==t.object?(this._predicate=t.predicate,this._object=t.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(e){switch(e.type){case"type":var t;if(""===e.prefix)t=null===this._base||absoluteIRI.test(e.value)?e.value:this._resolveIRI(e);else{var r=this._prefixes[e.prefix];if(void 0===r)return this._error('Undefined prefix "'+e.prefix+':"',e);t=r+e.value}return this._object+="^^"+t,this._getTripleEndReader();case"langcode":return this._object+="@"+e.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,e)}},_readListItem:function(e){var t=null,r=null,a=this._subject,s=this._tripleStack,i=s[s.length-1],n=this._readListItem;switch(e.type){case"IRI":t=null===this._base||absoluteIRI.test(e.value)?e.value:this._resolveIRI(e);break;case"prefixed":var l=this._prefixes[e.prefix];if(void 0===l)return this._error('Undefined prefix "'+e.prefix+':"',e);t=l+e.value;break;case"literal":t=e.value,n=this._readDataTypeOrLang;break;case"[":r="_:b"+blankNodeCount++,t="_:b"+blankNodeCount++,s.push({subject:r,predicate:RDF_FIRST,object:t,type:"blank"}),this._subject=t,n=this._readBlankNodeHead;break;case"(":r="_:b"+blankNodeCount++,s.push({subject:r,predicate:RDF_FIRST,object:RDF_NIL,type:"list"}),this._subject=null,n=this._readListItem;break;case")":if(s.pop(),0!==s.length&&"list"===s[s.length-1].type&&this._callback(null,{subject:i.subject,predicate:i.predicate,object:i.object,graph:this._graph||""}),this._subject=i.subject,null===i.predicate){if(n=this._readPredicate,i.subject===RDF_NIL)return n}else if(this._predicate=i.predicate,this._object=i.object,n=this._getTripleEndReader(),i.object===RDF_NIL)return n;r=RDF_NIL;break;default:return this._error('Expected list item instead of "'+e.type+'"',e)}return null===r&&(this._subject=r="_:b"+blankNodeCount++),null===a?i.object===RDF_NIL?i.object=r:i.subject=r:this._callback(null,{subject:a,predicate:RDF_REST,object:r,graph:this._graph||""}),null!==t&&this._callback(null,{subject:r,predicate:RDF_FIRST,object:t,graph:this._graph||""}),n},_readPunctuation:function(e){var t,r=this._subject,a=this._graph;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);this._graph=null;case".":this._subject=null,t=this._readInTopContext;break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"IRI":if(this._supportsQuads&&null===this._graph){a=null===this._base||absoluteIRI.test(e.value)?e.value:this._resolveIRI(e),r=this._subject,t=this._readQuadPunctuation;break}case"prefixed":if(this._supportsQuads&&null===this._graph){var s=this._prefixes[e.prefix];if(void 0===s)return this._error('Undefined prefix "'+e.prefix+':"',e);a=s+e.value,t=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return null!==r&&this._callback(null,{subject:r,predicate:this._predicate,object:this._object,graph:a||""}),t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""}),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t;return t=null===this._base||absoluteIRI.test(e.value)?e.value:this._resolveIRI(e),this._prefixes[this._prefix]=t,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){if("IRI"!==e.type)return this._error("Expected IRI to follow base declaration",e);try{this._setBase(null===this._base||absoluteIRI.test(e.value)?e.value:this._resolveIRI(e))}catch(t){this._error(t.message,e)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject="_:b"+blankNodeCount++,this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?this._readInTopContext(e):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_getTripleEndReader:function(){var e=this._tripleStack;if(0===e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem}},_error:function(e,t){this._callback(new Error(e+" at line "+t.line+"."))},_resolveIRI:function(e){var t=e.value;switch(t[0]){case void 0:return this._base;case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return this._removeDotSegments(this._basePath+t)}},_removeDotSegments:function(e){if(!dotSegments.test(e))return e;for(var t="",r=e.length,a=-1,s=-1,i=0,n="/";r>a;){switch(n){case":":if(0>s&&"/"===e[++a]&&"/"===e[++a])for(;(s=a+1)<r&&"/"!==e[s];)a=s;break;case"?":case"#":a=r;break;case"/":if("."===e[a+1])switch(n=e[++a+1]){case"/":t+=e.substring(i,a-1),i=a+1;break;case void 0:case"?":case"#":return t+e.substring(i,a)+e.substr(a+1);case".":if(n=e[++a+1],void 0===n||"/"===n||"?"===n||"#"===n){if(t+=e.substring(i,a-2),(i=t.lastIndexOf("/"))>=s&&(t=t.substr(0,i)),"/"!==n)return t+"/"+e.substr(a+1);i=a+1}}}n=e[++a]}return t+e.substring(i)},parse:function(e,t,r){this._readCallback=this._readInTopContext,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix||"_:b"+blankNodePrefix++ +"_","function"==typeof e&&(r=t,t=e,e=null),this._callback=t||noop,this._prefixCallback=r||noop;var a=this;this._lexer.tokenize(e,function(e,t){null!==e?(a._callback(e),a._callback=noop):void 0!==a._readCallback&&(a._readCallback=a._readCallback(t))}),e||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}},module.exports=N3Parser;

},{"./N3Lexer":48}],50:[function(require,module,exports){
function N3Store(e,t){return this instanceof N3Store?(this._size=0,this._graphs=Object.create(null),this._entities=Object.create(null),this._entities["><"]=0,this._entityCount=0,this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),this._prefixes=Object.create(null),t&&t.prefixes&&this.addPrefixes(t.prefixes),void(e&&this.addTriples(e))):new N3Store(e,t)}var expandPrefixedName=require("./N3Util").expandPrefixedName;N3Store.prototype={get size(){var e=this._size;if(null!==e)return e;var t,i,n=this._graphs;for(var r in n)for(var s in t=n[r].subjects)for(var d in i=t[s])e+=Object.keys(i[d]).length;return this._size=e},_addToIndex:function(e,t,i,n){var r=e[t]||(e[t]={}),s=r[i]||(r[i]={});s[n]=null},_removeFromIndex:function(e,t,i,n){var r,s=e[t],d=s[i];delete d[n];for(r in d)return;delete s[i];for(r in s)return;delete e[t]},_findInIndex:function(e,t,i,n,r,s,d,a){var o,c,u,h=[],f=Object.keys(this._entities);t&&((o=e,e={})[t]=o[t]);for(var _ in e){var l=f[_];if(c=e[_]){i&&((o=c,c={})[i]=o[i]);for(var x in c){var p=f[x];if(u=c[x])for(var b=(n?n in u?[n]:[]:Object.keys(u)),j=b.length-1;j>=0;j--){var I={subject:"",predicate:"",object:"",graph:a};I[r]=l,I[s]=p,I[d]=f[b[j]],h.push(I)}}}}return h},_countInIndex:function(e,t,i,n){var r,s,d,a=0;t&&((r=e,e={})[t]=r[t]);for(var o in e)if(s=e[o]){i&&((r=s,s={})[i]=r[i]);for(var c in s)(d=s[c])&&(n?n in d&&a++:a+=Object.keys(d).length)}return a},addTriple:function(e,t,i,n){t||(n=e.graph,i=e.object,t=e.predicate,e=e.subject),n=n||"";var r=this._graphs[n];r||(r=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(r));var s=this._entities;e=s[e]||(s[e]=++this._entityCount),t=s[t]||(s[t]=++this._entityCount),i=s[i]||(s[i]=++this._entityCount),this._addToIndex(r.subjects,e,t,i),this._addToIndex(r.predicates,t,i,e),this._addToIndex(r.objects,i,e,t),this._size=null},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,i,n){t||(n=e.graph,i=e.object,t=e.predicate,e=e.subject),n=n||"";var r,s=this._entities,d=this._graphs;if((e=s[e])&&(t=s[t])&&(i=s[i])&&(r=d[n])){var a,o;if((a=r.subjects[e])&&(o=a[t])&&i in o){this._removeFromIndex(r.subjects,e,t,i),this._removeFromIndex(r.predicates,t,i,e),this._removeFromIndex(r.objects,i,e,t),null!==this._size&&this._size--;for(e in r.subjects)return;delete d[n]}}},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},find:function(e,t,i,n){var r=this._prefixes;return this.findByIRI(expandPrefixedName(e,r),expandPrefixedName(t,r),expandPrefixedName(i,r),expandPrefixedName(n,r))},findByIRI:function(e,t,i,n){n=n||"";var r=this._graphs[n],s=this._entities;return r?e&&!(e=s[e])?[]:t&&!(t=s[t])?[]:i&&!(i=s[i])?[]:e?i?this._findInIndex(r.objects,i,e,t,"object","subject","predicate",n):this._findInIndex(r.subjects,e,t,null,"subject","predicate","object",n):t?this._findInIndex(r.predicates,t,i,null,"predicate","object","subject",n):i?this._findInIndex(r.objects,i,null,null,"object","subject","predicate",n):this._findInIndex(r.subjects,null,null,null,"subject","predicate","object",n):[]},count:function(e,t,i,n){var r=this._prefixes;return this.countByIRI(expandPrefixedName(e,r),expandPrefixedName(t,r),expandPrefixedName(i,r),expandPrefixedName(n,r))},countByIRI:function(e,t,i,n){n=n||"";var r=this._graphs[n],s=this._entities;return r?e&&!(e=s[e])?0:t&&!(t=s[t])?0:i&&!(i=s[i])?0:e?i?this._countInIndex(r.objects,i,e,t):this._countInIndex(r.subjects,e,t,i):t?this._countInIndex(r.predicates,t,i,e):this._countInIndex(r.objects,i,e,t):0},createBlankNode:function(e){var t,i;if(e)for(t=e="_:"+e,i=1;this._entities[t];)t=e+i++;else do t="_:b"+this._blankNodeIndex++;while(this._entities[t]);return this._entities[t]=++this._entityCount,t}},module.exports=N3Store;

},{"./N3Util":53}],51:[function(require,module,exports){
function N3StreamParser(r){if(!(this instanceof N3StreamParser))return new N3StreamParser(r);Transform.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var e=this,t=new N3Parser(r);t.parse(function(r,t){t&&e.push(t)||r&&e.emit("error",r)},this.emit.bind(this,"prefix")),this._transform=function(r,e,s){t.addChunk(r),s()},this._flush=function(r){t.end(),r()}}var Transform=require("stream").Transform,util=require("util"),N3Parser=require("./N3Parser.js");util.inherits(N3StreamParser,Transform),module.exports=N3StreamParser;

},{"./N3Parser.js":49,"stream":106,"util":120}],52:[function(require,module,exports){
function N3StreamWriter(r){if(!(this instanceof N3StreamWriter))return new N3StreamWriter(r);Transform.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,e=new N3Writer({write:function(r,e,i){t.push(r),i&&i()},end:function(r){t.push(null),r&&r()}},r);this._transform=function(r,t,i){e.addTriple(r,i)},this._flush=function(r){e.end(r)}}var Transform=require("stream").Transform,util=require("util"),N3Writer=require("./N3Writer.js");util.inherits(N3StreamWriter,Transform),module.exports=N3StreamWriter;

},{"./N3Writer.js":54,"stream":106,"util":120}],53:[function(require,module,exports){
function addN3Util(t,e){for(var r in N3Util)e?t.prototype[r]=applyToThis(N3Util[r]):t[r]=N3Util[r];return t}function applyToThis(t){return function(e){return t(this,e)}}var Xsd="http://www.w3.org/2001/XMLSchema#",XsdString=Xsd+"string",XsdInteger=Xsd+"integer",XsdDecimal=Xsd+"decimal",XsdBoolean=Xsd+"boolean",RdfLangString="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",N3Util={isIRI:function(t){if(!t)return t;var e=t[0];return'"'!==e&&"_"!==e},isLiteral:function(t){return t&&'"'===t[0]},isBlank:function(t){return t&&"_:"===t.substr(0,2)},getLiteralValue:function(t){var e=/^"([^]*)"/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]},getLiteralType:function(t){var e=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?RdfLangString:XsdString)},getLiteralLanguage:function(t){var e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""},isPrefixedName:function(t){return t&&/^[^:\/"']*:[^:\/"']+$/.test(t)},expandPrefixedName:function(t,e){var r,n,i,a=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(t);return a&&(r=a[1],n=e[r],i=a.index),void 0===n?t:0===i?n+t.substr(r.length+1):t.substr(0,i+3)+n+t.substr(i+r.length+4)},createIRI:function(t){return t&&'"'===t[0]?N3Util.getLiteralValue(t):t},createLiteral:function(t,e){if(!e)switch(typeof t){case"boolean":e=XsdBoolean;break;case"number":if(isFinite(t)){e=t%1===0?XsdInteger:XsdDecimal;break}default:return'"'+t+'"'}return'"'+t+(/^[a-z]+(-[a-z0-9]+)*$/i.test(e)?'"@'+e.toLowerCase():'"^^'+e)}};module.exports=addN3Util(addN3Util);

},{}],54:[function(require,module,exports){
function N3Writer(e,t){if(!(this instanceof N3Writer))return new N3Writer(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end?!0:!!t.end;else{var r="";this._outputStream={write:function(e,t,i){r+=e,i&&i()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function characterReplacer(e){var t=escapeReplacements[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var N3LiteralMatcher=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,RDF_PREFIX="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDF_TYPE=RDF_PREFIX+"type",escape=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,escapeAll=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,escapeReplacements={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};N3Writer.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,r,i,n){try{this._graph!==i&&(this._write((null===this._subject?"":this._graph?"\n}\n":".\n")+(i?this._encodeIriOrBlankNode(i)+" {\n":"")),this._subject=null,this._graph="["!==i[0]?i:"]"),this._subject===e?this._predicate===t?this._write(", "+this._encodeObject(r),n):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),n):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),n)}catch(c){n&&n(c)}},_writeTripleLine:function(e,t,r,i,n){delete this._prefixMatch;try{this._write(this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(r)+(i?" "+this._encodeIriOrBlankNode(i)+".\n":".\n"),n)}catch(c){n&&n(c)}},_encodeIriOrBlankNode:function(e){var t=e[0];if("["===t||"("===t||"_"===t&&":"===e[1])return e;escape.test(e)&&(e=e.replace(escapeAll,characterReplacer));var r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:"<"+e+">"},_encodeLiteral:function(e,t,r){return escape.test(e)&&(e=e.replace(escapeAll,characterReplacer)),r?'"'+e+'"@'+r:t?'"'+e+'"^^'+this._encodeIriOrBlankNode(t):'"'+e+'"'},_encodeSubject:function(e){if('"'===e[0])throw new Error("A literal as subject is not allowed: "+e);return"["===e[0]&&(this._subject="]"),this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if('"'===e[0])throw new Error("A literal as predicate is not allowed: "+e);return e===RDF_TYPE?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if('"'!==e[0])return this._encodeIriOrBlankNode(e);var t=N3LiteralMatcher.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,r,i,n){void 0===r?this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t):"string"!=typeof i?this._writeTriple(e,t,r,"",i):this._writeTriple(e,t,r,i,n)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,r){var i={};i[e]=t,this.addPrefixes(i,r)},addPrefixes:function(e,t){var r=this._prefixIRIs,i=!1;for(var n in e){var c=e[n];/[#\/]$/.test(c)&&r[c]!==(n+=":")&&(i=!0,r[c]=n,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+n+" <"+c+">.\n"))}if(i){var s="",a="";for(var h in r)s+=s?"|"+h:h,a+=(a?"|":"")+r[h];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+a+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(i?"\n":"",t)},blank:function(e,t){var r,i,n=e;switch(void 0===e?n=[]:"string"==typeof e?n=[{predicate:e,object:t}]:"length"in e||(n=[e]),i=n.length){case 0:return"[]";case 1:if(r=n[0],"["!==r.object[0])return"[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]";default:for(var c="[",s=0;i>s;s++)r=n[s],r.predicate===e?c+=", "+this._encodeObject(r.object):(c+=(s?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return c+"\n]"}},list:function(e){for(var t=e&&e.length||0,r=new Array(t),i=0;t>i;i++)r[i]=this._encodeObject(e[i]);return"("+r.join(" ")+")"},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,i){t=null,e(r,i)};if(this._endStream)try{return this._outputStream.end(t)}catch(r){}t&&t()}},module.exports=N3Writer;

},{}],55:[function(require,module,exports){
(function (process){
"use strict";var callable,byObserver;callable=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},byObserver=function(e){var t,n=document.createTextNode(""),o=0;return new e(function(){var e;if(t)return e=t,t=null,"function"==typeof e?void e():void e.forEach(function(e){e()})}).observe(n,{characterData:!0}),function(e){return callable(e),t?void("function"==typeof t?t=[t,e]:t.push(e)):(t=e,void(n.data=o=++o%2))}},module.exports=function(){if("undefined"!=typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return byObserver(MutationObserver);if("function"==typeof WebKitMutationObserver)return byObserver(WebKitMutationObserver)}return"function"==typeof setImmediate?function(e){setImmediate(callable(e))}:"function"==typeof setTimeout?function(e){setTimeout(callable(e),0)}:null}();

}).call(this,require('_process'))
},{"_process":14}],56:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;i>u;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return 0>t&&(t=r.length+t),r.substr(t,e)};

}).call(this,require('_process'))
},{"_process":14}],57:[function(require,module,exports){
(function (__dirname){
var fs=require("fs"),path=require("path"),pkginfo=module.exports=function(n,e){var r=[].slice.call(arguments,2).filter(function(n){return"string"==typeof n});Array.isArray(e)?e={include:e}:"string"==typeof e&&(e={include:[e]}),e=e||{},e.include=e.include||[],r.length>0&&(e.include=e.include.concat(r));var i=pkginfo.read(n,e.dir)["package"];return Object.keys(i).forEach(function(r){e.include.length>0&&!~e.include.indexOf(r)||n.exports[r]||(n.exports[r]=i[r])}),pkginfo};pkginfo.find=function(n,e){e||(e=path.dirname(n.filename));var r=fs.readdirSync(e);if(~r.indexOf("package.json"))return path.join(e,"package.json");if("/"===e)throw new Error("Could not find package.json up from: "+e);if(!e||"."===e)throw new Error("Cannot find package.json from unspecified directory");return pkginfo.find(n,path.dirname(e))},pkginfo.read=function(n,e){e=pkginfo.find(n,e);var r=fs.readFileSync(e).toString();return{dir:e,"package":JSON.parse(r)}},pkginfo(module,{dir:__dirname,include:["version"],target:pkginfo});

}).call(this,"/node_modules/pkginfo/lib")
},{"fs":13,"path":56}],58:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;u>t;)o=e.charCodeAt(t++),o>=55296&&56319>=o&&u>t?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function f(e,o){return e+22+75*(26>e)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),0>r&&(r=0),t=0;r>t;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;g>f;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=j>=d?y:d>=j+C?C:d-j,!(p>a);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;g>s;++s)v=e[s],128>v&&F.push(P(v));for(u=i=F.length,i&&F.push(E);g>u;){for(d=x,s=0;g>s;++s)v=e[s],v>=n&&d>v&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;g>s;++s)if(v=e[s],n>v&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=l>=p?y:p>=l+C?C:p-l,!(h>a);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;(v.global===v||v.window===v||v.self===v)&&(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],59:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],60:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],61:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");

},{"./decode":59,"./encode":60}],62:[function(require,module,exports){
"use strict";var init=function(t){var n={};n.options={convertStringUrls:!0},n.urlRegEx=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;var r=function(i){if(!i)return void 0;if(Array.isArray(i))return i.map(function(t){return r(t)});if("object"==typeof i&&i.interfaceName)return i;if("string"==typeof i)return n.options.convertStringUrls&&n.urlRegEx.test(i)?t.createNamedNode(i):t.createLiteral(i);if("number"==typeof i)return t.createLiteral(i+"");throw"unknown type"},i=function(t,n,e){return Array.isArray(t)?t.map(function(t){return i(t,n,e)}):(t=r(t),t.graph=n,t.graphIri=e,t)},e=function(t,n){return n.some(function(n){return n.equals(t)})},o=function(t){return t?Array.isArray(t)?t:[t]:void 0};n.Graph=function(t,i){if(!(this instanceof n.Graph))return new n.Graph(t,i);this.context=r(o(i));var u=function(n,i,u,h){var c=[];return i=r(o(i)),t.forEach(function(t){(null===n||e(t.subject,n))&&(null===i||e(t.predicate,i))&&(null===u||e(t.object,u))&&c.push(t[h])}),c};this.graph=function(){return t},this.node=function(r){return n.Graph(t,r)},this["in"]=function(r){return n.Graph(t,u(null,r,this.context,"subject"))},this.out=function(r){return n.Graph(t,u(this.context,r,null,"object"))},this.nodes=function(){return this.context?this.context:[]},this.literal=function(){return this.context?this.context.map(function(t){return t.toString()}):void 0},this.removeIn=function(n){return n&&(n=r(o(n))),this.nodes().forEach(function(r){n?n.forEach(function(n){t.removeMatches(null,n,r)}):t.removeMatches(null,null,r)}),this},this.removeOut=function(n){return n&&(n=r(o(n))),this.nodes().forEach(function(r){n?n.forEach(function(n){t.removeMatches(r,n,null)}):t.removeMatches(r,null,null)}),this},this.toArray=function(){return this.nodes().map(this.node)},this.forEach=function(t){return this.toArray().forEach(t)},this.map=function(t){return this.toArray().map(t)},this.toString=function(){return this.literal().join()}},n.Store=function(t,r){if(!(this instanceof n.Store))return new n.Store(t,r);this.context=o(r),this.store=function(){return t},this.graphs=function(){var t=[];return this.nodes().forEach(function(n){-1===t.indexOf(n.graph)&&t.push(n.graph)}),t},this.node=function(r,e,o){return e=e||r.graphIri||r,t.graph(e).then(function(u){return o?Promise.resolve(o(n.Store(t,i(r,u,e)))):n.Store(t,i(r,u,e))})},this["in"]=function(r){var e=[];return this.nodes().forEach(function(t){e=e.concat(n.Graph(t.graph,t)["in"](r).nodes().map(function(n){return i(n,t.graph,t.graphIri)}))}),n.Store(t,e)},this.out=function(r){var e=[];return this.nodes().forEach(function(t){e=e.concat(n.Graph(t.graph,t).out(r).nodes().map(function(n){return i(n,t.graph,t.graphIri)}))}),n.Store(t,e)},this.jump=function(r){return Promise.all(this.nodes().map(function(n){return t.graph(n.nominalValue).then(function(t){return i(n,t,n.nominalValue)})})).then(function(i){return r?Promise.resolve(r(n.Store(t,i))):n.Store(t,i)})},this.nodes=function(){return this.context?this.context:[]},this.literal=function(){return this.context?this.context.map(function(t){return t.toString()}):void 0},this.toArray=function(){return this.nodes().map(function(r){return n.Store(t,r)})},this.forEach=function(t){return this.toArray().forEach(t)},this.map=function(t){return this.toArray().map(t)},this.toString=function(){return this.literal().join()}},t.cf=n};module.exports=init;

},{}],63:[function(require,module,exports){
"use strict";var InMemoryStore=function(n){var t={};this.graph=function(e,i){var o=null;void 0===e?(o=n.createGraph(),this.forEach(function(n){o.addAll(n)})):e in t&&(o=t[e]),i(o)},this.match=function(n,t,e,i,o,r){this.graph(n,function(n){o(n?n.match(t,e,i,r):null)})},this.add=function(e,i,o){t[e]=n.createGraph(),t[e].addAll(i),o(i)},this.merge=function(n,e,i){n in t?t[n].addAll(e):t[n]=e,i(e)},this.remove=function(e,i,o){e in t&&(t[e]=n.Graph.difference(t[e],i)),o(!0)},this.removeMatches=function(n,e,i,o,r){n in t&&t[n].removeMatches(e,i,o),r(!0)},this["delete"]=function(n,e){n in t&&delete t[n],e(!0)},this.forEach=function(n){Object.keys(t).forEach(function(e){n(t[e],e)})}};module.exports=function(n){n.InMemoryStore=InMemoryStore.bind(null,n),n.createStore=function(){return new n.InMemoryStore}};

},{}],64:[function(require,module,exports){
"use strict";var jsonld=require("jsonld"),RDFa=require("jsonld/js/rdfa"),JsonLdParser=function(n,r){r=r||{},"importPrefixMap"in r||(r.importPrefixMap=!0);var t=function(n,r,t){jsonld.expand(n,{base:r},function(n,r){return n?t(null,n.message):void jsonld.flatten(r,{},function(n,r){return n?t(null,n.message):"@graph"in r?void t(r["@graph"]):t(null)})})},e=function(n){return n=n||[],Array.isArray(n)?n:[n]};this.process=function(a,i,o,s,f){"string"==typeof a&&(a=JSON.parse(a)),o=o||"",s=s||function(){return!0},f=f||function(){};var u=function(r){var t=null,e=null;return"@type"in r&&(t=d(r["@type"])),"@language"in r&&(e=r["@language"]),n.createLiteral(r["@value"],e,t)},c={},d=function(r){return r in c?c[r]:r?0===r.indexOf("_:")?c[r]=n.createBlankNode():c[r]=n.createNamedNode(r):n.createBlankNode()},l=function(r,t,e){var a=n.createTriple(r,t,e);s(a)&&i(a)},p=function(r){var t=r["@id"],a=e(r["@type"]);a.forEach(function(r){l(d(t),d(n.ns.type),d(r))});for(var i in r)0!==i.indexOf("@")&&h(t,i,e(r[i]))},h=function(n,r,t){t.forEach(function(t){l(d(n),d(r),y(t))})},y=function(r){return"string"==typeof r?n.createLiteral(r):"@id"in r?d(r["@id"]):"@list"in r?g(r["@list"]):u(r)},g=function(n){var r,t=d(),e=t;return n.forEach(function(t,a){r=a!==n.length-1?d():d("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"),l(e,d("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),d(t["@id"])),l(e,d("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),r),e=r}),t};if(r.importPrefixMap&&"@context"in a&&"object"==typeof a["@context"]){var v=a["@context"];Object.keys(v).forEach(function(r){"@"!==r.slice(1)&&"string"==typeof v[r]&&(n.prefixes[r]=v[r])})}return t(a,o,function(n,r){return r?f(!1,r):n?(n.forEach(function(n){p(n)}),void f(!0)):f(!0)}),!0},this.parse=function(r,t,e,a,i){return i=i||n.createGraph(),this.process(r,function(n){i.add(n)},e,a,function(n,r){t(n?i:null,r)})}},RdfaParser=function(n){var r=new JsonLdParser(n);this.parse=function(t,e,a,i,o){if("string"==typeof t)try{t=n.parseHtml(t)}catch(s){return e(null,s),!1}return o=o||n.createGraph(),t.location={href:a},RDFa.attach(t),jsonld.fromRDF(t.data,{format:"rdfa-api"},function(n,t){n?e(null,n):r.process(t,function(n){o.add(n)},a,i,function(n,r){e(n?o:null,r)})}),!0}};module.exports=function(n){n.JsonLdParser=JsonLdParser.bind(null,n);var r=new JsonLdParser(n);n.parseJsonLd=r.parse.bind(r),n.utils.mimeTypeParserMap["application/ld+json"]=n.parseJsonLd,n.RdfaParser=RdfaParser.bind(null,n);var t=new RdfaParser(n);n.parseRdfa=t.parse.bind(t)};

},{"jsonld":81,"jsonld/js/rdfa":82}],65:[function(require,module,exports){
"use strict";var jsonld=require("jsonld"),JsonLdSerializer=function(e){var a=e.createNamedNode("http://www.w3.org/2001/XMLSchema#string");this.serialize=function(e,n){n=n||function(){};var t=[],r={},i=function(e){var a=e.valueOf();return"undefined"==typeof r[a]&&("BlankNode"==e.interfaceName?t.push({"@id":"_:"+a}):t.push({"@id":a}),r[a]=t.length-1),r[a]},u=function(e){return"NamedNode"==e.interfaceName?{"@id":e.valueOf()}:"BlankNode"==e.interfaceName?{"@id":"_:"+e.valueOf()}:e.language?{"@language":e.language,"@value":e.valueOf()}:"datatype"in e&&e.datatype&&!a.equals(e.datatype)?{"@type":e.datatype.valueOf(),"@value":e.valueOf()}:e.valueOf()};return e.forEach(function(e){var a=i(e.subject),n=e.predicate.valueOf();"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"==n?("undefined"==typeof t[a]["@type"]&&(t[a]["@type"]=[]),t[a]["@type"].push(e.object.valueOf())):"undefined"==typeof t[a][n]?t[a][n]=u(e.object):(Array.isArray(t[a][n])||(t[a][n]=[t[a][n]]),t[a][n].push(u(e.object)))}),n(t),t}};module.exports=function(e){e.JsonLdSerializer=JsonLdSerializer.bind(null,e);var a=new JsonLdSerializer(e);e.serializeJsonLd=a.serialize.bind(a)};

},{"jsonld":81}],66:[function(require,module,exports){
"use strict";var LdpStore=function(e,t){var r=this;t=t||{},r.parsers=t.parsers||LdpStore.defaultParsers(e),r.serializers=t.serializers||LdpStore.defaultSerializers(e),r.defaultParser=t.defaultParser||"text/turtle",r.defaultSerializer=t.defaultSerializer||"text/turtle",r.defaultPatchSerializer=t.defaultPatchSerializer||t.defaultSerializer||"text/turtle",r.request=t.request||e.defaultRequest;var n=function(){var e=null;for(var t in r.parsers)e?e+=", "+t:e=t;return e},a=function(e){return e>=200&&300>e};r.graph=function(e,t,i){i=i||{},r.request("GET",e,{Accept:n()},null,function(n,u,l,o){if(o)return t(null,"request error: "+o);if(!a(n)&&0!==n)return t(null,"status code error: "+n);var s=r.defaultParser;"content-type"in u&&u["content-type"]in r.parsers&&(s=u["content-type"]),"forceContentType"in i&&i.forceContentType in r.parsers&&(s=i.forceContentType),r.parsers[s](l,function(e,r){return r?t(null,"parser error: "+r):("useEtag"in i&&i.useEtag&&"etag"in u&&(e.etag=u.etag),void t(e))},e)})},r.match=function(e,t,n,a,i,u){r.graph(e,function(e,r){return r?i(null,r):void i(e.match(t,n,a,u))})},r.add=function(e,t,n,i){var u="PUT",l=r.defaultSerializer,o={};i=i||{},o["Content-Type"]=l,"method"in i&&(u=i.method),"etag"in i&&(o["If-Match"]=i.etag),"useEtag"in i&&i.useEtag&&"etag"in t&&(o["If-Match"]=t.etag),r.serializers[l](t,function(i,l){return l?n(null,l):void r.request(u,e,o,i,function(e,r,i,u){return u?n(null,u):a(e)?void n(t):n(null,"status code error: "+e)})})},r.merge=function(e,t,n,i){var u=r.defaultPatchSerializer,l={};i=i||{},l["Content-Type"]=u,"etag"in i&&(l["If-Match"]=i.etag),"useEtag"in i&&i.useEtag&&"etag"in t&&(l["If-Match"]=t.etag),r.serializers[u](t,function(i,u){return u?n(null,u):void r.request("PATCH",e,l,i,function(e,r,i,u){return u?n(null,u):a(e)?void n(t):n(null,"status code error: "+e)})})},r.remove=function(e,t,r){},r.removeMatches=function(e,t,r,n,a){},r["delete"]=function(e,t){r.request("DELETE",e,{},null,function(e,r,n,i){return i?t(!1,"request error: "+i):a(e)?void t(!0):t(!1,"status code error: "+e)})}};LdpStore.serializeSparqlUpdate=function(e,t,r){e.serializeNTriples(t,function(e,t){return t?r(null,t):void r("INSERT DATA { "+e+" }")})},LdpStore.defaultParsers=function(e){return{"application/ld+json":e.parseJsonLd,"application/n-triples":e.parseTurtle,"text/turtle":e.parseTurtle}},LdpStore.defaultSerializers=function(e){return{"application/ld+json":e.serializeJsonLd,"application/n-triples":e.serializeNTriples,"application/sparql-update":LdpStore.serializeSparqlUpdate.bind(null,e),"text/turtle":e.serializeNTriples}},module.exports=function(e){e.LdpStore=LdpStore.bind(null,e)};

},{}],67:[function(require,module,exports){
"use strict";var URIResolver=require("./uri-resolver"),MicrodataProcessor=function(){this.blankCounter=0,this.vocabularies=[{namespaceURI:"http://schema.org/",isMember:function(e){return 0===e.indexOf(this.namespaceURI)},getProperty:function(e){return this.namespaceURI+e}}]};MicrodataProcessor.prototype=new URIResolver,MicrodataProcessor.prototype.constructor=MicrodataProcessor,MicrodataProcessor.typeNode=rdf.createNamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),MicrodataProcessor.integerNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#integer"),MicrodataProcessor.doubleNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#double"),MicrodataProcessor.timeNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#time"),MicrodataProcessor.dateTimeNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#dateTime"),MicrodataProcessor.durationNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#duration"),MicrodataProcessor.absoluteURIRE=/[\w\_\-]+:\S+/,MicrodataProcessor.prototype.resolve=function(e){return e},MicrodataProcessor.trim=function(e){return e=e||"",e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},MicrodataProcessor.tokenize=function(e){return MicrodataProcessor.trim(e).split(/\s+/).reduce(function(e,r){return r&&e.push(r),e},[])},MicrodataProcessor.prototype.getVocabulary=function(e){for(var r=0;r<this.vocabularies.length;r++)if(this.vocabularies[r].isMember(e))return this.vocabularies[r];var t=function(e){return{namespaceURI:e,getProperty:function(e){return this.namespaceURI+e}}},o=e.indexOf("#");if(o>=0)return t(e.substring(0,o+1));var a=e.lastIndexOf("/");return t(a>=0?e.substring(0,a+1):e)},MicrodataProcessor.prototype.getProperty=function(e,r){return MicrodataProcessor.absoluteURIRE.exec(e)?e:r?r.getProperty(e):base.resolve("#"+e)},MicrodataProcessor.valueMappings={link:function(e,r){return rdf.createNamedNode(r.resolve(e.getAttribute("href")))},media:function(e,r){return rdf.createNamedNode(r.resolve(e.getAttribute("src")))},meta:function(e){var r=e.getAttribute("content"),t=e.getAttribute("lang");return rdf.createLiteral(r,t?t:null)},number:function(e){var r=e.getAttribute("value");return r===parseInt(r).toString()?rdf.createLiteral(r,null,MicrodataProcessor.integerNode):r===parseFloat(r).toString()?rdf.createLiteral(r,null,MicrodataProcessor.doubleNode):rdf.createLiteral(r)},object:function(e,r){return rdf.createNamedNode(r.resolve(e.getAttribute("data")))},time:function(e){var r=e.getAttribute("datetime"),t=e.getAttribute("lang");return 9===r.length?rdf.createLiteral(r,null,MicrodataProcessor.timeNode):20===r.length?rdf.createLiteral(r,null,MicrodataProcessor.dateTimeNode):"P"===r.substr(0,1)?rdf.createLiteral(r,null,MicrodataProcessor.durationNode):rdf.createLiteral(r,t?t:null)}},MicrodataProcessor.valueMappings.a=MicrodataProcessor.valueMappings.link,MicrodataProcessor.valueMappings.area=MicrodataProcessor.valueMappings.a,MicrodataProcessor.valueMappings.audio=MicrodataProcessor.valueMappings.media,MicrodataProcessor.valueMappings.data=MicrodataProcessor.valueMappings.number,MicrodataProcessor.valueMappings.embed=MicrodataProcessor.valueMappings.media,MicrodataProcessor.valueMappings.iframe=MicrodataProcessor.valueMappings.media,MicrodataProcessor.valueMappings.img=MicrodataProcessor.valueMappings.media,MicrodataProcessor.valueMappings.meter=MicrodataProcessor.valueMappings.number,MicrodataProcessor.valueMappings.source=MicrodataProcessor.valueMappings.media,MicrodataProcessor.valueMappings.track=MicrodataProcessor.valueMappings.media,MicrodataProcessor.valueMappings.video=MicrodataProcessor.valueMappings.media,MicrodataProcessor.prototype.getValue=function(e,r){var t=MicrodataProcessor.valueMappings[e.localName];return t?t(e,r):rdf.createLiteral(e.textContent)},MicrodataProcessor.prototype.process=function(e,r,t){var o=this;e.nodeType===e.DOCUMENT_NODE&&(e=e.documentElement),t=o.parseURI(t);var a=function(e,r,t,o){return{memory:e?e:{},subject:r,type:t,vocabulary:o}},c=function(e,c){for(var i,n,d,u,l,p,M=e.item.firstChild;M;M=M.nextSibling)M.nodeType===M.ELEMENT_NODE&&(n=M.getAttribute("itemprop"),d=M.hasAttribute("itemscope"),i=a(e.context.memory,e.context.subject,c,e.context.vocabulary),l=s({item:M,context:i}),n&&MicrodataProcessor.tokenize(n).forEach(function(a){u=MicrodataProcessor.absoluteURIRE.test(a)?rdf.createNamedNode(a):i.vocabulary?rdf.createNamedNode(i.vocabulary+a):rdf.createNamedNode(t.resolve("#"+a)),p=o.getValue(M,t),d&&(p=l),r(rdf.createTriple(e.context.subject,u,p))}))},i=function(e){var a,i,s=e.item.getAttribute("itemtype");MicrodataProcessor.tokenize(s).forEach(function(o){MicrodataProcessor.absoluteURIRE.test(o)&&(a||(a=o),r(rdf.createTriple(e.context.subject,MicrodataProcessor.typeNode,rdf.createNamedNode(t.resolve(o)))))}),a||(a=e.context.type),a&&(i=o.getVocabulary(a),i=i?i.namespaceURI:null),i&&(e.context.vocabulary=i),c(e,a)},s=function(e){var r=e.item.getAttribute("id"),o=e.item.getAttribute("itemid"),a=e.item.getAttribute("itemref"),c=e.item.hasAttribute("itemscope");return r in e.context.memory?e.context.memory[r].forEach(function(r){i({item:e.item,context:r})}):(c&&(o?e.context.subject=rdf.createNamedNode(t.resolve(o)):e.context.subject=rdf.createBlankNode(),MicrodataProcessor.tokenize(a).forEach(function(r){r in e.context.memory||(e.context.memory[r]=[]),e.context.memory[r].push(e.context)})),i(e)),e.context.subject};s({item:e,context:a(null,null,null,null)})};var MicrodataParser=function(e){var r=new MicrodataProcessor;this.process=function(t,o,a,c,i){return a=a||"",c=c||function(){return!0},i=i||function(){},r.process(e.parseHtml(t,a),o,a),i(!0),!0},this.parse=function(r,t,o,a,c){return c=c||e.createGraph(),this.process(r,function(e){c.add(e)},o,a,function(e){t(e?c:null)})}};module.exports=function(e){e.MicrodataParser=MicrodataParser.bind(null,e);var r=new MicrodataParser(e);e.parseMicrodata=r.parse.bind(r)};

},{"./uri-resolver":76}],68:[function(require,module,exports){
"use strict";var NTriplesSerializer=function(i){this.serialize=function(r,e){e=e||function(){};var l=i.Graph.toString(r);return e(l),l}};module.exports=function(i){i.NTriplesSerializer=NTriplesSerializer.bind(null,i);var r=new NTriplesSerializer(i);i.serializeNTriples=r.serialize.bind(r)};

},{}],69:[function(require,module,exports){
"use strict";var funcTemplate=function(e,r){return function(){var n=arguments;return new r(function(r,i){var t=function(e,n){n?i(n):r(e)};e(n,t)})}},ParserPromiseWrapper=function(e,r){this.process=funcTemplate(function(e,n){r.process(e[0],e[1],e[2],e[3],n)},e),this.parse=funcTemplate(function(e,n){r.parse(e[0],n,e[1],e[2],e[3])},e),this.parser=function(){return r}},SerializerPromiseWrapper=function(e,r){this.serialize=funcTemplate(function(e,n){r.serialize(e[0],n)},e),this.serializer=function(){return r}},StorePromiseWrapper=function(e,r){this.graph=funcTemplate(function(e,n){r.graph(e[0],n)},e),this.match=funcTemplate(function(e,n){r.match(e[0],e[1],e[2],e[3],n,e[5])},e),this.add=funcTemplate(function(e,n){r.add(e[0],e[1],n)},e),this.merge=funcTemplate(function(e,n){r.merge(e[0],e[1],n)},e),this.remove=funcTemplate(function(e,n){r.remove(e[0],e[1],n)},e),this.removeMatches=funcTemplate(function(e,n){r.removeMatches(e[0],e[1],e[2],e[3],n)},e),this["delete"]=funcTemplate(function(e,n){r["delete"](e[0],n)},e),this.store=function(){return r}},parsePromiseWrapper=function(e,r){return funcTemplate(function(e,n){r(e[0],n,e[1],e[2],e[3])},e)};module.exports=function(e){e.promise={},e.promise.Parser=ParserPromiseWrapper.bind(null,e.Promise),e.promise.Serializer=SerializerPromiseWrapper.bind(null,e.Promise),e.promise.Store=StorePromiseWrapper.bind(null,e.Promise),e.promise.parse=parsePromiseWrapper.bind(null,e.Promise)};

},{}],70:[function(require,module,exports){
"use strict";var RdfstoreStore=function(n){var t=this,e=n.rdf;t.graph=function(t,e){n.graph(t,function(n,t){e(n?t:null)})},t.match=function(n,e,o,r,c,u){t.graph(n,function(n){c(n?n.match(e,o,r,u):null)})},t.add=function(t,e,o){n.clear(t,function(){n.insert(e,t,function(n){n?o(e):o(null,"couldn'n insert graph")})})},t.merge=function(t,e,o){n.insert(e,t,function(n){n?o(e):o(null,"couldn'n insert graph")})},t.remove=function(n,o,r){t.graph(n,function(c){var u=e.Graph.difference(c,o);t.add(n,u,function(n){r(!!n)})})},t.removeMatches=function(n,e,o,r,c){t.graph(n,function(u){var i=u.removeMatches(e,o,r);t.add(n,i,function(n){c(!!n)})})},t["delete"]=function(t,e){n.clear(t,function(n){n?e(!0):e(null,"couldn'n delete graph")})}};module.exports=function(n){n.RdfstoreStore=RdfstoreStore};

},{}],71:[function(require,module,exports){
var RdfLibParser=function(e){var t={};t.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},t.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.frameFactory=function(e,n,i){return{NODE:1,ARC:2,parent:n,parser:e,store:e.store,element:i,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=uriJoin(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(uriJoin("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===t.ns.RDF+"li"&&(e=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype?this.node=this.store.literal(e,"",this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(e,t,n){var i=null;if(e.getAttributeNodeNS)i=e.getAttributeNodeNS(t,n);else for(var r,s,a=e.attributes,o=0;o<a.length;++o)if(r=a[o],r.namespaceURI===t&&(s=r.prefix?r.prefix+":"+n:n,s===r.nodeName)){i=r;break}return i},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,n,i){var r=e.childNodes;this.cleanParser();var s;if(e.nodeType===t.nodeType.DOCUMENT){for(var a=0;a<r.length;a++)if(r[a].nodeType===t.nodeType.ELEMENT){s=r[a];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+n+". Halting. ");s=e}this.why=i;var o=this.frameFactory(this);return this.base=n,o.base=n,o.lang="",this.parseDOM(this.buildFrame(o,s)),!0},this.parseDOM=function(e){for(var n,i=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(t+=e.nodeName.indexOf(":")>=0?e.nodeName.split(":")[1]:e.nodeName),t}.bind(this),r=!0;e.parent;){var s=e.element,a=s.attributes;if(s.nodeType===t.nodeType.TEXT||s.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType==e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(s.nodeValue);else if(i(s)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(i(s)),this.reify&&(n=this.getAttributeNodeNS(s,t.ns.RDF,"ID"),n&&(e.rdfid=n.nodeValue,s.removeAttributeNode(n)));var o=this.getAttributeNodeNS(s,t.ns.RDF,"parseType"),d=this.getAttributeNodeNS(s,t.ns.RDF,"datatype");if(d&&(e.datatype=d.nodeValue,s.removeAttributeNode(d)),o){var l=o.nodeValue;"Literal"===l?(e.datatype=t.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(s),r=!1):"Resource"===l?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):"Collection"===l&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),s.removeAttributeNode(o)}if(0!==a.length){var h=this.getAttributeNodeNS(s,t.ns.RDF,"resource"),u=this.getAttributeNodeNS(s,t.ns.RDF,"nodeID");e=this.buildFrame(e),h?(e.addNode(h.nodeValue),s.removeAttributeNode(h)):u?(e.addBNode(u.nodeValue),s.removeAttributeNode(u)):e.addBNode();for(var p=a.length-1;p>=0;p--){var f=this.buildFrame(e);f.addArc(i(a[p])),i(a[p])===t.ns.RDF+"type"?this.buildFrame(f).addNode(a[p].nodeValue):this.buildFrame(f).addLiteral(a[p].nodeValue)}}else 0===s.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var c=this.getAttributeNodeNS(s,t.ns.RDF,"about");if(n=this.getAttributeNodeNS(s,t.ns.RDF,"ID"),c&&n)throw new Error("RDFParser: "+s.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!c&&n)e.addNode("#"+n.nodeValue),s.removeAttributeNode(n);else if(null==c&&null==n){var N=this.getAttributeNodeNS(s,t.ns.RDF,"nodeID");N?(e.addBNode(N.nodeValue),s.removeAttributeNode(N)):e.addBNode()}else e.addNode(c.nodeValue),s.removeAttributeNode(c);var m=this.getAttributeNodeNS(s,t.ns.RDF,"type");t.ns.RDF+"Description"!==i(s)&&(m={nodeValue:i(s)}),null!=m&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(uriJoin(m.nodeValue,e.base)),this.why),m.nodeName&&s.removeAttributeNode(m));for(var T=a.length-1;T>=0;T--)this.store.add(e.node,this.store.sym(i(a[T])),this.store.literal(a[T].nodeValue,e.lang),this.why)}for(s=e.element;e.parent;){for(var y=e;null==s;)e=e.parent,s=e.element;var b=s.childNodes&&s.childNodes[e.lastChild];if(b&&r){if((b.nodeType===t.nodeType.ELEMENT||b.nodeType===t.nodeType.TEXT||b.nodeType===t.nodeType.CDATA_SECTION)&&(b.nodeType!==t.nodeType.TEXT&&b.nodeType!==t.nodeType.CDATA_SECTION||1===s.childNodes.length)){e.lastChild++,e=this.buildFrame(y,s.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;s=e.element,r=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,n){var i=this.frameFactory(this,e,n);if(e&&(i.base=e.base,i.lang=e.lang),!n||n.nodeType===t.nodeType.TEXT||n.nodeType===t.nodeType.CDATA_SECTION)return i;var r=n.attributes,s=n.getAttributeNode("xml:base");null!=s&&(i.base=s.nodeValue,n.removeAttribute("xml:base"));var a=n.getAttributeNode("xml:lang");null!=a&&(i.lang=a.nodeValue,n.removeAttribute("xml:lang"));for(var o=r.length-1;o>=0;o--)if("xml"===r[o].nodeName.substr(0,3)){if("xmlns:"===r[o].name.slice(0,6)){var d=r[o].nodeValue;this.base&&(d=uriJoin(d,this.base)),this.store.setPrefixForURI(r[o].name.slice(6),d)}n.removeAttributeNode(r[o])}return i}},uriJoin=function(e,t){var n,i,r,s,a,o,d;if(i=t.indexOf("#"),i>0&&(t=t.slice(0,i)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(a=e.indexOf(":"),a>=0)return e;if(n=t.indexOf(":"),0===t.length)return e;if(0>n)return alert("Invalid base: "+t+" in join with given: "+e),e;if(r=t.slice(0,+n+1||9e9),0===e.indexOf("//"))return r+e;if(t.indexOf("//",n)===n+1){if(s=t.indexOf("/",n+3),0>s)return t.length-n-3>0?t+"/"+e:r+e}else if(s=t.indexOf("/",n+1),0>s)return t.length-n-1>0?t+"/"+e:r+e;if(0===e.indexOf("/"))return t.slice(0,s)+e;if(d=t.slice(s),o=d.lastIndexOf("/"),0>o)return r+e;for(o>=0&&o<d.length-1&&(d=d.slice(0,+o+1||9e9)),d+=e;d.match(/[^\/]*\/\.\.\//);)d=d.replace(/[^\/]*\/\.\.\//,"");return d=d.replace(/\.\//g,""),d=d.replace(/\/\.$/,"/"),t.slice(0,s)+d},RdfXmlParser=function(e){this.process=function(t,n,i,r,s){"string"==typeof t&&(t=e.parseXml(t)),i=i||"",r=r||function(){return!0};var a=function(e){for(var t="",n=0;n<e.length;n++)t+=e[n].toString();return t},o={};return o.add=function(t,i,s){var a=e.createTriple(t,i,s);r(a)&&n(a)},o.bnode=function(){return e.createBlankNode()},o.literal=function(t,n,i){return i&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===i.toString()&&(t=a(t.childNodes)),e.createLiteral(t,n,i)},o.setPrefixForURI=function(){},o.sym=function(t){return e.createNamedNode(t)},new RdfLibParser(o).parse(t,i),s(!0),!0},this.parse=function(t,n,i,r,s){return s=s||e.createGraph(),this.process(t,function(e){s.add(e)},i,r,function(e){n(e?s:null)})}};module.exports=function(e){e.RdfXmlParser=RdfXmlParser.bind(null,e);var t=new RdfXmlParser(e);e.parseRdfXml=t.parse.bind(t),e.utils.mimeTypeParserMap["application/rdf+xml"]=e.parseRdfXml};

},{}],72:[function(require,module,exports){
"use strict";var SingleGraphStore=function(e,t){this.graph=function(e,n){n(t)},this.match=function(e,n,i,o,c,h){c(t.match(n,i,o,h))},this.add=function(e,n,i){i(t=n)},this.merge=function(e,n,i){t.addAll(n),i(n)},this.remove=function(n,i,o){t=e.difference(t,i),o(!0)},this.removeMatches=function(e,n,i,o,c){t.removeMatches(n,i,o),c(!0)},this["delete"]=function(e,n){t.removeMatches(),n(!0)}};module.exports=function(e){e.SingleGraphStore=SingleGraphStore.bind(null,e)};

},{}],73:[function(require,module,exports){
"use strict";var SparqlStore=function(e,r){var t=this;r=r||{},t.endpointUrl=r.endpointUrl,t.updateUrl=r.updateUrl||t.endpointUrl,t.mimeType=r.mimeType||"text/turtle",t.serialize=r.serialize||e.serializeNTriples,t.parse=r.parse||e.parseTurtle,t.request=r.request||e.defaultRequest;var n=function(e){return e>=200&&300>e},u=function(e,r,t){var n="",u=function(e){return"string"==typeof e?"_:"===e.substr(0,2)?e:"<"+e+">":e.toNT()};return n+=e?u(e):"?s",n+=r?" "+u(r):" ?p",n+=t?" "+u(t):" ?o"};t.graph=function(e,r){t.match(e,null,null,null,r)},t.match=function(e,r,i,l,o,a){var s=u(r,i,l),p="CONSTRUCT { "+s+" } { GRAPH <"+e+"> {"+s+" }}",c=t.endpointUrl+"?query="+encodeURIComponent(p);t.request("GET",c,{Accept:t.mimeType},null,function(e,r,u,i){return i?o(null,"request error: "+i):n(e)?void t.parse(u,o):o(null,"status code error: "+e)})};var i=function(e,r,u){t.request("POST",t.updateUrl,{"Content-Type":"application/sparql-update"},e,function(e,t,i,l){return l?u(null,"request error: "+l):n(e)?void u(r):u(null,"status code error: "+e)})};t.add=function(e,r,n){var u="DROP SILENT GRAPH <"+e+">;INSERT DATA { GRAPH <"+e+"> { "+t.serialize(r)+" } }";i(u,r,n)},t.merge=function(e,r,n){var u="INSERT DATA { GRAPH <"+e+"> { "+t.serialize(r)+" } }";i(u,r,n)},t.remove=function(e,r,n){var u="DELETE DATA FROM <"+e+"> { "+t.serialize(r)+" }";i(u,!0,n)},t.removeMatches=function(e,r,t,n,l){var o="DELETE FROM GRAPH <"+e+"> WHERE { "+u(r,t,n)+" }";i(o,!0,l)},t["delete"]=function(e,r){var t="CLEAR  GRAPH <"+e+">";i(t,!0,r)}};module.exports=function(e){e.SparqlStore=SparqlStore.bind(null,e)};

},{}],74:[function(require,module,exports){
"use strict";var N3=require("n3"),TurtleParser=function(e,r){r=r||{},"importPrefixMap"in r||(r.importPrefixMap=!0),this.process=function(t,i,a,n,u){var l={};l.documentIRI=a,n=n||function(){return!0},u=u||function(){};var s=N3.Parser(l),p={};return s.parse(t,function(t,a,l){if(t)return u(!1,t);if(r.importPrefixMap&&l&&Object.keys(l).forEach(function(r){e.prefixes[r]=l[r]}),!a)return u(!0);var s=function(r){if(N3.Util.isIRI(r))return e.createNamedNode(r);if(N3.Util.isBlank(r))return r in p?p[r]:p[r]=e.createBlankNode();var t=N3.Util.getLiteralLanguage(r),i=N3.Util.getLiteralType(r);return""===t&&(t=null),"http://www.w3.org/2001/XMLSchema#string"===i&&(i=null),e.createLiteral(N3.Util.getLiteralValue(r),t,i?e.createNamedNode(i):null)},c=function(r){var t=e.createTriple(s(r.subject),s(r.predicate),s(r.object));n(t)&&i(t)};c(a)}),!0},this.parse=function(r,t,i,a,n){return n=n||e.createGraph(),this.process(r,function(e){n.add(e)},i,a,function(e,r){t(e?n:null,r)})}};module.exports=function(e){e.TurtleParser=TurtleParser.bind(null,e),e.NTriplesParser=TurtleParser.bind(null,e);var r=new TurtleParser(e);e.parseTurtle=r.parse.bind(r),e.parseNTriples=r.parse.bind(r),e.utils.mimeTypeParserMap["application/n-triples"]=e.parseNTriples,e.utils.mimeTypeParserMap["text/n3"]=e.parseTurtle,e.utils.mimeTypeParserMap["text/turtle"]=e.parseTurtle};

},{"n3":47}],75:[function(require,module,exports){
"use strict";var N3=require("n3"),TurtleSerializer=function(e,i){i=i||{},i.usePrefixMap=i.usePrefixMap||!0,this.serialize=function(r,n){var a,t={};n=n||function(){},i.usePrefixMap&&(t.prefixes={},Object.keys(e.prefixes).forEach(function(i){"string"==typeof e.prefixes[i]&&(t.prefixes[i]=e.prefixes[i])})),a=N3.Writer(t);var l=function(e){return"NamedNode"===e.interfaceName.toString()?e.nominalValue:"BlankNode"===e.interfaceName.toString()?"_:"+e.nominalValue:e.datatype?'"'+e.nominalValue+'"^^'+e.datatype.nominalValue:e.language?'"'+e.nominalValue+'"@'+e.language:'"'+e.nominalValue+'"'};return r.forEach(function(e){a.addTriple(l(e.subject),l(e.predicate),l(e.object))}),a.end(function(e,i){e?n(null,e):n(i)}),!0}};module.exports=function(e){e.TurtleSerializer=TurtleSerializer.bind(null,e);var i=new TurtleSerializer(e);e.serializeTurtle=i.serialize.bind(i)};

},{"n3":47}],76:[function(require,module,exports){
"use strict";var URIResolver=function(){};URIResolver.SCHEME=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/,URIResolver.prototype.parseURI=function(t){var e=URIResolver.SCHEME.exec(t);if(!e)throw"Bad URI value, no scheme: "+t;var s={spec:t};return s.scheme=e[0].substring(0,e[0].length-1),s.schemeSpecificPart=s.spec.substring(e[0].length),"/"==s.schemeSpecificPart.charAt(0)&&"/"==s.schemeSpecificPart.charAt(1)?this.parseGeneric(s):s.isGeneric=!1,s.normalize=function(){if(this.isGeneric&&0!=this.segments.length){if(this.path.length>1&&"/."==this.path.substring(this.path.length-2))return this.path=this.path.substring(0,this.path.length-1),this.segments.splice(this.segments.length-1,1),this.schemeSpecificPart="//"+this.authority+this.path,"undefined"!=typeof this.query&&(this.schemeSpecificPart+="?"+this.query),"undefined"!=typeof this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),void(this.spec=this.scheme+":"+this.schemeSpecificPart);var t=this.path.charAt(this.path.length-1);"/"!=t&&(t="");for(var e=0;e<this.segments.length;e++)e>0&&".."==this.segments[e]&&(this.segments.splice(e-1,2),e-=2),"."==this.segments[e]&&(this.segments.splice(e,1),e--);this.path=0==this.segments.length?"/":"/"+this.segments.join("/")+t,this.schemeSpecificPart="//"+this.authority+this.path,"undefined"!=typeof this.query&&(this.schemeSpecificPart+="?"+this.query),"undefined"!=typeof this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),this.spec=this.scheme+":"+this.schemeSpecificPart}},s.resolve=function(t){if(!t)return this.spec;if("#"==t.charAt(0)){var e=this.spec.lastIndexOf("#");return 0>e?this.spec+t:this.spec.substring(0,e)+t}if(!this.isGeneric)throw"Cannot resolve uri against non-generic URI: "+this.spec;t.indexOf(":");if("/"==t.charAt(0))return this.scheme+"://"+this.authority+t;if("."==t.charAt(0)&&"/"==t.charAt(1)){if("/"==this.path.charAt(this.path.length-1))return this.scheme+"://"+this.authority+this.path+t.substring(2);var s=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,s)+t.substring(1)}if(URIResolver.SCHEME.test(t))return t;if("?"==t.charAt(0))return this.scheme+"://"+this.authority+this.path+t;if("/"==this.path.charAt(this.path.length-1))return this.scheme+"://"+this.authority+this.path+t;var s=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,s+1)+t},s.relativeTo=function(t){if(t.scheme!=this.scheme)return this.spec;if(!this.isGeneric)throw"A non generic URI cannot be made relative: "+this.spec;if(!t.isGeneric)throw"Cannot make a relative URI against a non-generic URI: "+t.spec;if(t.authority!=this.authority)return this.spec;for(var e=0;e<this.segments.length&&e<t.segments.length;e++)if(this.segments[e]!=t.segments[e]){for(var s="",h=e;h<t.segments.length;h++)s+="../";for(var h=e;h<this.segments.length;h++)s+=this.segments[h],h+1<this.segments.length&&(s+="/");return"/"==this.path.charAt(this.path.length-1)&&(s+="/"),s}if(this.segments.length==t.segments.length)return this.hash?this.hash:this.query?this.query:"";if(e<this.segments.length){for(var s="",h=e;h<this.segments.length;h++)s+=this.segments[h],h+1<this.segments.length&&(s+="/");return"/"==this.path.charAt(this.path.length-1)&&(s+="/"),s}throw"Cannot calculate a relative URI for "+this.spec+" against "+t.spec},s},URIResolver.prototype.parseGeneric=function(t){if("/"!=t.schemeSpecificPart.charAt(0)||"/"!=t.schemeSpecificPart.charAt(1))throw"Generic URI values should start with '//':"+t.spec;var e=t.schemeSpecificPart.substring(2),s=e.indexOf("/");t.authority=0>s?e:e.substring(0,s),t.path=0>s?"":e.substring(s);var h=t.path.indexOf("#");h>=0&&(t.fragment=t.path.substring(h+1),t.path=t.path.substring(0,h));var i=t.path.indexOf("?");if(i>=0&&(t.query=t.path.substring(i+1),t.path=t.path.substring(0,i)),"/"==t.path||""==t.path)t.segments=[];else{t.segments=t.path.split(/\//),t.segments.length>0&&""==t.segments[0]&&t.path.length>1&&"/"!=t.path.charAt(1)&&t.segments.shift(),t.segments.length>0&&t.path.length>0&&"/"==t.path.charAt(t.path.length-1)&&""==t.segments[t.segments.length-1]&&t.path.length>1&&"/"!=t.path.charAt(t.path.length-2)&&t.segments.pop();for(var r=0;r<t.segments.length;r++)for(var n=t.segments[r].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/),a=0;a<n.length;a++)if(n[a].length>0)throw"Unecaped character "+n[a].charAt(0)+" ("+n[a].charCodeAt(0)+") in URI "+t.spec}t.isGeneric=!0},module.exports=URIResolver;

},{}],77:[function(require,module,exports){
"use strict";var utils={};utils.defaultRequest=function(e,t,s,r,u){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===n.DONE){for(var e=n.getAllResponseHeaders().split("\r\n"),t={},s=0;s<e.length;s++){var r=e[s].split(": ",2);t[r[0].toLowerCase()]=r[1]}u(n.status,t,n.responseText)}},n.open(e,t,!0);for(var a in s)n.setRequestHeader(a,s[a]);n.send(r)},utils.corsProxyRequest=function(e,t,s,r,u,n){var a=e+"?url="+encodeURIComponent(s);utils.defaultRequest(t,a,r,u,n)},utils.parseHtml=function(e,t){var s=new DOMParser;return s.parseFromString(e,"text/html")},utils.parseXml=function(e,t){var s=new DOMParser;return s.parseFromString(e,"application/xml")},utils.mixin=function(e){e.defaultRequest=utils.defaultRequest,e.corsProxyRequest=utils.corsProxyRequest,e.parseHtml=utils.parseHtml,e.parseXml=utils.parseXml},module.exports=utils.mixin;

},{}],78:[function(require,module,exports){
"use strict";var http=require("http"),https=require("https"),url=require("url"),utils={};utils.defaultRequest=function(t,e,r,u,s){var i=url.parse(e),l=http;i.hash=null,i.method=t,i.headers=r,"https:"===i.protocol&&(l=https);var n=l.request(i,function(t){var e="";t.setEncoding("utf8"),t.on("data",function(t){e+=t}),t.on("end",function(){s(t.statusCode,t.headers,e)})});n.on("error",function(t){s(null,null,null,t)}),u&&n.write(u),n.end()},utils.parseHtml=function(t,e){var r=new(require("xmldom").DOMParser);return r.parseFromString(t,"text/html")},utils.parseXml=function(t,e){var r=new(require("xmldom").DOMParser);return r.parseFromString(t,"application/xml")},utils.mixin=function(t){t.Promise=t.Promise||require("es6-promise").Promise,t.defaultRequest=utils.defaultRequest,t.parseHtml=utils.parseHtml,t.parseXml=utils.parseXml},module.exports=utils.mixin;

},{"es6-promise":21,"http":27,"https":30,"url":118,"xmldom":154}],79:[function(require,module,exports){
"use strict";var utils={};utils.filter={},utils.filter.namedNode=function(e){return"NamedNode"===e.interfaceName},utils.filter.blankNode=function(e){return"BlankNode"===e.interfaceName},utils.filter.literal=function(e){return"Literal"===e.interfaceName},utils.filter.namedNodeSubject=function(e){return function(t){return"NamedNode"!==t.subject.interfaceName||t.subject.equals(e)}},utils.list={},utils.list.tripleParts=function(e,t,i){var a={};return i=i||function(){return!0},e.forEach(function(e){a[e[t].toNT()]=e[t]}),a=Object.keys(a).map(function(e){return a[e]}).filter(function(e){return i(e)})},utils.list.subjects=function(e,t){return utils.list.tripleParts(e,"subject",t)},utils.list.predicates=function(e,t){return utils.list.tripleParts(e,"predicate",t)},utils.list.objects=function(e,t){return utils.list.tripleParts(e,"object",t)},utils.createSubGraph=function(e,t,i,a){var r={},u=e.createGraph(),l=function(i){if(0!==i.length){var s=[],n=e.createGraph();i.forEach(function(e){n.addAll(t.match(e))}),a&&(n=n.filter(a)),n.forEach(function(e){var t=e.object.toNT();t in r||(s.push(e.object),r[t]=!0)}),u.addAll(n),l(s)}};return l([i]),u},utils.createSubGraphByNamedNodeSubject=function(e,t,i){return e.utils.createSubGraph(t,i,utils.filter.namedNodeSubject(i))},utils.splitGraphByNamedNodeSubject=function(e,t,i){i=i||new e.promise.Store(e.createStore());var a=[];return utils.list.subjects(t,utils.filter.namedNode).forEach(function(r){a.push(i.add(r,utils.createSubGraphByNamedNodeSubject(e,t,r)))}),Promise.all(a).then(function(){return i})},utils.mapNamespaceNode=function(e,t,i,a){return"NamedNode"!==t.interfaceName?t:0!==t.nominalValue.toString().indexOf(i)?t:e.createNamedNode(a+t.nominalValue.toString().substr(i.length))},utils.mapNamespaceTriple=function(e,t,i,a){return e.createTriple(utils.mapNamespaceNode(e,t.subject,i,a),utils.mapNamespaceNode(e,t.predicate,i,a),utils.mapNamespaceNode(e,t.object,i,a))},utils.mapNamespaceGraph=function(e,t,i,a){var r=e.createGraph();return t.forEach(function(t){r.add(utils.mapNamespaceTriple(e,t,i,a))}),r},utils.mimeTypeParserMap={},utils.parse=function(e,t,i,a,r){return e in utils.mimeTypeParserMap?rdf.promise.parse(utils.mimeTypeParserMap[e])(t,i,a,r):Promise.reject("no parser available for mime type: "+e)},utils.mixin=function(e){e.utils={},e.utils.filter=utils.filter,e.utils.list=utils.list,e.utils.createSubGraph=utils.createSubGraph.bind(null,e),e.utils.createSubGraphByNamedNodeSubject=utils.createSubGraphByNamedNodeSubject.bind(null,e),e.utils.splitGraphByNamedNodeSubject=utils.splitGraphByNamedNodeSubject.bind(null,e),e.utils.mapNamespaceNode=utils.mapNamespaceNode.bind(null,e),e.utils.mapNamespaceTriple=utils.mapNamespaceTriple.bind(null,e),e.utils.mapNamespaceGraph=utils.mapNamespaceGraph.bind(null,e),e.utils.mimeTypeParserMap=utils.mimeTypeParserMap,e.utils.parse=utils.parse},module.exports=utils.mixin;

},{}],80:[function(require,module,exports){

},{}],81:[function(require,module,exports){
(function (process,global,__dirname){
!function(){var e="undefined"!=typeof process&&process.versions&&process.versions.node,n=!e&&("undefined"!=typeof window||"undefined"!=typeof self);n&&"undefined"==typeof global&&("undefined"!=typeof window?global=window:"undefined"!=typeof self?global=self:"undefined"!=typeof $&&(global=$));var t=function(t){function r(){}function a(e){for(var n=[],t=Object.keys(e).sort(),r=0;r<t.length;++r){var a=t[r],o=e[a];P(o)||(o=[o]);for(var i=0;i<o.length;++i){var l=o[i];if(!F(l))throw new De("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});n.push({"@value":l,"@language":a.toLowerCase()})}}return n}function o(e,n){if(P(n))for(var t=0;t<n.length;++t)n[t]=o(e,n[t]);else if(Y(n))n["@list"]=o(e,n["@list"]);else if(J(n)){Z(n)&&(n["@id"]=e.getName(n["@id"]));for(var r=Object.keys(n).sort(),a=0;a<r.length;++a){var i=r[a];"@id"!==i&&(n[i]=o(e,n[i]))}}return n}function i(e,n,r){if(null===r||void 0===r)return null;var a=R(e,n,{vocab:!0});if("@id"===a)return R(e,r,{base:!0});if("@type"===a)return R(e,r,{vocab:!0,base:!0});var o=t.getContextValue(e,n,"@type");if("@id"===o||"@graph"===a&&F(r))return{"@id":R(e,r,{base:!0})};if("@vocab"===o)return{"@id":R(e,r,{vocab:!0,base:!0})};if(q(a))return r;var i={};if(null!==o)i["@type"]=o;else if(F(r)){var l=t.getContextValue(e,n,"@language");null!==l&&(i["@language"]=l)}return-1===["boolean","number","string"].indexOf(typeof r)&&(r=r.toString()),i["@value"]=r,i}function l(e,n,t){for(var r=[],a=Object.keys(e).sort(),o=0;o<a.length;++o)for(var i=a[o],l=e[i],c=Object.keys(l).sort(),d=0;d<c.length;++d){var f=c[d],p=l[f];if("@type"===f)f=ke;else if(q(f))continue;for(var v=0;v<p.length;++v){var h=p[v],g={};if(g.type=0===i.indexOf("_:")?"blank node":"IRI",g.value=i,K(i)){var y={};if(y.type=0===f.indexOf("_:")?"blank node":"IRI",y.value=f,K(f)&&("blank node"!==y.type||t.produceGeneralizedRdf))if(Y(h))u(h["@list"],n,g,y,r);else{var m=s(h);m&&r.push({subject:g,predicate:y,object:m})}}}}return r}function u(e,n,t,r,a){for(var o={type:"IRI",value:we},i={type:"IRI",value:je},l={type:"IRI",value:Oe},u=0;u<e.length;++u){var c=e[u],d={type:"blank node",value:n.getName()};a.push({subject:t,predicate:r,object:d}),t=d,r=o;var f=s(c);f&&a.push({subject:t,predicate:r,object:f}),r=i}a.push({subject:t,predicate:r,object:l})}function s(e){var n={};if(G(e)){n.type="literal";var t=e["@value"],r=e["@type"]||null;B(t)?(n.value=t.toString(),n.datatype=r||he):z(t)||r===ge?(z(t)||(t=parseFloat(t)),n.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),n.datatype=r||ge):M(t)?(n.value=t.toFixed(0),n.datatype=r||ye):"@language"in e?(n.value=t,n.datatype=r||Ee,n.language=e["@language"]):(n.value=t,n.datatype=r||me)}else{var a=J(e)?e["@id"]:e;n.type=0===a.indexOf("_:")?"blank node":"IRI",n.value=a}return"IRI"!==n.type||K(n.value)?n:null}function c(e,n){if("IRI"===e.type||"blank node"===e.type)return{"@id":e.value};var t={"@value":e.value};if(e.language)t["@language"]=e.language;else{var r=e.datatype;if(r||(r=me),n){if(r===he)"true"===t["@value"]?t["@value"]=!0:"false"===t["@value"]&&(t["@value"]=!1);else if(H(t["@value"]))if(r===ye){var a=parseInt(t["@value"],10);a.toFixed(0)===t["@value"]&&(t["@value"]=a)}else r===ge&&(t["@value"]=parseFloat(t["@value"]));-1===[he,ye,ge,me].indexOf(r)&&(t["@type"]=r)}else r!==me&&(t["@type"]=r)}return t}function d(e,n){for(var t=["subject","predicate","object"],r=0;r<t.length;++r){var a=t[r];if(e[a].type!==n[a].type||e[a].value!==n[a].value)return!1}return e.object.language!==n.object.language?!1:e.object.datatype!==n.object.datatype?!1:!0}function f(e,n){if("hash"in n[e])return n[e].hash;for(var t=n[e].quads,r=[],a=0;a<t.length;++a)r.push(ae(t[a],t[a].name?t[a].name.value:null,e));r.sort();var o=n[e].hash=Te.hash(r);return o}function p(e,n,r,a,o){function i(o){if(o===d.length)return u=Object.keys(c).sort(),l(0);var s=d[o],p=v(s.subject,e),h=null;if(null!==p?h="p":(p=v(s.object,e),null!==p&&(h="r")),null!==p){var g;g=r.isNamed(p)?r.getName(p):a.isNamed(p)?a.getName(p):f(p,n);var y=Te.create();y.update(h),y.update(s.predicate.value),y.update(g);var m=y.digest();m in c?c[m].push(p):c[m]=[p]}t.setImmediate(function(){i(o+1)})}function l(e){function i(){function u(e){if(e===m.length)return c(!1);var t=m[e];p(t,n,r,g,function(n,r){return n?o(n):(y+=g.getName(t)+"<"+r.hash+">",g=r.pathNamer,null!==f&&y.length>=f.length&&y>f?c(!0):void u(e+1))})}function c(n){!n&&(null===f||f>y)&&(f=y,v=g),h.hasNext()?t.setImmediate(function(){i()}):(s.update(f),a=v,l(e+1))}var d=h.next(),g=a.clone(),y="",m=[];for(var x in d){var b=d[x];if(r.isNamed(b)?y+=r.getName(b):(g.isNamed(b)||m.push(b),y+=g.getName(b)),null!==f&&y.length>=f.length&&y>f)return c(!0)}u(0)}if(e===u.length)return o(null,{hash:s.digest(),pathNamer:a});var d=u[e];s.update(d);var f=null,v=null,h=new Ue(c[d]);t.setImmediate(function(){i()})}var u,s=Te.create(),c={},d=n[e].quads;t.setImmediate(function(){i(0)})}function v(e,n){return"blank node"===e.type&&e.value!==n?e.value:null}function h(e,n,r,a,o,i){if(P(e))for(var l=0;l<e.length;++l)h(e[l],n,r,a,void 0,i);else{if(!J(e))return void(i&&i.push(e));if(G(e)){if("@type"in e){var u=e["@type"];0===u.indexOf("_:")&&(e["@type"]=u=a.getName(u))}return void(i&&i.push(e))}if("@type"in e)for(var s=e["@type"],l=0;l<s.length;++l){var u=s[l];0===u.indexOf("_:")&&a.getName(u)}X(o)&&(o=Z(e)?a.getName(e["@id"]):e["@id"]),i&&i.push({"@id":o});var c=n[r],d=c[o]=c[o]||{};d["@id"]=o;for(var f=Object.keys(e).sort(),p=0;p<f.length;++p){var v=f[p];if("@id"!==v)if("@reverse"!==v)if("@graph"!==v)if("@type"!==v&&q(v)){if("@index"===v&&v in d&&(e[v]!==d[v]||e[v]["@id"]!==d[v]["@id"]))throw new De("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:d});d[v]=e[v]}else{var g=e[v];if(0===v.indexOf("_:")&&(v=a.getName(v)),0!==g.length)for(var y=0;y<g.length;++y){var m=g[y];if("@type"===v&&(m=0===m.indexOf("_:")?a.getName(m):m),Q(m)||$(m)){var x=Z(m)?a.getName(m["@id"]):m["@id"];t.addValue(d,v,{"@id":x},{propertyIsArray:!0,allowDuplicate:!1}),h(m,n,r,a,x)}else if(Y(m)){var b=[];h(m["@list"],n,r,a,o,b),m={"@list":b},t.addValue(d,v,m,{propertyIsArray:!0,allowDuplicate:!1})}else h(m,n,r,a,o),t.addValue(d,v,m,{propertyIsArray:!0,allowDuplicate:!1})}else t.addValue(d,v,[],{propertyIsArray:!0})}else{o in n||(n[o]={});var w="@merged"===r?r:o;h(e[v],n,w,a)}else{var j={"@id":o},O=e["@reverse"];for(var k in O)for(var I=O[k],L=0;L<I.length;++L){var S=I[L],E=S["@id"];Z(S)&&(E=a.getName(E)),h(S,n,r,a,E),t.addValue(c[E],k,j,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function g(e){for(var n=e["@default"],t=Object.keys(e).sort(),r=0;r<t.length;++r){var a=t[r];if("@default"!==a){var o=e[a],i=n[a];i?"@graph"in i||(i["@graph"]=[]):n[a]=i={"@id":a,"@graph":[]};for(var l=i["@graph"],u=Object.keys(o).sort(),s=0;s<u.length;++s){var c=o[u[s]];$(c)||l.push(c)}}}return n}function y(e,n,t,r,a){w(t),t=t[0];for(var o=e.options,i={embed:b(t,o,"embed"),explicit:b(t,o,"explicit"),requireAll:b(t,o,"requireAll")},l=j(e,n,t,i),u=Object.keys(l).sort(),s=0;s<u.length;++s){var c=u[s],d=l[c];if("@link"===i.embed&&c in e.link)I(r,a,e.link[c]);else{null===a&&(e.uniqueEmbeds={});var f={};if(f["@id"]=c,e.link[c]=f,"@never"===i.embed||x(d,e.subjectStack))I(r,a,f);else{"@last"===i.embed&&(c in e.uniqueEmbeds&&k(e,c),e.uniqueEmbeds[c]={parent:r,property:a}),e.subjectStack.push(d);for(var p=Object.keys(d).sort(),v=0;v<p.length;v++){var h=p[v];if(q(h))f[h]=W(d[h]);else if(!i.explicit||h in t)for(var g=d[h],O=0;O<g.length;++O){var L=g[O];if(Y(L)){var S={"@list":[]};I(f,h,S);var E=L["@list"];for(var N in E)if(L=E[N],$(L)){var C=h in t?t[h][0]["@list"]:m(i);y(e,[L["@id"]],C,S,"@list")}else I(S,"@list",W(L))}else if($(L)){var C=h in t?t[h]:m(i);y(e,[L["@id"]],C,f,h)}else I(f,h,W(L))}}for(var p=Object.keys(t).sort(),v=0;v<p.length;++v){var h=p[v];if(!q(h)){var D=t[h][0],R=b(D,o,"omitDefault");if(!(R||h in f)){var U="@null";"@default"in D&&(U=W(D["@default"])),P(U)||(U=[U]),f[h]=[{"@preserve":U}]}}}I(r,a,f),e.subjectStack.pop()}}}}function m(e){var n={};for(var t in e)void 0!==e[t]&&(n["@"+t]=[e[t]]);return[n]}function x(e,n){for(var t=n.length-1;t>=0;--t)if(n[t]["@id"]===e["@id"])return!0;return!1}function b(e,n,t){var r="@"+t,a=r in e?e[r][0]:n[t];return"embed"===t&&(a===!0?a="@last":a===!1?a="@never":"@always"!==a&&"@never"!==a&&"@link"!==a&&(a="@last")),a}function w(e){if(!P(e)||1!==e.length||!J(e[0]))throw new De("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function j(e,n,t,r){for(var a={},o=0;o<n.length;++o){var i=n[o],l=e.subjects[i];O(l,t,r)&&(a[i]=l)}return a}function O(e,n,r){if("@type"in n&&(1!==n["@type"].length||!J(n["@type"][0]))){for(var a=n["@type"],o=0;o<a.length;++o)if(t.hasValue(e,"@type",a[o]))return!0;return!1}var i=!0,l=!1;for(var u in n){if(q(u)){if("@id"!==u&&"@type"!==u)continue;if(i=!1,"@id"===u&&F(n[u])){if(e[u]!==n[u])return!1;l=!0;continue}}if(i=!1,u in e){if(P(n[u])&&0===n[u].length&&void 0!==e[u])return!1;l=!0}else{var s=P(n[u])&&J(n[u][0])&&"@default"in n[u][0];if(r.requireAll&&!s)return!1}}return i||l}function k(e,n){var r=e.uniqueEmbeds,a=r[n],o=a.parent,i=a.property,l={"@id":n};if(P(o)){for(var u=0;u<o.length;++u)if(t.compareValues(o[u],l)){o[u]=l;break}}else{var s=P(o[i]);t.removeValue(o,i,l,{propertyIsArray:s}),t.addValue(o,i,l,{propertyIsArray:s})}var c=function(e){for(var n=Object.keys(r),t=0;t<n.length;++t){var a=n[t];a in r&&J(r[a].parent)&&r[a].parent["@id"]===e&&(delete r[a],c(a))}};c(n)}function I(e,n,r){J(e)?t.addValue(e,n,r,{propertyIsArray:!0}):e.push(r)}function L(e,n,r){if(P(n)){for(var a=[],o=0;o<n.length;++o){var i=L(e,n[o],r);null!==i&&a.push(i)}n=a}else if(J(n)){if("@preserve"in n)return"@null"===n["@preserve"]?null:n["@preserve"];if(G(n))return n;if(Y(n))return n["@list"]=L(e,n["@list"],r),n;var l=N(e,"@id");if(l in n){var u=n[l];if(u in r.link){var s=r.link[u].indexOf(n);if(-1!==s)return r.link[u][s];r.link[u].push(n)}else r.link[u]=[n]}for(var c in n){var i=L(e,n[c],r),d=t.getContextValue(e,c,"@container");r.compactArrays&&P(i)&&1===i.length&&null===d&&(i=i[0]),n[c]=i}}return n}function S(e,n){return e.length<n.length?-1:n.length<e.length?1:e===n?0:n>e?-1:1}function E(e,n,t,r,a,o){null===o&&(o="@null");var i=[];if("@id"!==o&&"@reverse"!==o||!$(t))i.push(o);else{"@reverse"===o&&i.push("@reverse");var l=N(e,t["@id"],null,{vocab:!0});l in e.mappings&&e.mappings[l]&&e.mappings[l]["@id"]===t["@id"]?i.push.apply(i,["@vocab","@id"]):i.push.apply(i,["@id","@vocab"])}i.push("@none");for(var u=e.inverse[n],s=0;s<r.length;++s){var c=r[s];if(c in u)for(var d=u[c][a],f=0;f<i.length;++f){var p=i[f];if(p in d)return d[p]}}return null}function N(e,n,t,r,a){if(null===n)return n;if(X(t)&&(t=null),X(a)&&(a=!1),r=r||{},q(n)&&(r.vocab=!0),r.vocab&&n in e.getInverse()){var o=e["@language"]||"@none",i=[];J(t)&&"@index"in t&&i.push("@index");var l="@language",u="@null";if(a)l="@type",u="@reverse",i.push("@set");else if(Y(t)){"@index"in t||i.push("@list");for(var s=t["@list"],c=0===s.length?o:null,d=null,f=0;f<s.length;++f){var p=s[f],v="@none",h="@none";if(G(p)?"@language"in p?v=p["@language"]:"@type"in p?h=p["@type"]:v="@null":h="@id",null===c?c=v:v!==c&&G(p)&&(c="@none"),null===d?d=h:h!==d&&(d="@none"),"@none"===c&&"@none"===d)break}c=c||"@none",d=d||"@none","@none"!==d?(l="@type",u=d):u=c}else G(t)?"@language"in t&&!("@index"in t)?(i.push("@language"),u=t["@language"]):"@type"in t&&(l="@type",u=t["@type"]):(l="@type",u="@id"),i.push("@set");i.push("@none");var g=E(e,n,t,i,l,u);if(null!==g)return g}if(r.vocab&&"@vocab"in e){var y=e["@vocab"];if(0===n.indexOf(y)&&n!==y){var m=n.substr(y.length);if(!(m in e.mappings))return m}}var x=null;for(var g in e.mappings)if(-1===g.indexOf(":")){var b=e.mappings[g];if(b&&b["@id"]!==n&&0===n.indexOf(b["@id"])){var w=g+":"+n.substr(b["@id"].length),j=!(w in e.mappings)||null===t&&e.mappings[w]&&e.mappings[w]["@id"]===n;j&&(null===x||S(w,x)<0)&&(x=w)}}return null!==x?x:r.vocab?n:T(e["@base"],n)}function C(e,n,r){if(G(r)){var a=t.getContextValue(e,n,"@type"),o=t.getContextValue(e,n,"@language"),i=t.getContextValue(e,n,"@container"),l="@index"in r&&"@index"!==i;if(!l&&(r["@type"]===a||r["@language"]===o))return r["@value"];var u=Object.keys(r).length,s=1===u||2===u&&"@index"in r&&!l,c="@language"in e,d=F(r["@value"]),f=e.mappings[n]&&null===e.mappings[n]["@language"];if(s&&(!c||!d||f))return r["@value"];var p={};return l&&(p[N(e,"@index")]=r["@index"]),"@type"in r?p[N(e,"@type")]=N(e,r["@type"],null,{vocab:!0}):"@language"in r&&(p[N(e,"@language")]=r["@language"]),p[N(e,"@value")]=r["@value"],p}var v=R(e,n,{vocab:!0}),a=t.getContextValue(e,n,"@type"),h=N(e,r["@id"],null,{vocab:"@vocab"===a});if("@id"===a||"@vocab"===a||"@graph"===v)return h;var p={};return p[N(e,"@id")]=h,p}function D(e,n,t,r){if(t in r){if(r[t])return;throw new De("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:n,term:t})}if(r[t]=!1,q(t))throw new De("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:t});if(""===t)throw new De("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:n});e.mappings[t]&&delete e.mappings[t];var a=n[t];if(null===a||J(a)&&null===a["@id"])return e.mappings[t]=null,void(r[t]=!0);if(F(a)&&(a={"@id":a}),!J(a))throw new De("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:n});var o=e.mappings[t]={};if(o.reverse=!1,"@reverse"in a){if("@id"in a)throw new De("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});var i=a["@reverse"];if(!F(i))throw new De("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});var l=R(e,i,{vocab:!0,base:!1},n,r);if(!K(l))throw new De("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});o["@id"]=l,o.reverse=!0}else if("@id"in a){var l=a["@id"];if(!F(l))throw new De("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(l!==t){if(l=R(e,l,{vocab:!0,base:!1},n,r),!K(l)&&!q(l))throw new De("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});o["@id"]=l}}if(!("@id"in o)){var u=t.indexOf(":");if(-1!==u){var s=t.substr(0,u);if(s in n&&D(e,n,s,r),e.mappings[s]){var c=t.substr(u+1);o["@id"]=e.mappings[s]["@id"]+c}else o["@id"]=t}else{if(!("@vocab"in e))throw new De("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n,term:t});o["@id"]=e["@vocab"]+t}}if(r[t]=!0,"@type"in a){var d=a["@type"];if(!F(d))throw new De("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if("@id"!==d&&"@vocab"!==d){if(d=R(e,d,{vocab:!0,base:!1},n,r),!K(d))throw new De("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if(0===d.indexOf("_:"))throw new De("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}o["@type"]=d}if("@container"in a){var f=a["@container"];if("@list"!==f&&"@set"!==f&&"@index"!==f&&"@language"!==f)throw new De("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:n});if(o.reverse&&"@index"!==f&&"@set"!==f&&null!==f)throw new De("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});o["@container"]=f}if("@language"in a&&!("@type"in a)){var p=a["@language"];if(null!==p&&!F(p))throw new De("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:n});null!==p&&(p=p.toLowerCase()),o["@language"]=p}var l=o["@id"];if("@context"===l||"@preserve"===l)throw new De("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:n})}function R(e,n,r,a,o){if(null===n||q(n))return n;if(n=String(n),a&&n in a&&o[n]!==!0&&D(e,a,n,o),r=r||{},r.vocab){var i=e.mappings[n];if(null===i)return null;if(i)return i["@id"]}var l=n.indexOf(":");if(-1!==l){var u=n.substr(0,l),s=n.substr(l+1);if("_"===u||0===s.indexOf("//"))return n;a&&u in a&&D(e,a,u,o);var i=e.mappings[u];return i?i["@id"]+s:n}if(r.vocab&&"@vocab"in e)return e["@vocab"]+n;var c=n;return r.base&&(c=t.prependBase(e["@base"],c)),c}function U(e,n){if(null===e)return n;if(-1!==n.indexOf(":"))return n;F(e)&&(e=t.url.parse(e||""));var r=t.url.parse(n),a={protocol:e.protocol||""};if(null!==r.authority)a.authority=r.authority,a.path=r.path,a.query=r.query;else if(a.authority=e.authority,""===r.path)a.path=e.path,null!==r.query?a.query=r.query:a.query=e.query;else{if(0===r.path.indexOf("/"))a.path=r.path;else{var o=e.path;""!==r.path&&(o=o.substr(0,o.lastIndexOf("/")+1),o.length>0&&"/"!==o.substr(-1)&&(o+="/"),o+=r.path),a.path=o}a.query=r.query}a.path=le(a.path,!!a.authority);var i=a.protocol;return null!==a.authority&&(i+="//"+a.authority),i+=a.path,null!==a.query&&(i+="?"+a.query),null!==r.fragment&&(i+="#"+r.fragment),""===i&&(i="./"),i}function T(e,n){if(null===e)return n;F(e)&&(e=t.url.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):n.indexOf("//")&&(r+="//"),0!==n.indexOf(r))return n;for(var a=t.url.parse(n.substr(r.length)),o=e.normalizedPath.split("/"),i=a.normalizedPath.split("/"),l=a.fragment||a.query?0:1;o.length>0&&i.length>l&&o[0]===i[0];)o.shift(),i.shift();var u="";if(o.length>0){o.pop();for(var s=0;s<o.length;++s)u+="../"}return u+=i.join("/"),null!==a.query&&(u+="?"+a.query),null!==a.fragment&&(u+="#"+a.fragment),""===u&&(u="./"),u}function _(e){function n(){var e=this;if(e.inverse)return e.inverse;for(var n=e.inverse={},t=e["@language"]||"@none",a=e.mappings,o=Object.keys(a).sort(S),i=0;i<o.length;++i){var l=o[i],u=a[l];if(null!==u){var s=u["@container"]||"@none",c=u["@id"];P(c)||(c=[c]);for(var d=0;d<c.length;++d){var f=c[d],p=n[f];if(p||(n[f]=p={}),p[s]||(p[s]={"@language":{},"@type":{}}),p=p[s],u.reverse)r(u,l,p["@type"],"@reverse");else if("@type"in u)r(u,l,p["@type"],u["@type"]);else if("@language"in u){var v=u["@language"]||"@null";r(u,l,p["@language"],v)}else r(u,l,p["@language"],t),r(u,l,p["@type"],"@none"),r(u,l,p["@language"],"@none")}}}return n}function r(e,n,t,r){r in t||(t[r]=n)}function a(){var e={};return e["@base"]=this["@base"],e.mappings=W(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}var o=t.url.parse(e.base||"");return{"@base":o,mappings:{},inverse:null,getInverse:n,clone:a}}function q(e){if(!F(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0}return!1}function J(e){return"[object Object]"===Object.prototype.toString.call(e)}function A(e){return J(e)&&0===Object.keys(e).length}function P(e){return Array.isArray(e)}function V(e){if(!F(e)&&!A(e)){var n=!1;if(P(e)){n=!0;for(var t=0;t<e.length;++t)if(!F(e[t])){n=!1;break}}if(!n)throw new De('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}}function F(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}function M(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function z(e){return M(e)&&-1!==String(e).indexOf(".")}function H(e){return!isNaN(parseFloat(e))&&isFinite(e)}function B(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)}function X(e){return"undefined"==typeof e}function Q(e){var n=!1;if(J(e)&&!("@value"in e||"@set"in e||"@list"in e)){var t=Object.keys(e).length;n=t>1||!("@id"in e)}return n}function $(e){return J(e)&&1===Object.keys(e).length&&"@id"in e}function G(e){return J(e)&&"@value"in e}function Y(e){return J(e)&&"@list"in e}function Z(e){var n=!1;return J(e)&&(n="@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)),n}function K(e){return F(e)&&-1!==e.indexOf(":")}function W(e){if(e&&"object"==typeof e){var n;if(P(e)){n=[];for(var t=0;t<e.length;++t)n[t]=W(e[t])}else if(J(e)){n={};for(var r in e)n[r]=W(e[r])}else n=e.toString();return n}return e}function ee(e,n,r,a){var o=Object.keys(n).length;if(P(e)){for(var i=0;i<e.length;++i)ee(e[i],n,r,a);return o<Object.keys(n).length}if(J(e)){for(var l in e)if("@context"===l){var u=e[l];if(P(u))for(var s=u.length,i=0;s>i;++i){var c=u[i];F(c)&&(c=t.prependBase(a,c),r?(c=n[c],P(c)?(Array.prototype.splice.apply(u,[i,1].concat(c)),i+=c.length-1,s=u.length):u[i]=c):c in n||(n[c]=!1))}else F(u)&&(u=t.prependBase(a,u),r?e[l]=n[u]:u in n||(n[u]=!1))}else ee(e[l],n,r,a);return o<Object.keys(n).length}return!1}function ne(e,n,t){var r=null,a=n.documentLoader,o=function(e,n,t,a,i){if(Object.keys(n).length>Ce)return r=new De("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:Ce}),i(r);var l={},u=function(){ee(e,l,!0,a),i(null,e)};ee(e,l,!1,a)||u();var s=[];for(var c in l)l[c]===!1&&s.push(c);for(var d=s.length,f=0;f<s.length;++f)!function(e){if(e in n)return r=new De("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e}),i(r);var a=W(n);a[e]=!0;var s=function(n,s){if(!r){var c=s?s.document:null;if(!n&&F(c))try{c=JSON.parse(c)}catch(f){n=f}if(n?n=new De("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:n}):J(c)||(n=new De("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e,cause:n})),n)return r=n,i(r);c="@context"in c?{"@context":c["@context"]}:{"@context":{}},s.contextUrl&&(P(c["@context"])||(c["@context"]=[c["@context"]]),c["@context"].push(s.contextUrl)),o(c,a,t,e,function(n,t){return n?i(n):(l[e]=t["@context"],d-=1,void(0===d&&u()))})}},c=t(e,s);c&&"then"in c&&c.then(s.bind(null,null),s)}(s[f])};o(e,{},a,n.base,t)}function te(e){for(var n="(?:<([^:]+:[^>]*)>)",t="(_:(?:[A-Za-z0-9]+))",r='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+n+")",o="(?:@([a-z]+(?:-[a-z0-9]+)*))",i="(?:"+r+"(?:"+a+"|"+o+")?)",l="[ \\t]+",u="[ \\t]*",s=/(?:\r\n)|(?:\n)|(?:\r)/g,c=new RegExp("^"+u+"$"),f="(?:"+n+"|"+t+")"+l,p=n+l,v="(?:"+n+"|"+t+"|"+i+")"+u,h="(?:\\.|(?:(?:"+n+"|"+t+")"+u+"\\.))",g=new RegExp("^"+u+f+p+v+h+u+"$"),y={},m=e.split(s),x=0,b=0;b<m.length;++b){var w=m[b];if(x++,!c.test(w)){var j=w.match(g);if(null===j)throw new De("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:x});var O={};if(X(j[1])?O.subject={type:"blank node",value:j[2]}:O.subject={type:"IRI",value:j[1]},O.predicate={type:"IRI",value:j[3]},X(j[4]))if(X(j[5])){O.object={type:"literal"},X(j[7])?X(j[8])?O.object.datatype=me:(O.object.datatype=Ee,O.object.language=j[8]):O.object.datatype=j[7];var k=j[6].replace(/\\"/g,'"').replace(/\\t/g,"	").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");O.object.value=k}else O.object={type:"blank node",value:j[5]};else O.object={type:"IRI",value:j[4]};var I="@default";if(X(j[9])?X(j[10])||(I=j[10]):I=j[9],I in y){for(var L=!0,S=y[I],E=0;L&&E<S.length;++E)d(S[E],O)&&(L=!1);L&&S.push(O)}else y[I]=[O]}}return y}function re(e){var n=[];for(var t in e)for(var r=e[t],a=0;a<r.length;++a){var o=r[a];"@default"===t&&(t=null),n.push(ae(o,t))}return n.sort(),n.join("")}function ae(e,n,t){var r=e.subject,a=e.predicate,o=e.object,i=n,l="";if(l+="IRI"===r.type?"<"+r.value+">":t?r.value===t?"_:a":"_:z":r.value,l+=" ",l+="IRI"===a.type?"<"+a.value+">":t?"_:p":a.value,l+=" ","IRI"===o.type)l+="<"+o.value+">";else if("blank node"===o.type)l+=t?o.value===t?"_:a":"_:z":o.value;else{var u=o.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');l+='"'+u+'"',o.datatype===Ee?o.language&&(l+="@"+o.language):o.datatype!==me&&(l+="^^<"+o.datatype+">")}return null!==i&&(l+=0!==i.indexOf("_:")?" <"+i+">":t?" _:g":" "+i),l+=" .\n"}function oe(e){var n={};n["@default"]=[];for(var t=e.getSubjects(),r=0;r<t.length;++r){var a=t[r];if(null!==a){var o=e.getSubjectTriples(a);if(null!==o){var i=o.predicates;for(var l in i)for(var u=i[l].objects,s=0;s<u.length;++s){var c=u[s],d={};0===a.indexOf("_:")?d.subject={type:"blank node",value:a}:d.subject={type:"IRI",value:a},0===l.indexOf("_:")?d.predicate={type:"blank node",value:l}:d.predicate={type:"IRI",value:l};var f=c.value;if(c.type===Le){pe||Je();var p=new pe;f="";for(var v=0;v<c.value.length;v++)c.value[v].nodeType===ve.ELEMENT_NODE?f+=p.serializeToString(c.value[v]):c.value[v].nodeType===ve.TEXT_NODE&&(f+=c.value[v].nodeValue)}d.object={},c.type===Se?0===c.value.indexOf("_:")?d.object.type="blank node":d.object.type="IRI":(d.object.type="literal",c.type===Ie?c.language?(d.object.datatype=Ee,d.object.language=c.language):d.object.datatype=me:d.object.datatype=c.type),d.object.value=f,n["@default"].push(d)}}}}return n}function ie(e){this.prefix=e,this.counter=0,this.existing={}}function le(e,n){var t="";0===e.indexOf("/")&&(t="/");for(var r=e.split("/"),a=[];r.length>0;)"."===r[0]||""===r[0]&&r.length>1?r.shift():".."!==r[0]?a.push(r.shift()):(r.shift(),n||a.length>0&&".."!==a[a.length-1]?a.pop():a.push(".."));return t+a.join("/")}t.compact=function(e,n,r,a){function o(e,t,r,o){if(e)return a(e);o.compactArrays&&!o.graph&&P(t)?1===t.length?t=t[0]:0===t.length&&(t={}):o.graph&&J(t)&&(t=[t]),J(n)&&"@context"in n&&(n=n["@context"]),n=W(n),P(n)||(n=[n]);var i=n;n=[];for(var l=0;l<i.length;++l)(!J(i[l])||Object.keys(i[l]).length>0)&&n.push(i[l]);var u=n.length>0;if(1===n.length&&(n=n[0]),P(t)){var s=N(r,"@graph"),c=t;t={},u&&(t["@context"]=n),t[s]=c}else if(J(t)&&u){var c=t;t={"@context":n};for(var d in c)t[d]=c[d]}a(null,t,r)}if(arguments.length<2)return t.nextTick(function(){a(new TypeError("Could not compact, too few arguments."))});if("function"==typeof r&&(a=r,r={}),r=r||{},null===n)return t.nextTick(function(){a(new De("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===e)return t.nextTick(function(){a(null,null)});"base"in r||(r.base="string"==typeof e?e:""),"compactArrays"in r||(r.compactArrays=!0),"graph"in r||(r.graph=!1),"skipExpansion"in r||(r.skipExpansion=!1),"documentLoader"in r||(r.documentLoader=t.loadDocument),"link"in r||(r.link=!1),r.link&&(r.skipExpansion=!0);var i=function(e,n,r){t.nextTick(function(){return n.skipExpansion?r(null,e):void t.expand(e,n,r)})};i(e,r,function(e,i){if(e)return a(new De("Could not expand input before compaction.","jsonld.CompactError",{cause:e}));var l=_(r);t.processContext(l,n,r,function(e,n){if(e)return a(new De("Could not process context before compaction.","jsonld.CompactError",{cause:e}));var t;try{t=(new Re).compact(n,null,i,r)}catch(l){return a(l)}o(null,t,n,r)})})},t.expand=function(e,n,r){function a(e){"base"in n||(n.base=e.documentUrl||"");var t={document:W(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in n){var a=W(n.expandContext);"object"==typeof a&&"@context"in a?t.expandContext=a:t.expandContext={"@context":a}}ne(t,n,function(e,t){if(e)return r(e);var a;try{var o=new Re,i=_(n),l=t.document,u=t.remoteContext["@context"];t.expandContext&&(i=o.processContext(i,t.expandContext["@context"],n)),u&&(i=o.processContext(i,u,n)),a=o.expand(i,null,l,n,!1),J(a)&&"@graph"in a&&1===Object.keys(a).length?a=a["@graph"]:null===a&&(a=[]),P(a)||(a=[a])}catch(s){return r(s)}r(null,a)})}return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not expand, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"documentLoader"in n||(n.documentLoader=t.loadDocument),"keepFreeFloatingNodes"in n||(n.keepFreeFloatingNodes=!1),void t.nextTick(function(){if("string"==typeof e){var t=function(e,n){if(e)return r(e);try{if(!n.document)throw new De("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof n.document&&(n.document=JSON.parse(n.document))}catch(t){return r(new De("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t,remoteDoc:n}))}a(n)},o=n.documentLoader(e,t);return void(o&&"then"in o&&o.then(t.bind(null,null),t))}a({contextUrl:null,documentUrl:null,document:e})}))},t.flatten=function(e,n,r,a){return arguments.length<1?t.nextTick(function(){a(new TypeError("Could not flatten, too few arguments."))}):("function"==typeof r?(a=r,r={}):"function"==typeof n&&(a=n,n=null,r={}),r=r||{},"base"in r||(r.base="string"==typeof e?e:""),"documentLoader"in r||(r.documentLoader=t.loadDocument),void t.expand(e,r,function(e,o){if(e)return a(new De("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}));var i;try{i=(new Re).flatten(o)}catch(l){return a(l)}return null===n?a(null,i):(r.graph=!0,r.skipExpansion=!0,void t.compact(i,n,r,function(e,n){return e?a(new De("Could not compact flattened output.","jsonld.FlattenError",{cause:e})):void a(null,n)}))}))},t.frame=function(e,n,r,a){function o(n){var o,i=n.document;i?(o=i["@context"],n.contextUrl?(o?P(o)?o.push(n.contextUrl):o=[o,n.contextUrl]:o=n.contextUrl,i["@context"]=o):o=o||{}):o={},t.expand(e,r,function(e,n){if(e)return a(new De("Could not expand input before framing.","jsonld.FrameError",{cause:e}));var l=W(r);l.isFrame=!0,l.keepFreeFloatingNodes=!0,t.expand(i,l,function(e,r){if(e)return a(new De("Could not expand frame before framing.","jsonld.FrameError",{cause:e}));var i;try{i=(new Re).frame(n,r,l)}catch(u){return a(u)}l.graph=!0,l.skipExpansion=!0,l.link={},t.compact(i,o,l,function(e,n,t){if(e)return a(new De("Could not compact framed output.","jsonld.FrameError",{cause:e}));var r=N(t,"@graph");l.link={},n[r]=L(t,n[r],l),a(null,n)})})})}return arguments.length<2?t.nextTick(function(){a(new TypeError("Could not frame, too few arguments."))}):("function"==typeof r&&(a=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof e?e:""),"documentLoader"in r||(r.documentLoader=t.loadDocument),"embed"in r||(r.embed="@last"),r.explicit=r.explicit||!1,"requireAll"in r||(r.requireAll=!0),r.omitDefault=r.omitDefault||!1,void t.nextTick(function(){if("string"==typeof n){var e=function(e,n){if(e)return a(e);try{if(!n.document)throw new De("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof n.document&&(n.document=JSON.parse(n.document))}catch(t){return a(new De("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",
cause:t,remoteDoc:n}))}o(n)},t=r.documentLoader(n,e);return void(t&&"then"in t&&t.then(e.bind(null,null),e))}o({contextUrl:null,documentUrl:null,document:n})}))},t.link=function(e,n,r,a){var o={};n&&(o["@context"]=n),o["@embed"]="@link",t.frame(e,o,r,a)},t.objectify=function(e,n,r,a){"function"==typeof r&&(a=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof e?e:""),"documentLoader"in r||(r.documentLoader=t.loadDocument),t.expand(e,r,function(e,o){if(e)return a(new De("Could not expand input before linking.","jsonld.LinkError",{cause:e}));var i;try{i=(new Re).flatten(o)}catch(l){return a(l)}r.graph=!0,r.skipExpansion=!0,t.compact(i,n,r,function(e,n,r){if(e)return a(new De("Could not compact flattened output before linking.","jsonld.LinkError",{cause:e}));var o=N(r,"@graph"),i=n[o][0],l=function(e){if(J(e)||P(e)){if(J(e)){if(l.visited[e["@id"]])return;l.visited[e["@id"]]=!0}for(var n in e){var a=e[n],o="@id"===t.getContextValue(r,n,"@type");if(P(a)||J(a)||o)if(F(a)&&o)e[n]=a=i[a],l(a);else if(P(a))for(var u=0;u<a.length;++u)F(a[u])&&o?a[u]=i[a[u]]:J(a[u])&&"@id"in a[u]&&(a[u]=i[a[u]["@id"]]),l(a[u]);else if(J(a)){var s=a["@id"];e[n]=a=i[s],l(a)}}}};l.visited={},l(i),n.of_type={};for(var u in i)if("@type"in i[u]){var s=i[u]["@type"];P(s)||(s=[s]);for(var c=0;c<s.length;++c)s[c]in n.of_type||(n.of_type[s[c]]=[]),n.of_type[s[c]].push(i[u])}a(null,n)})})},t.normalize=function(e,n,r){if(arguments.length<1)return t.nextTick(function(){r(new TypeError("Could not normalize, too few arguments."))});"function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof e?e:""),"documentLoader"in n||(n.documentLoader=t.loadDocument);var a=W(n);delete a.format,a.produceGeneralizedRdf=!1,t.toRDF(e,a,function(e,t){return e?r(new De("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e})):void(new Re).normalize(t,n,r)})},t.fromRDF=function(e,n,r){return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not convert from RDF, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"useRdfType"in n||(n.useRdfType=!1),"useNativeTypes"in n||(n.useNativeTypes=!1),"format"in n||!F(e)||"format"in n||(n.format="application/nquads"),void t.nextTick(function(){function t(e,n,t){(new Re).fromRDF(e,n,t)}var a;if(n.format){if(a=n.rdfParser||fe[n.format],!a)return r(new De("Unknown input format.","jsonld.UnknownFormat",{format:n.format}))}else a=function(){return e};var o=!1;try{e=a(e,function(e,a){return o=!0,e?r(e):void t(a,n,r)})}catch(i){if(!o)return r(i);throw i}if(e){if("then"in e)return e.then(function(e){t(e,n,r)},r);t(e,n,r)}}))},t.toRDF=function(e,n,r){return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not convert to RDF, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof e?e:""),"documentLoader"in n||(n.documentLoader=t.loadDocument),void t.expand(e,n,function(e,t){if(e)return r(new De("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}));var a;try{if(a=Re.prototype.toRDF(t,n),n.format){if("application/nquads"===n.format)return r(null,re(a));throw new De("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}}catch(o){return r(o)}r(null,a)}))},t.createNodeMap=function(e,n,r){return arguments.length<1?t.nextTick(function(){r(new TypeError("Could not create node map, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof e?e:""),"documentLoader"in n||(n.documentLoader=t.loadDocument),void t.expand(e,n,function(e,t){if(e)return r(new De("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}));var a;try{a=(new Re).createNodeMap(t,n)}catch(o){return r(o)}r(null,a)}))},t.merge=function(e,n,r,a){function o(e,n){if(!u){if(e)return u=e,a(new De("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}));l.push(n),0===--s&&i(l)}}function i(e){var o=!0;"mergeNodes"in r&&(o=r.mergeNodes);var i,l=r.namer||new ie("_:b"),u={"@default":{}};try{for(var s=0;s<e.length;++s){var c=e[s];c=t.relabelBlankNodes(c,{namer:new ie("_:b"+s+"-")});var d=o||0===s?u:{"@default":{}};if(h(c,d,"@default",l),d!==u)for(var f in d){var p=d[f];if(f in u){var v=u[f];for(var y in p)y in v||(v[y]=p[y])}else u[f]=p}}i=g(u)}catch(m){return a(m)}for(var x=[],b=Object.keys(i).sort(),w=0;w<b.length;++w){var j=i[b[w]];$(j)||x.push(j)}return null===n?a(null,x):(r.graph=!0,r.skipExpansion=!0,void t.compact(x,n,r,function(e,n){return e?a(new De("Could not compact merged output.","jsonld.MergeError",{cause:e})):void a(null,n)}))}if(arguments.length<1)return t.nextTick(function(){a(new TypeError("Could not merge, too few arguments."))});if(!P(e))return t.nextTick(function(){a(new TypeError('Could not merge, "docs" must be an array.'))});"function"==typeof r?(a=r,r={}):"function"==typeof n&&(a=n,n=null,r={}),r=r||{};for(var l=[],u=null,s=e.length,c=0;c<e.length;++c){var d={};for(var f in r)d[f]=r[f];t.expand(e[c],d,o)}},t.relabelBlankNodes=function(e,n){n=n||{};var t=n.namer||new ie("_:b");return o(t,e)},t.prependBase=function(e,n){return U(e,n)},t.documentLoader=function(n,r){var a=new De("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return e?r(a,{contextUrl:null,documentUrl:n,document:null}):t.promisify(function(e){e(a)})},t.loadDocument=function(e,n){var r=t.documentLoader(e,n);r&&"then"in r&&r.then(n.bind(null,null),n)},t.promises=function(e){e=e||{};var n=Array.prototype.slice,r=t.promisify,a=e.api||{},o=e.version||"jsonld.js";"string"==typeof e.api&&(e.version||(o=e.api),a={}),a.expand=function(e){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");return r.apply(null,[t.expand].concat(n.call(arguments)))},a.compact=function(e,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");var o=function(e,n,r,a){t.compact(e,n,r,function(e,n){a(e,n)})};return r.apply(null,[o].concat(n.call(arguments)))},a.flatten=function(e){if(arguments.length<1)throw new TypeError("Could not flatten, too few arguments.");return r.apply(null,[t.flatten].concat(n.call(arguments)))},a.frame=function(e,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");return r.apply(null,[t.frame].concat(n.call(arguments)))},a.fromRDF=function(e){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");return r.apply(null,[t.fromRDF].concat(n.call(arguments)))},a.toRDF=function(e){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");return r.apply(null,[t.toRDF].concat(n.call(arguments)))},a.normalize=function(e){if(arguments.length<1)throw new TypeError("Could not normalize, too few arguments.");return r.apply(null,[t.normalize].concat(n.call(arguments)))},"jsonld.js"===o&&(a.link=function(e,a){if(arguments.length<2)throw new TypeError("Could not link, too few arguments.");return r.apply(null,[t.link].concat(n.call(arguments)))},a.objectify=function(e){return r.apply(null,[t.objectify].concat(n.call(arguments)))},a.createNodeMap=function(e){return r.apply(null,[t.createNodeMap].concat(n.call(arguments)))},a.merge=function(e){return r.apply(null,[t.merge].concat(n.call(arguments)))});try{t.Promise=global.Promise||require("es6-promise").Promise}catch(i){var l=function(){throw new Error("Unable to find a Promise implementation.")};for(var u in a)a[u]=l}return a},t.promisify=function(e){if(!t.Promise)try{t.Promise=global.Promise||require("es6-promise").Promise}catch(n){throw new Error("Unable to find a Promise implementation.")}var r=Array.prototype.slice.call(arguments,1);return new t.Promise(function(n,t){e.apply(null,r.concat(function(e,r){e?t(e):n(r)}))})},t.promises({api:t.promises}),r.prototype=t.promises({version:"json-ld-1.0"}),r.prototype.toString=function(){return this instanceof r?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"},t.JsonLdProcessor=r;var ue=!!Object.defineProperty;if(ue)try{Object.defineProperty({},"x",{})}catch(se){ue=!1}ue&&(Object.defineProperty(r,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(r.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:r})),n&&"undefined"==typeof global.JsonLdProcessor&&(ue?Object.defineProperty(global,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:r}):global.JsonLdProcessor=r);var ce="function"==typeof setImmediate&&setImmediate,de=ce?function(e){ce(e)}:function(e){setTimeout(e,0)};"object"==typeof process&&"function"==typeof process.nextTick?t.nextTick=process.nextTick:t.nextTick=de,t.setImmediate=ce?de:t.nextTick,t.parseLinkHeader=function(e){for(var n={},t=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g),r=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,a=0;a<t.length;++a){var o=t[a].match(r);if(o){for(var i={target:o[1]},l=o[2],u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;o=u.exec(l);)i[o[1]]=void 0===o[2]?o[3]:o[2];var s=i.rel||"";P(n[s])?n[s].push(i):s in n?n[s]=[n[s],i]:n[s]=i}}return n},t.RequestQueue=function(){this._requests={}},t.RequestQueue.prototype.wrapLoader=function(e){return this._loader=e,this._usePromise=1===e.length,this.add.bind(this)},t.RequestQueue.prototype.add=function(e,n){var r=this;if(!n&&!r._usePromise)throw new Error("callback must be specified.");return r._usePromise?new t.Promise(function(n,t){var a=r._requests[e];a||(a=r._requests[e]=r._loader(e).then(function(n){return delete r._requests[e],n})["catch"](function(n){throw delete r._requests[e],n})),a.then(function(e){n(e)})["catch"](function(e){t(e)})}):void(e in r._requests?r._requests[e].push(n):(r._requests[e]=[n],r._loader(e,function(n,t){var a=r._requests[e];delete r._requests[e];for(var o=0;o<a.length;++o)a[o](n,t)})))},t.DocumentCache=function(e){this.order=[],this.cache={},this.size=e||50,this.expires=3e4},t.DocumentCache.prototype.get=function(e){if(e in this.cache){var n=this.cache[e];if(n.expires>=+new Date)return n.ctx;delete this.cache[e],this.order.splice(this.order.indexOf(e),1)}return null},t.DocumentCache.prototype.set=function(e,n){this.order.length===this.size&&delete this.cache[this.order.shift()],this.order.push(e),this.cache[e]={ctx:n,expires:+new Date+this.expires}},t.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},t.ActiveContextCache.prototype.get=function(e,n){var t=JSON.stringify(e),r=JSON.stringify(n),a=this.cache[t];return a&&r in a?a[r]:null},t.ActiveContextCache.prototype.set=function(e,n,t){if(this.order.length===this.size){var r=this.order.shift();delete this.cache[r.activeCtx][r.localCtx]}var a=JSON.stringify(e),o=JSON.stringify(n);this.order.push({activeCtx:a,localCtx:o}),a in this.cache||(this.cache[a]={}),this.cache[a][o]=W(t)},t.cache={activeCtx:new t.ActiveContextCache},t.documentLoaders={},t.documentLoaders.jquery=function(e,n){function r(r,a){return 0!==r.indexOf("http:")&&0!==r.indexOf("https:")?a(new De('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):n.secure&&0!==r.indexOf("https")?a(new De('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):void e.ajax({url:r,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(e,n,o){var i={contextUrl:null,documentUrl:r,document:e},l=o.getResponseHeader("Content-Type"),u=o.getResponseHeader("Link");if(u&&"application/ld+json"!==l){if(u=t.parseLinkHeader(u)[Ne],P(u))return a(new De("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r}),i);u&&(i.contextUrl=u.target)}a(null,i)},error:function(e,n,t){a(new De("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:t}),{contextUrl:null,documentUrl:r,document:null})}})}n=n||{};var a=new t.RequestQueue,o="usePromise"in n?n.usePromise:"undefined"!=typeof Promise;return o?a.wrapLoader(function(e){return t.promisify(r,e)}):a.wrapLoader(r)},t.documentLoaders.node=function(e){function n(u,s,c){function d(e,r,o){if(f={contextUrl:null,documentUrl:u,document:o||null},e)return c(new De("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:u,cause:e}),f);var d=i.STATUS_CODES[r.statusCode];if(r.statusCode>=400)return c(new De("URL could not be dereferenced: "+d,"jsonld.InvalidUrl",{code:"loading document failed",url:u,httpStatusCode:r.statusCode}),f);if(r.headers.link&&"application/ld+json"!==r.headers["content-type"]){var p=t.parseLinkHeader(r.headers.link)[Ne];if(P(p))return c(new De("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:u}),f);p&&(f.contextUrl=p.target)}if(r.statusCode>=300&&r.statusCode<400&&r.headers.location)return s.length===a?c(new De("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:u,httpStatusCode:r.statusCode,redirects:s}),f):-1!==s.indexOf(u)?c(new De("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:u,httpStatusCode:r.statusCode,redirects:s}),f):(s.push(u),n(r.headers.location,s,c));s.push(u);for(var v=0;v<s.length;++v)l.set(s[v],{contextUrl:null,documentUrl:s[v],document:o});c(e,f)}if(0!==u.indexOf("http:")&&0!==u.indexOf("https:"))return c(new De('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:u}),{contextUrl:null,documentUrl:u,document:null});if(e.secure&&0!==u.indexOf("https"))return c(new De('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:u}),{contextUrl:null,documentUrl:u,document:null});var f=l.get(u);return null!==f?c(null,f):void o({url:u,headers:{Accept:"application/ld+json, application/json"},strictSSL:r,followRedirect:!1},d)}e=e||{};var r="strictSSL"in e?e.strictSSL:!0,a="maxRedirects"in e?e.maxRedirects:-1,o=require("request"),i=require("http"),l=new t.DocumentCache,u=new t.RequestQueue;return e.usePromise?u.wrapLoader(function(e){return t.promisify(n,e,[])}):u.wrapLoader(function(e,t){n(e,[],t)})},t.documentLoaders.xhr=function(e){function n(n,a){if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))return a(new De('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});if(e.secure&&0!==n.indexOf("https"))return a(new De('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});var o=e.xhr||XMLHttpRequest,i=new o;i.onload=function(){if(i.status>=400)return a(new De("URL could not be dereferenced: "+i.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:i.status}),{contextUrl:null,documentUrl:n,document:null});var e,o={contextUrl:null,documentUrl:n,document:i.response},l=i.getResponseHeader("Content-Type");if(r.test(i.getAllResponseHeaders())&&(e=i.getResponseHeader("Link")),e&&"application/ld+json"!==l){if(e=t.parseLinkHeader(e)[Ne],P(e))return a(new De("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),o);e&&(o.contextUrl=e.target)}a(null,o)},i.onerror=function(){a(new De("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})},i.open("GET",n,!0),i.setRequestHeader("Accept","application/ld+json, application/json"),i.send()}e=e||{};var r=/(^|(\r\n))link:/i,a=new t.RequestQueue,o="usePromise"in e?e.usePromise:"undefined"!=typeof Promise;return o?a.wrapLoader(function(e){return t.promisify(n,e)}):a.wrapLoader(n)},t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new De('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.processContext=function(e,n){var r={},a=2;arguments.length>3&&(r=arguments[2]||{},a+=1);var o=arguments[a];return"base"in r||(r.base=""),"documentLoader"in r||(r.documentLoader=t.loadDocument),null===n?o(null,_(r)):(n=W(n),J(n)&&"@context"in n||(n={"@context":n}),void ne(n,r,function(n,t){if(n)return o(n);try{t=(new Re).processContext(e,t,r)}catch(a){return o(a)}o(null,t)}))},t.hasProperty=function(e,n){var t=!1;if(n in e){var r=e[n];t=!P(r)||r.length>0}return t},t.hasValue=function(e,n,r){var a=!1;if(t.hasProperty(e,n)){var o=e[n],i=Y(o);if(P(o)||i){i&&(o=o["@list"]);for(var l=0;l<o.length;++l)if(t.compareValues(r,o[l])){a=!0;break}}else P(r)||(a=t.compareValues(r,o))}return a},t.addValue=function(e,n,r,a){if(a=a||{},"propertyIsArray"in a||(a.propertyIsArray=!1),"allowDuplicate"in a||(a.allowDuplicate=!0),P(r)){0!==r.length||!a.propertyIsArray||n in e||(e[n]=[]);for(var o=0;o<r.length;++o)t.addValue(e,n,r[o],a)}else if(n in e){var i=!a.allowDuplicate&&t.hasValue(e,n,r);P(e[n])||i&&!a.propertyIsArray||(e[n]=[e[n]]),i||e[n].push(r)}else e[n]=a.propertyIsArray?[r]:r},t.getValues=function(e,n){var t=e[n]||[];return P(t)||(t=[t]),t},t.removeProperty=function(e,n){delete e[n]},t.removeValue=function(e,n,r,a){a=a||{},"propertyIsArray"in a||(a.propertyIsArray=!1);var o=t.getValues(e,n).filter(function(e){return!t.compareValues(e,r)});0===o.length?t.removeProperty(e,n):1!==o.length||a.propertyIsArray?e[n]=o:e[n]=o[0]},t.compareValues=function(e,n){return e===n?!0:G(e)&&G(n)&&e["@value"]===n["@value"]&&e["@type"]===n["@type"]&&e["@language"]===n["@language"]&&e["@index"]===n["@index"]?!0:J(e)&&"@id"in e&&J(n)&&"@id"in n?e["@id"]===n["@id"]:!1},t.getContextValue=function(e,n,t){var r=null;if(null===n)return r;if("@language"===t&&t in e&&(r=e[t]),e.mappings[n]){var a=e.mappings[n];X(t)?r=a:t in a&&(r=a[t])}return r};var fe={};if(t.registerRDFParser=function(e,n){fe[e]=n},t.unregisterRDFParser=function(e){delete fe[e]},e){if("undefined"==typeof pe)var pe=null;if("undefined"==typeof ve)var ve={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var he="http://www.w3.org/2001/XMLSchema#boolean",ge="http://www.w3.org/2001/XMLSchema#double",ye="http://www.w3.org/2001/XMLSchema#integer",me="http://www.w3.org/2001/XMLSchema#string",xe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",be=xe+"List",we=xe+"first",je=xe+"rest",Oe=xe+"nil",ke=xe+"type",Ie=xe+"PlainLiteral",Le=xe+"XMLLiteral",Se=xe+"object",Ee=xe+"langString",Ne="http://www.w3.org/ns/json-ld#context",Ce=10,De=function(n,t,r){e?(Error.call(this),Error.captureStackTrace(this,this.constructor)):"undefined"!=typeof Error&&(this.stack=(new Error).stack),this.name=t||"jsonld.Error",this.message=n||"An unspecified JSON-LD error occurred.",this.details=r||{}};e?require("util").inherits(De,Error):"undefined"!=typeof Error&&(De.prototype=new Error);var Re=function(){};Re.prototype.compact=function(e,n,r,a){if(P(r)){for(var o=[],i=0;i<r.length;++i){var l=this.compact(e,n,r[i],a);null!==l&&o.push(l)}if(a.compactArrays&&1===o.length){var u=t.getContextValue(e,n,"@container");null===u&&(o=o[0])}return o}if(J(r)){if(a.link&&"@id"in r&&r["@id"]in a.link)for(var s=a.link[r["@id"]],i=0;i<s.length;++i)if(s[i].expanded===r)return s[i].compacted;if(G(r)||$(r)){var o=C(e,n,r);return a.link&&$(r)&&(r["@id"]in a.link||(a.link[r["@id"]]=[]),a.link[r["@id"]].push({expanded:r,compacted:o})),o}var c="@reverse"===n,o={};a.link&&"@id"in r&&(r["@id"]in a.link||(a.link[r["@id"]]=[]),a.link[r["@id"]].push({expanded:r,compacted:o}));for(var d=Object.keys(r).sort(),f=0;f<d.length;++f){var p=d[f],v=r[p];if("@id"!==p&&"@type"!==p)if("@reverse"!==p)if("@index"!==p)if("@graph"!==p&&"@list"!==p&&q(p)){var h=N(e,p);t.addValue(o,h,v)}else{if(0===v.length){var g=N(e,p,v,{vocab:!0},c);t.addValue(o,g,v,{propertyIsArray:!0})}for(var y=0;y<v.length;++y){var m=v[y],g=N(e,p,m,{vocab:!0},c),u=t.getContextValue(e,g,"@container"),x=Y(m),b=null;x&&(b=m["@list"]);var w=this.compact(e,g,x?b:m,a);if(x)if(P(w)||(w=[w]),"@list"!==u){var j={};j[N(e,"@list")]=w,w=j,"@index"in m&&(w[N(e,"@index")]=m["@index"])}else if(g in o)throw new De('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===u||"@index"===u){var O;g in o?O=o[g]:o[g]=O={},"@language"===u&&G(w)&&(w=w["@value"]),t.addValue(O,m[u],w)}else{var k=!a.compactArrays||"@set"===u||"@list"===u||P(w)&&0===w.length||"@list"===p||"@graph"===p;t.addValue(o,g,w,{propertyIsArray:k})}}}else{var u=t.getContextValue(e,n,"@container");if("@index"===u)continue;var h=N(e,p);t.addValue(o,h,v)}else{var I=this.compact(e,"@reverse",v,a);for(var L in I)if(e.mappings[L]&&e.mappings[L].reverse){var S=I[L],u=t.getContextValue(e,L,"@container"),E="@set"===u||!a.compactArrays;t.addValue(o,L,S,{propertyIsArray:E}),delete I[L]}if(Object.keys(I).length>0){var h=N(e,p);t.addValue(o,h,I)}}else{var I;if(F(v))I=N(e,v,null,{vocab:"@type"===p});else{I=[];for(var y=0;y<v.length;++y)I.push(N(e,v[y],null,{vocab:!0}))}var h=N(e,p),k=P(I)&&0===v.length;t.addValue(o,h,I,{propertyIsArray:k})}}return o}return r},Re.prototype.expand=function(e,n,r,o,l){var u=this;if(null===r||void 0===r)return null;if(!P(r)&&!J(r))return l||null!==n&&"@graph"!==R(e,n,{vocab:!0})?i(e,n,r):null;if(P(r)){var s=[],c=t.getContextValue(e,n,"@container");l=l||"@list"===c;for(var d=0;d<r.length;++d){var f=u.expand(e,n,r[d],o);if(l&&(P(f)||Y(f)))throw new De("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==f&&(P(f)?s=s.concat(f):s.push(f))}return s}"@context"in r&&(e=u.processContext(e,r["@context"],o));for(var p=R(e,n,{vocab:!0}),s={},v=Object.keys(r).sort(),h=0;h<v.length;++h){var g,y=v[h],m=r[y];if("@context"!==y){var x=R(e,y,{vocab:!0});if(null!==x&&(K(x)||q(x))){if(q(x)){if("@reverse"===p)throw new De("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:m});if(x in s)throw new De("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:x})}if("@id"===x&&!F(m)){if(!o.isFrame)throw new De('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:m});if(!J(m))throw new De('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:m})}if("@type"===x&&V(m),"@graph"===x&&!J(m)&&!P(m))throw new De('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:m});if("@value"===x&&(J(m)||P(m)))throw new De('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:m});if("@language"===x){if(null===m)continue;if(!F(m))throw new De('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:m});m=m.toLowerCase()}if("@index"===x&&!F(m))throw new De('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:m});if("@reverse"!==x){var c=t.getContextValue(e,y,"@container");if("@language"===c&&J(m))g=a(m);else if("@index"===c&&J(m))g=function(n){for(var t=[],r=Object.keys(m).sort(),a=0;a<r.length;++a){var i=r[a],l=m[i];P(l)||(l=[l]),l=u.expand(e,n,l,o,!1);for(var s=0;s<l.length;++s){var c=l[s];"@index"in c||(c["@index"]=i),t.push(c)}}return t}(y);else{var b="@list"===x;if(b||"@set"===x){var w=n;if(b&&"@graph"===p&&(w=null),g=u.expand(e,w,m,o,b),b&&Y(g))throw new De("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else g=u.expand(e,y,m,o,!1)}if(null!==g||"@value"===x)if("@list"===x||Y(g)||"@list"!==c||(g=P(g)?g:[g],g={"@list":g}),e.mappings[y]&&e.mappings[y].reverse){var j=s["@reverse"]=s["@reverse"]||{};P(g)||(g=[g]);for(var O=0;O<g.length;++O){var k=g[O];if(G(k)||Y(k))throw new De('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});t.addValue(j,x,k,{propertyIsArray:!0})}}else{var I=-1===["@index","@id","@type","@value","@language"].indexOf(x);t.addValue(s,x,g,{propertyIsArray:I})}}else{if(!J(m))throw new De('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:m});if(g=u.expand(e,"@reverse",m,o),"@reverse"in g)for(var L in g["@reverse"])t.addValue(s,L,g["@reverse"][L],{propertyIsArray:!0});var j=s["@reverse"]||null;for(var L in g)if("@reverse"!==L){null===j&&(j=s["@reverse"]={}),t.addValue(j,L,[],{propertyIsArray:!0});for(var S=g[L],O=0;O<S.length;++O){var k=S[O];if(G(k)||Y(k))throw new De('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});t.addValue(j,L,k,{propertyIsArray:!0})}}}}}}v=Object.keys(s);var E=v.length;if("@value"in s){if("@type"in s&&"@language"in s)throw new De('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:s});var N=E-1;if("@type"in s&&(N-=1),"@index"in s&&(N-=1),"@language"in s&&(N-=1),0!==N)throw new De('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:s});if(null===s["@value"])s=null;else{if("@language"in s&&!F(s["@value"]))throw new De("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:s});if("@type"in s&&(!K(s["@type"])||0===s["@type"].indexOf("_:")))throw new De('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:s})}}else if("@type"in s&&!P(s["@type"]))s["@type"]=[s["@type"]];else if("@set"in s||"@list"in s){if(E>1&&!(2===E&&"@index"in s))throw new De('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:s});"@set"in s&&(s=s["@set"],v=Object.keys(s),E=v.length)}else 1===E&&"@language"in s&&(s=null);return!J(s)||o.keepFreeFloatingNodes||l||null!==n&&"@graph"!==p||(0===E||"@value"in s||"@list"in s||1===E&&"@id"in s)&&(s=null),s},Re.prototype.createNodeMap=function(e,n){n=n||{};var t=n.namer||new ie("_:b"),r={"@default":{}};return h(e,r,"@default",t),g(r)},Re.prototype.flatten=function(e){for(var n=this.createNodeMap(e),t=[],r=Object.keys(n).sort(),a=0;a<r.length;++a){var o=n[r[a]];$(o)||t.push(o)}return t},Re.prototype.frame=function(e,n,t){var r={options:t,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}},a=new ie("_:b");h(e,r.graphs,"@merged",a),r.subjects=r.graphs["@merged"];var o=[];return y(r,Object.keys(r.subjects).sort(),n,o,null),o},Re.prototype.normalize=function(e,n,r){function a(e){function n(l){if(l===e.length)return o(i,a,r);var u=e[l],c=f(u,s);c in a?(a[c].push(u),r.push(u)):c in i?(a[c]=[i[c],u],r.push(i[c]),r.push(u),delete i[c]):i[c]=u,t.setImmediate(function(){n(l+1)})}var r=[],a={},i={};t.setImmediate(function(){n(0)})}function o(e,n,t){for(var r=!1,o=Object.keys(e).sort(),l=0;l<o.length;++l){var u=e[o[l]];b.getName(u),r=!0}r?a(t):i(n)}function i(e){function n(a){function o(e,t){if(t===e.length){u.sort(function(e,n){return e=e.hash,n=n.hash,n>e?-1:e>n?1:0});for(var i=0;i<u.length;++i)for(var l in u[i].pathNamer.existing)b.getName(l);return n(a+1)}var c=e[t];if(b.isNamed(c))return o(e,t+1);var d=new ie("_:b");d.getName(c),p(c,s,b,d,function(n,a){return n?r(n):(u.push(a),void o(e,t+1))})}if(a===t.length)return l();var i=e[t[a]],u=[];o(i,0)}var t=Object.keys(e).sort();n(0)}function l(){for(var e=[],t=0;t<u.length;++t){for(var a=u[t],o=["subject","object","name"],i=0;i<o.length;++i){var l=o[i];a[l]&&"blank node"===a[l].type&&0!==a[l].value.indexOf("_:c14n")&&(a[l].value=b.getName(a[l].value))}e.push(ae(a,a.name?a.name.value:null))}return e.sort(),n.format?"application/nquads"===n.format?r(null,e.join("")):r(new De("Unknown output format.","jsonld.UnknownFormat",{format:n.format})):void r(null,te(e.join("")))}var u=[],s={};for(var c in e){var d=e[c];"@default"===c&&(c=null);for(var v=0;v<d.length;++v){var h=d[v];null!==c&&(0===c.indexOf("_:")?h.name={type:"blank node",value:c}:h.name={type:"IRI",value:c}),u.push(h);for(var g=["subject","object","name"],y=0;y<g.length;++y){var m=g[y];if(h[m]&&"blank node"===h[m].type){var x=h[m].value;x in s?s[x].quads.push(h):s[x]={quads:[h]}}}}}var b=new ie("_:c14n");return a(Object.keys(s))},Re.prototype.fromRDF=function(e,n,r){var a={},o={"@default":a},i={};for(var l in e){var u=e[l];l in o||(o[l]={}),"@default"===l||l in a||(a[l]={"@id":l});for(var s=o[l],d=0;d<u.length;++d){var f=u[d],p=f.subject.value,v=f.predicate.value,h=f.object;p in s||(s[p]={"@id":p});var g=s[p],y="IRI"===h.type||"blank node"===h.type;if(!y||h.value in s||(s[h.value]={"@id":h.value}),v!==ke||n.useRdfType||!y){var m=c(h,n.useNativeTypes);if(t.addValue(g,v,m,{propertyIsArray:!0}),y)if(h.value===Oe){var x=s[h.value];"usages"in x||(x.usages=[]),x.usages.push({node:g,property:v,value:m})}else h.value in i?i[h.value]=!1:i[h.value]={node:g,property:v,value:m}}else t.addValue(g,"@type",h.value,{propertyIsArray:!0})}}for(var l in o){var b=o[l];if(Oe in b){for(var w=b[Oe],j=0;j<w.usages.length;++j){for(var O=w.usages[j],g=O.node,k=O.property,I=O.value,L=[],S=[],E=Object.keys(g).length;k===je&&J(i[g["@id"]])&&P(g[we])&&1===g[we].length&&P(g[je])&&1===g[je].length&&(3===E||4===E&&P(g["@type"])&&1===g["@type"].length&&g["@type"][0]===be)&&(L.push(g[we][0]),S.push(g["@id"]),O=i[g["@id"]],g=O.node,k=O.property,I=O.value,E=Object.keys(g).length,0===g["@id"].indexOf("_:")););if(k===we){if(g["@id"]===Oe)continue;I=b[I["@id"]][je][0],L.pop(),S.pop()}delete I["@id"],I["@list"]=L.reverse();for(var N=0;N<S.length;++N)delete b[S[N]]}delete w.usages}}for(var C=[],D=Object.keys(a).sort(),j=0;j<D.length;++j){var R=D[j],g=a[R];if(R in o)for(var u=g["@graph"]=[],b=o[R],U=Object.keys(b).sort(),T=0;T<U.length;++T){var _=b[U[T]];$(_)||u.push(_)}$(g)||C.push(g)}r(null,C)},Re.prototype.toRDF=function(e,n){var t=new ie("_:b"),r={"@default":{}};h(e,r,"@default",t);for(var a={},o=Object.keys(r).sort(),i=0;i<o.length;++i){var u=o[i];("@default"===u||K(u))&&(a[u]=l(r[u],t,n))}return a},Re.prototype.processContext=function(e,n,r){J(n)&&"@context"in n&&P(n["@context"])&&(n=n["@context"]);var a=P(n)?n:[n];if(0===a.length)return e.clone();for(var o=e,i=0;i<a.length;++i){var l=a[i];if(null!==l){if(J(l)&&"@context"in l&&(l=l["@context"]),!J(l))throw new De("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{
code:"invalid local context",context:l});if(t.cache.activeCtx){var u=t.cache.activeCtx.get(e,l);if(u){o=e=u;continue}}e=o,o=o.clone();var s={};if("@base"in l){var c=l["@base"];if(null===c)c=null;else{if(!F(c))throw new De('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:l});if(""!==c&&!K(c))throw new De('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:l})}null!==c&&(c=t.url.parse(c||"")),o["@base"]=c,s["@base"]=!0}if("@vocab"in l){var d=l["@vocab"];if(null===d)delete o["@vocab"];else{if(!F(d))throw new De('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});if(!K(d))throw new De('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});o["@vocab"]=d}s["@vocab"]=!0}if("@language"in l){var d=l["@language"];if(null===d)delete o["@language"];else{if(!F(d))throw new De('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:l});o["@language"]=d.toLowerCase()}s["@language"]=!0}for(var f in l)D(o,l,f,s);t.cache.activeCtx&&t.cache.activeCtx.set(e,l,o)}else o=e=_(r)}return o},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),t.registerRDFParser("application/nquads",te),t.registerRDFParser("rdfa-api",oe),t.UniqueNamer=ie,ie.prototype.clone=function(){var e=new ie(this.prefix);return e.counter=this.counter,e.existing=W(this.existing),e},ie.prototype.getName=function(e){if(e&&e in this.existing)return this.existing[e];var n=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=n),n},ie.prototype.isNamed=function(e){return e in this.existing};var Ue=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var n=0;n<e.length;++n)this.left[e[n]]=!0};Ue.prototype.hasNext=function(){return!this.done},Ue.prototype.next=function(){for(var e=this.list.slice(),n=null,t=0,r=this.list.length,a=0;r>a;++a){var o=this.list[a],i=this.left[o];(null===n||o>n)&&(i&&a>0&&o>this.list[a-1]||!i&&r-1>a&&o>this.list[a+1])&&(n=o,t=a)}if(null===n)this.done=!0;else{var l=this.left[n]?t-1:t+1;this.list[t]=this.list[l],this.list[l]=n;for(var a=0;r>a;++a)this.list[a]>n&&(this.left[this.list[a]]=!this.left[this.list[a]])}return e};var Te=t.sha1={};if(e){var _e=require("crypto");Te.create=function(){var e=_e.createHash("sha1");return{update:function(n){e.update(n,"utf8")},digest:function(){return e.digest("hex")}}}}else Te.create=function(){return new Te.MessageDigest};if(Te.hash=function(e){for(var n=Te.create(),t=0;t<e.length;++t)n.update(e[t]);return n.digest()},!e){Te.Buffer=function(){this.data="",this.read=0},Te.Buffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)},Te.Buffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},Te.Buffer.prototype.bytes=function(){return this.data.slice(this.read)},Te.Buffer.prototype.length=function(){return this.data.length-this.read},Te.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read),this.read=0},Te.Buffer.prototype.toHex=function(){for(var e="",n=this.read;n<this.data.length;++n){var t=this.data.charCodeAt(n);16>t&&(e+="0"),e+=t.toString(16)}return e},Te.MessageDigest=function(){qe.initialized||qe.init(),this.blockLength=64,this.digestLength=20,this.messageLength=0,this.input=new Te.Buffer,this.words=new Array(80),this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}},Te.MessageDigest.prototype.update=function(e){e=unescape(encodeURIComponent(e)),this.messageLength+=e.length,this.input.data+=e,qe.update(this.state,this.words,this.input),(this.input.read>2048||0===this.input.length())&&this.input.compact()},Te.MessageDigest.prototype.digest=function(){var e=this.messageLength,n=new Te.Buffer;n.data+=this.input.bytes(),n.data+=qe.padding.substr(0,64-(e+8)%64),n.putInt32(e>>>29&255),n.putInt32(e<<3&4294967295),qe.update(this.state,this.words,n);var t=new Te.Buffer;return t.putInt32(this.state.h0),t.putInt32(this.state.h1),t.putInt32(this.state.h2),t.putInt32(this.state.h3),t.putInt32(this.state.h4),t.toHex()};var qe={padding:null,initialized:!1};qe.init=function(){qe.padding=String.fromCharCode(128);for(var e=String.fromCharCode(0),n=64;n>0;)1&n&&(qe.padding+=e),n>>>=1,n>0&&(e+=e);qe.initialized=!0},qe.update=function(e,n,t){for(var r,a,o,i,l,u,s,c,d=t.length();d>=64;){for(a=e.h0,o=e.h1,i=e.h2,l=e.h3,u=e.h4,c=0;16>c;++c)r=t.getInt32(),n[c]=r,s=l^o&(i^l),r=(a<<5|a>>>27)+s+u+1518500249+r,u=l,l=i,i=o<<30|o>>>2,o=a,a=r;for(;20>c;++c)r=n[c-3]^n[c-8]^n[c-14]^n[c-16],r=r<<1|r>>>31,n[c]=r,s=l^o&(i^l),r=(a<<5|a>>>27)+s+u+1518500249+r,u=l,l=i,i=o<<30|o>>>2,o=a,a=r;for(;32>c;++c)r=n[c-3]^n[c-8]^n[c-14]^n[c-16],r=r<<1|r>>>31,n[c]=r,s=o^i^l,r=(a<<5|a>>>27)+s+u+1859775393+r,u=l,l=i,i=o<<30|o>>>2,o=a,a=r;for(;40>c;++c)r=n[c-6]^n[c-16]^n[c-28]^n[c-32],r=r<<2|r>>>30,n[c]=r,s=o^i^l,r=(a<<5|a>>>27)+s+u+1859775393+r,u=l,l=i,i=o<<30|o>>>2,o=a,a=r;for(;60>c;++c)r=n[c-6]^n[c-16]^n[c-28]^n[c-32],r=r<<2|r>>>30,n[c]=r,s=o&i|l&(o^i),r=(a<<5|a>>>27)+s+u+2400959708+r,u=l,l=i,i=o<<30|o>>>2,o=a,a=r;for(;80>c;++c)r=n[c-6]^n[c-16]^n[c-28]^n[c-32],r=r<<2|r>>>30,n[c]=r,s=o^i^l,r=(a<<5|a>>>27)+s+u+3395469782+r,u=l,l=i,i=o<<30|o>>>2,o=a,a=r;e.h0+=a,e.h1+=o,e.h2+=i,e.h3+=l,e.h4+=u,d-=64}}}if(!pe)var Je=function(){pe=require("xmldom").XMLSerializer};if(t.url={},t.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.url.parse=function(e,n){for(var r={},a=t.url.parsers[n||"full"],o=a.regex.exec(e),i=a.keys.length;i--;)r[a.keys[i]]=void 0===o[i]?null:o[i];return r.normalizedPath=le(r.path,!!r.authority),r},e?t.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&t.useDocumentLoader("xhr"),e){t.use=function(e){switch(e){case"request":t.request=require("./request");break;default:throw new De("Unknown extension.","jsonld.UnknownExtension",{extension:e})}};var Ae={exports:{},filename:__dirname};require("pkginfo")(Ae,"version"),t.version=Ae.exports.version}return t},r=function(){return t(function(){return r()})};return!e&&"function"==typeof define&&define.amd?define([],function(){return t(r),r}):(t(r),"function"==typeof require&&"undefined"!=typeof module&&module.exports&&(module.exports=r),n&&("undefined"==typeof jsonld?jsonld=jsonldjs=r:jsonldjs=r)),r}();

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},"/node_modules/rdf-ext/node_modules/jsonld/js")
},{"./request":80,"_process":14,"crypto":80,"es6-promise":21,"http":80,"pkginfo":57,"request":80,"util":80,"xmldom":80}],82:[function(require,module,exports){
function RDFa(){}var _nodejs="undefined"!=typeof module;if(RDFa.attach=function(t,e){function r(){}function a(t){this.target=t,this.target.tripleCount=0,this.target.triplesGraph={},this.target.prefixes={},this.target.terms={},this.language=null,this.vocabulary=null,this.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",this.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",this.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",this.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.contentAttributes=["content"],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/}function s(t){this.query=function(e,r){if(!e)return t.getProjections(r);var a=[];for(var s in t._data_.triplesGraph){var i=t._data_.triplesGraph[s];for(var h in e){var o=t._data_.curieParser.parse(h,!0),p=i.predicates[o];if(!p){i=null;break}for(var l=t._data_.curieParser.parse(e[h],!1),c=null,u=0;!c&&u<p.objects.length;u++)p.objects[u].value==l&&(c=p.objects[u]);if(!c){i=null;break}}i&&a.push(n.toProjection(t,i,r))}return a}}function i(t,e){this._data_={owner:t,subject:e,properties:{}}}function n(t){this._data_={tripleCount:0,triplesGraph:{},prefixes:{},terms:{},baseURI:this.parseURI(t)};var e=this._data_;this._data_.curieParser={trim:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},parse:function(t,r){t=this.trim(t),"["==t.charAt(0)&&"]"==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1));var a=t.indexOf(":");if(a>=0){var s=t.substring(0,a);if(""==s){var i=e.prefixes[""];return i?i+t.substring(a+1):null}if("_"==s)return"_:"+t.substring(a+1);if(n.NCNAME.test(s)){var i=e.prefixes[s];if(i)return i+t.substring(a+1)}}return r?e.baseURI.resolve(t):t}},Object.defineProperty(this,"rdfa",{value:new s(this),writable:!1,configurable:!1,enumerable:!0})}if(_nodejs)var h=t.location.href;r.SCHEME=new RegExp("^[A-Za-z][A-Za-z0-9+-.]*:"),r.prototype.parseURI=function(t){_nodejs&&(t=t||h);var e=r.SCHEME.exec(t);if(!e){if(_nodejs)throw new Error("Bad URI value, no scheme: "+t);throw"Bad URI value, no scheme: "+t}var a={spec:t};return a.scheme=e[0].substring(0,e[0].length-1),a.schemeSpecificPart=a.spec.substring(e[0].length),"/"==a.schemeSpecificPart.charAt(0)&&"/"==a.schemeSpecificPart.charAt(1)?this.parseGeneric(a):a.isGeneric=!1,a.normalize=function(){if(this.isGeneric&&0!=this.segments.length){if(this.path.length>1&&"/."==this.path.substring(this.path.length-2))return this.path=this.path.substring(0,this.path.length-1),this.segments.splice(this.segments.length-1,1),this.schemeSpecificPart="//"+this.authority+this.path,"undefined"!=typeof this.query&&(this.schemeSpecificPart+="?"+this.query),"undefined"!=typeof this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),void(this.spec=this.scheme+":"+this.schemeSpecificPart);var t=this.path.charAt(this.path.length-1);"/"!=t&&(t="");for(var e=0;e<this.segments.length;e++)e>0&&".."==this.segments[e]&&(this.segments.splice(e-1,2),e-=2),"."==this.segments[e]&&(this.segments.splice(e,1),e--);this.path=0==this.segments.length?"/":"/"+this.segments.join("/")+t,this.schemeSpecificPart="//"+this.authority+this.path,"undefined"!=typeof this.query&&(this.schemeSpecificPart+="?"+this.query),"undefined"!=typeof this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),this.spec=this.scheme+":"+this.schemeSpecificPart}},a.resolve=function(t){if(!t)return this.spec;if("#"==t.charAt(0)){var e=this.spec.lastIndexOf("#");return 0>e?this.spec+t:this.spec.substring(0,e)+t}if(!this.isGeneric)throw"Cannot resolve uri against non-generic URI: "+this.spec;t.indexOf(":");if("/"==t.charAt(0))return this.scheme+"://"+this.authority+t;if("."==t.charAt(0)&&"/"==t.charAt(1)){if("/"==this.path.charAt(this.path.length-1))return this.scheme+"://"+this.authority+this.path+t.substring(2);var a=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,a)+t.substring(1)}if(r.SCHEME.test(t))return t;if("?"==t.charAt(0))return this.scheme+"://"+this.authority+this.path+t;if("/"==this.path.charAt(this.path.length-1))return this.scheme+"://"+this.authority+this.path+t;var a=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,a+1)+t},a.relativeTo=function(t){if(t.scheme!=this.scheme)return this.spec;if(!this.isGeneric)throw"A non generic URI cannot be made relative: "+this.spec;if(!t.isGeneric)throw"Cannot make a relative URI against a non-generic URI: "+t.spec;if(t.authority!=this.authority)return this.spec;for(var e=0;e<this.segments.length&&e<t.segments.length;e++)if(this.segments[e]!=t.segments[e]){for(var r="",a=e;a<t.segments.length;a++)r+="../";for(var a=e;a<this.segments.length;a++)r+=this.segments[a],a+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}if(this.segments.length==t.segments.length)return this.hash?this.hash:this.query?this.query:"";if(e<this.segments.length){for(var r="",a=e;a<this.segments.length;a++)r+=this.segments[a],a+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}throw"Cannot calculate a relative URI for "+this.spec+" against "+t.spec},a},r.prototype.parseGeneric=function(t){if("/"!=t.schemeSpecificPart.charAt(0)||"/"!=t.schemeSpecificPart.charAt(1))throw"Generic URI values should start with '//':"+t.spec;var e=t.schemeSpecificPart.substring(2),r=e.indexOf("/");t.authority=0>r?e:e.substring(0,r),t.path=0>r?"":e.substring(r);var a=t.path.indexOf("#");a>=0&&(t.fragment=t.path.substring(a+1),t.path=t.path.substring(0,a));var s=t.path.indexOf("?");s>=0&&(t.query=t.path.substring(s+1),t.path=t.path.substring(0,s)),"/"==t.path||""==t.path?t.segments=[]:(t.segments=t.path.split(/\//),t.segments.length>0&&""==t.segments[0]&&t.path.length>1&&"/"!=t.path.charAt(1)&&t.segments.shift(),t.segments.length>0&&t.path.length>0&&"/"==t.path.charAt(t.path.length-1)&&""==t.segments[t.segments.length-1]&&t.path.length>1&&"/"!=t.path.charAt(t.path.length-2)&&t.segments.pop()),t.isGeneric=!0},Object.size=function(t){var e=0;for(var r in t)t.hasOwnProperty(r)&&e++;return e},a.prototype=new r,a.prototype.constructor=a,a.prototype.newBlankNode=function(){return this.blankCounter++,"_:"+this.blankCounter},a.nameChar="[-A-Z_a-z-----------0-F.0-9--]",a.nameStartChar="[A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------_]",a.NCNAME=new RegExp("^"+a.nameStartChar+a.nameChar+"*$"),a.prototype.trim=function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},a.prototype.tokenize=function(t){return this.trim(t).split(/\s+/)},a.prototype.parseSafeCURIEOrCURIEOrURI=function(t,e,r){return t=this.trim(t),"["==t.charAt(0)&&"]"==t.charAt(t.length-1)?(t=t.substring(1,t.length-1),t=t.trim(t),0==t.length?null:this.parseCURIE(t,e,r)):this.parseCURIEOrURI(t,e,r)},a.prototype.parseCURIE=function(t,e,r){var s=t.indexOf(":");if(s>=0){var i=t.substring(0,s);if(""==i){var n=e[""];return n?n+t.substring(s+1):null}if("_"==i)return"_:"+t.substring(s+1);if(a.NCNAME.test(i)){var n=e[i];if(n)return n+t.substring(s+1)}}return null},a.prototype.parseCURIEOrURI=function(t,e,r){var a=this.parseCURIE(t,e,r);return a?a:this.resolveAndNormalize(r,t)},a.prototype.parsePredicate=function(t,e,r,a,s){var i=this.parseTermOrCURIEOrAbsURI(t,e,r,a,s);return i&&0==i.indexOf("_:")?null:i},a.prototype.parseTermOrCURIEOrURI=function(t,e,r,a,s){t=this.trim(t);var i=this.parseCURIE(t,a,s);if(i)return i;var n=r[t];if(n)return n;var h=t.toLowerCase();return(n=r[h])?n:e&&!this.absURIRE.exec(t)?e+t:this.resolveAndNormalize(s,t)},a.prototype.parseTermOrCURIEOrAbsURI=function(t,e,r,a,s){t=this.trim(t);var i=this.parseCURIE(t,a,s);if(i)return i;if(e&&!this.absURIRE.exec(t))return e+t;var n=r[t];if(n)return n;var h=t.toLowerCase();return(n=r[h])?n:this.absURIRE.exec(t)?this.resolveAndNormalize(s,t):null},a.prototype.resolveAndNormalize=function(t,e){var r=t.resolve(e),a=this.parseURI(r);return a.normalize(),a.spec},a.prototype.parsePrefixMappings=function(t,e){for(var r=this.tokenize(t),a=null,s=0;s<r.length;s++)":"==r[s][r[s].length-1]?a=r[s].substring(0,r[s].length-1):a&&(e[a]=r[s],a=null)},a.prototype.copyMappings=function(t){var e={};for(var r in t)e[r]=t[r];return e},a.prototype.ancestorPath=function(t){for(var e="";t&&t.nodeType!=Node.DOCUMENT_NODE;)e="/"+t.localName+e,t=t.parentNode;return e},a.prototype.setContext=function(t){"html"==t.localName&&"XHTML+RDFa 1.1"==t.getAttribute("version")?this.setXHTMLContext():"html"==t.localName||"http://www.w3.org/1999/xhtml"==t.namespaceURI?this.setHTMLContext():this.setXMLContext()},a.prototype.setInitialContext=function(){this.vocabulary=null,this.target.prefixes={},this.target.terms={},this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.contentAttributes=["content"],this.target.prefixes[""]="http://www.w3.org/1999/xhtml/vocab#",this.target.prefixes.grddl="http://www.w3.org/2003/g/data-view#",this.target.prefixes.ma="http://www.w3.org/ns/ma-ont#",this.target.prefixes.owl="http://www.w3.org/2002/07/owl#",this.target.prefixes.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",this.target.prefixes.rdfa="http://www.w3.org/ns/rdfa#",this.target.prefixes.rdfs="http://www.w3.org/2000/01/rdf-schema#",this.target.prefixes.rif="http://www.w3.org/2007/rif#",this.target.prefixes.skos="http://www.w3.org/2004/02/skos/core#",this.target.prefixes.skosxl="http://www.w3.org/2008/05/skos-xl#",this.target.prefixes.wdr="http://www.w3.org/2007/05/powder#",this.target.prefixes["void"]="http://rdfs.org/ns/void#",this.target.prefixes.wdrs="http://www.w3.org/2007/05/powder-s#",this.target.prefixes.xhv="http://www.w3.org/1999/xhtml/vocab#",this.target.prefixes.xml="http://www.w3.org/XML/1998/namespace",this.target.prefixes.xsd="http://www.w3.org/2001/XMLSchema#",this.target.prefixes.sd="http://www.w3.org/ns/sparql-service-description#",this.target.prefixes.org="http://www.w3.org/ns/org#",this.target.prefixes.gldp="http://www.w3.org/ns/people#",this.target.prefixes.cnt="http://www.w3.org/2008/content#",this.target.prefixes.dcat="http://www.w3.org/ns/dcat#",this.target.prefixes.earl="http://www.w3.org/ns/earl#",this.target.prefixes.ht="http://www.w3.org/2006/http#",this.target.prefixes.ptr="http://www.w3.org/2009/pointers#",this.target.prefixes.cc="http://creativecommons.org/ns#",this.target.prefixes.ctag="http://commontag.org/ns#",this.target.prefixes.dc="http://purl.org/dc/terms/",this.target.prefixes.dcterms="http://purl.org/dc/terms/",this.target.prefixes.foaf="http://xmlns.com/foaf/0.1/",this.target.prefixes.gr="http://purl.org/goodrelations/v1#",this.target.prefixes.ical="http://www.w3.org/2002/12/cal/icaltzd#",this.target.prefixes.og="http://ogp.me/ns#",this.target.prefixes.rev="http://purl.org/stuff/rev#",this.target.prefixes.sioc="http://rdfs.org/sioc/ns#",this.target.prefixes.v="http://rdf.data-vocabulary.org/#",this.target.prefixes.vcard="http://www.w3.org/2006/vcard/ns#",this.target.prefixes.schema="http://schema.org/",this.target.terms.describedby="http://www.w3.org/2007/05/powder-s#describedby",this.target.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.terms.role="http://www.w3.org/1999/xhtml/vocab#role"},a.prototype.setXMLContext=function(){this.setInitialContext(),this.inXHTMLMode=!1},a.prototype.setHTMLContext=function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.contentAttributes=["value","datetime","content"],this.inXHTMLMode=!1},a.prototype.setXHTMLContext=function(){this.setInitialContext(),this.inXHTMLMode=!0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.contentAttributes=["content"],this.target.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"},a.prototype.getTransferGraph=function(){var t={};for(var e in this.target.triplesGraph){var r=this.target.triplesGraph[e],a={subject:e,predicates:{}};t[e]=a;for(var s in r.predicates){var i=r.predicates[s],n={predicate:s,objects:[]};a.predicates[s]=n;for(var h=0;h<i.objects.length;h++){var o=i.objects[h];if(o.type==this.XMLLiteralURI){for(var p=new XMLSerializer,l="",c=0;c<o.value.length;c++)o.value[c].nodeType==Node.ELEMENT_NODE?l+=p.serializeToString(o.value[c]):o.value[c].nodeType==Node.TEXT_NODE&&(l+=o.value[c].nodeValue);n.objects.push({type:o.type,value:l})}else n.objects.push({type:o.type,value:o.value})}}}return t},a.prototype.newSubject=function(t,e,r){var a=t.triplesGraph[r];a||(a={subject:r,predicates:{},origins:[]},t.triplesGraph[r]=a);for(var s=0;s<a.origins.length;s++)if(a.origins[s]==e)return a;return a.origins.push(e),a},a.prototype.addTriple=function(t,e,r,a,s){var i=(t.triplesGraph,this.newSubject(t,e,r)),n=i.predicates[a];n||(n={predicate:a,objects:[]},i.predicates[a]=n);for(var h=0;h<n.objects.length;h++)if(n.objects[h].type==s.type&&n.objects[h].value==s.value)return;t.tripleCount++,n.objects.push(s),s.origin=e},a.prototype.process=function(t){t.parentNode.nodeType==Node.DOCUMENT_NODE&&this.setContext(t);var e=[];for(e.push({current:t,context:this.push(null,t.baseURI)});e.length>0;){var r=e.shift();if(r.parent){if(r.context.parent&&r.context.parent.listMapping==r.listMapping)continue;for(var a in r.listMapping){var s=r.listMapping[a];if(0!=s.length){for(var i=[],n=0;n<s.length;n++)i.push(this.newBlankNode()),this.newSubject(this.target,r.parent,i[n]);for(var n=0;n<i.length;n++)this.addTriple(this.target,r.parent,i[n],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",s[n]),this.addTriple(this.target,r.parent,i[n],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:this.objectURI,value:n+1<i.length?i[n+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(this.target,r.parent,r.subject,a,{type:this.objectURI,value:i[0]})}else this.addTriple(this.target,r.parent,r.subject,a,{type:this.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var h=r.current,o=r.context,p=!1,l=null,c=null,u=null,g=o.prefixes,f=!1,d=[],v=o.listMapping,w=o.parent?!1:!0,b=o.language,m=o.vocabulary,y=this.parseURI(h.baseURI);h.subject=null;var _=h.getAttributeNode("vocab");if(_){var x=this.trim(_.value);if(x.length>0){m=x;var j=y.spec;this.newSubject(this.target,h,j),this.addTriple(this.target,h,j,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:this.objectURI,value:m})}else m=this.vocabulary}for(var n=0;n<h.attributes.length;n++){var R=h.attributes[n];if("x"==R.nodeName.charAt(0)&&0==R.nodeName.indexOf("xmlns:")){f||(g=this.copyMappings(g),f=!0);var I=R.nodeName.substring(6);g[I]=this.trim(R.value)}}var U=h.getAttributeNode("prefix");U&&(f||(g=this.copyMappings(g),f=!0),this.parsePrefixMappings(U.value,g));for(var N=null,n=0;!N&&n<this.langAttributes.length;n++)N=h.getAttributeNodeNS(this.langAttributes[n].namespaceURI,this.langAttributes[n].localName);if(N){var x=this.trim(N.value);x.length>0&&(b=x)}for(var E=h.getAttributeNode("rel"),A=h.getAttributeNode("rev"),O=h.getAttributeNode("typeof"),C=h.getAttributeNode("property"),M=h.getAttributeNode("datatype"),P=null,n=0;!P&&n<this.contentAttributes.length;n++)P=h.getAttributeNode(this.contentAttributes[n]);var T=h.getAttributeNode("about"),L=h.getAttributeNode("src"),S=h.getAttributeNode("resource"),G=h.getAttributeNode("href"),z=h.getAttributeNode("inlist");if(E||A?(T&&(l=this.parseSafeCURIEOrCURIEOrURI(T.value,g,y)),O&&(u=l),l||(h.parentNode.nodeType==Node.DOCUMENT_NODE?l=h.baseURI:o.parentObject&&(l=h.parentNode.baseURI==o.parentObject?h.baseURI:o.parentObject)),S&&(c=this.parseSafeCURIEOrCURIEOrURI(S.value,g,y)),c||(G?c=this.resolveAndNormalize(y,G.value):L?c=this.resolveAndNormalize(y,L.value):!O||T||this.inXHTMLMode&&("head"==h.localName||"body"==h.localName)||(c=this.newBlankNode())),!O||T||!this.inXHTMLMode||"head"!=h.localName&&"body"!=h.localName?O&&!T&&(u=c):u=l):!C||P||M?(T&&(l=this.parseSafeCURIEOrCURIEOrURI(T.value,g,y)),!l&&S&&(l=this.parseSafeCURIEOrCURIEOrURI(S.value,g,y)),!l&&G&&(l=this.resolveAndNormalize(y,G.value)),!u&&L&&(l=this.resolveAndNormalize(y,L.value)),l||(h.parentNode.nodeType==Node.DOCUMENT_NODE?l=h.baseURI:!this.inXHTMLMode||"head"!=h.localName&&"body"!=h.localName?O?l=this.newBlankNode():o.parentObject&&(l=h.parentNode.baseURI==o.parentObject?h.baseURI:o.parentObject,C||(p=!0)):l=h.parentNode.baseURI==o.parentObject?h.baseURI:o.parentObject),O&&(u=l)):(T&&(l=this.parseSafeCURIEOrCURIEOrURI(T.value,g,y),O&&(u=l)),l||h.parentNode.nodeType!=Node.DOCUMENT_NODE?!l&&o.parentObject&&(l=h.parentNode.baseURI==o.parentObject?h.baseURI:o.parentObject):(l=h.baseURI,O&&(u=l)),O&&!u&&(S&&(u=this.parseSafeCURIEOrCURIEOrURI(S.value,g,y)),!u&&G&&(u=this.resolveAndNormalize(y,G.value)),!u&&L&&(u=this.resolveAndNormalize(y,L.value)),u||!this.inXHTMLMode||"head"!=h.localName&&"body"!=h.localName||(u=l),u||(u=this.newBlankNode()),c=u)),l&&(this.newSubject(this.target,h,l),h.subject=l),u)for(var k=this.tokenize(O.value),n=0;n<k.length;n++){var X=this.parseTermOrCURIEOrAbsURI(k[n],m,o.terms,g,y);X&&this.addTriple(this.target,h,u,this.typeURI,{type:this.objectURI,value:X})}if(l&&l!=o.parentObject&&(v={},w=!0),c){if(E&&z)for(var k=this.tokenize(E.value),n=0;n<k.length;n++){var a=this.parsePredicate(k[n],m,o.terms,g,y);if(a){var s=v[a];s||(s=[],v[a]=s),s.push({type:this.objectURI,value:c})}}else if(E)for(var k=this.tokenize(E.value),n=0;n<k.length;n++){var a=this.parsePredicate(k[n],m,o.terms,g,y);a&&this.addTriple(this.target,h,l,a,{type:this.objectURI,value:c})}if(A)for(var k=this.tokenize(A.value),n=0;n<k.length;n++){var a=this.parsePredicate(k[n],m,o.terms,g,y);a&&this.addTriple(this.target,h,c,a,{type:this.objectURI,value:l})}}else{if(l&&!c&&(E||A)&&(c=this.newBlankNode()),E&&z)for(var k=this.tokenize(E.value),n=0;n<k.length;n++){var a=this.parsePredicate(k[n],m,o.terms,g,y);if(a){var s=v[a];s||(s=[],v[a]=s),d.push({predicate:a,list:s})}}else if(E)for(var k=this.tokenize(E.value),n=0;n<k.length;n++){var a=this.parsePredicate(k[n],m,o.terms,g,y);a&&d.push({predicate:a,forward:!0})}if(A)for(var k=this.tokenize(A.value),n=0;n<k.length;n++){var a=this.parsePredicate(k[n],m,o.terms,g,y);a&&d.push({predicate:a,forward:!1})}}if(C){var D=null,H=null;M?(D=""==M.value?this.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(M.value,m,o.terms,g,y),H=D==this.XMLLiteralURI?null:P?P.value:h.textContent):P?(D=this.PlainLiteralURI,H=P.value):E||A||P||(S&&(H=this.parseSafeCURIEOrCURIEOrURI(S.value,g,y)),!H&&G?H=this.resolveAndNormalize(y,G.value):!H&&L&&(H=this.resolveAndNormalize(y,L.value)),H&&(D=this.objectURI)),D||(O&&!T?(D=this.objectURI,H=u):(D=this.PlainLiteralURI,H=h.textContent));for(var k=this.tokenize(C.value),n=0;n<k.length;n++){var a=this.parsePredicate(k[n],m,o.terms,g,y);if(a)if(z){var s=v[a];s||(s=[],v[a]=s),s.push(D==this.XMLLiteralURI?{type:this.XMLLiteralURI,value:h.childNodes}:{type:D?D:this.PlainLiteralURI,value:H,language:b})}else D==this.XMLLiteralURI?this.addTriple(this.target,h,l,a,{type:this.XMLLiteralURI,value:h.childNodes}):this.addTriple(this.target,h,l,a,{type:D?D:this.PlainLiteralURI,value:H,language:b})}}if(l&&!p)for(var n=0;n<o.incomplete.length;n++)o.incomplete[n].list?o.incomplete[n].list.push({type:this.objectURI,value:l}):o.incomplete[n].forward?this.addTriple(this.target,h,o.subject,o.incomplete[n].predicate,{type:this.objectURI,value:l}):this.addTriple(this.target,h,l,o.incomplete[n].predicate,{type:this.objectURI,value:o.subject});var B=null,F=l;p?(B=this.push(o,o.subject),B.parentObject=h.parentNode.baseURI==o.parentObject?h.baseURI:o.parentObject,B.incomplete=o.incomplete,B.language=b,B.prefixes=g,B.vocabulary=m):(B=this.push(o,l),B.parentObject=c?c:l?l:o.subject,B.prefixes=g,B.incomplete=d,c&&(F=c,v={},w=!0),B.listMapping=v,B.language=b,B.vocabulary=m),w&&e.unshift({parent:h,context:o,subject:F,listMapping:v});for(var q=h.lastChild;q;q=q.previousSibling)q.nodeType==Node.ELEMENT_NODE&&e.unshift({current:q,context:B})}}for(var Z in this.target.triplesGraph){var V=this.target.triplesGraph[Z];0==Object.size(V.predicates)&&delete this.target.triplesGraph[Z]}},a.prototype.push=function(t,e){return{parent:t,subject:e?e:t?t.subject:null,parentObject:null,incomplete:[],listMapping:t?t.listMapping:{},language:t?t.language:this.language,prefixes:t?t.prefixes:this.target.prefixes,terms:t?t.terms:this.target.terms,vocabulary:t?t.voabulary:this.vocabulary}},i.prototype.getProperties=function(){var t=[];for(var e in this._data_.properties)t.push(e);return t},i.prototype.getSubject=function(){return this._data_.subject},i.prototype.get=function(t){var e=this._data_.owner._data_.curieParser.parse(t,!0),r=this._data_.properties[e];return r?r[0]:null},i.prototype.getAll=function(t){var e=this._data_.owner._data_.curieParser.parse(t,!0);return this._data_.properties[e]},n.prototype=new r,n.prototype.constructor=n,n.nameChar="[-A-Z_a-z-----------0-F.0-9--]",n.nameStartChar="[A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------_]",n.NCNAME=new RegExp("^"+a.nameStartChar+a.nameChar+"*$"),n.toProjection=function(t,e,r){var a=new i(t,e.subject);for(var s in e.predicates){var n=e.predicates[s],h=[];a._data_.properties[s]=h;for(var o=0;o<n.objects.length;o++)h.push(n.objects[o].value)}if(r)for(var p in r){var s=r[p];s=t._data_.curieParser.parse(s,!0);var h=a._data_.properties[s];h&&(a[p]=1==h.length?h[0]:h)}return a},n.prototype.getProperties=function(t){var e=[];if(t){if(t=this._data_.curieParser.parse(t,!0),s=this._data_.triplesGraph[t])for(var r in s.predicates)e.push(r)}else{var a={};for(var t in this._data_.triplesGraph){var s=this._data_.triplesGraph[t];if(s)for(var r in s.predicates)a[r]||(a[r]=!0,e.push(r))}}return e},n.prototype.getSubjects=function(t,e){var r=[];if(t&&(t=this._data_.curieParser.parse(t,!0)),t&&e){var a=this._data_.curieParser.parse(e,!0);for(var s in this._data_.triplesGraph){var i=this._data_.triplesGraph[s],n=i.predicates[t];if(n)for(var h=0;h<n.objects.length;h++)if(n.objects[h].value==e||n.objects[h].value==a){r.push(s);break}}}else if(t)for(var s in this._data_.triplesGraph){var i=this._data_.triplesGraph[s],n=i.predicates[t];n&&r.push(s)}else if(e){var a=this._data_.curieParser.parse(e,!0);for(var s in this._data_.triplesGraph){var i=this._data_.triplesGraph[s];for(var o in i.predicates){var n=s.predicates[o];if(n){for(var p=null,h=0;!p&&h<n.objects.length;h++)(n.objects[h].value==e||node.objects[h].value==a)&&(p=n.objects[h]);if(p){r.push(s);break}}}}}else for(var s in this._data_.triplesGraph)r.push(s);return r},n.prototype.getValues=function(t,e){var r=[];if(e&&(e=this._data_.curieParser.parse(e,!0)),t){t=this._data_.curieParser.parse(t,!0);var a=this._data_.triplesGraph[t];if(a)if(e){var s=a.predicates[e];if(s)for(var i=0;i<s.objects.length;i++)r.push(s.objects[i].value)}else for(var n in a.predicates)for(var s=a.predicates[n],i=0;i<s.objects.length;i++)r.push(s.objects[i].value)}else if(e)for(var t in this._data_.triplesGraph){var a=this._data_.triplesGraph[t],s=a.predicates[e];if(s)for(var i=0;i<s.objects.length;i++)r.push(s.objects[i].value)}else for(var t in this._data_.triplesGraph){var a=this._data_.triplesGraph[t];for(var n in a.predicates)for(var s=a.predicates[n],i=0;i<s.objects.length;i++)r.push(s.objects[i].value)}return r},n.prototype.setMapping=function(t,e){this._data_.prefixes[t]=e},n.prototype.getSubjectTriples=function(t){if(!t)return null;t=this._data_.curieParser.parse(t,!0);var e={subject:t,predicates:{}},r=this._data_.triplesGraph[t];if(!r)return null;for(var a in r.predicates){var s=r.predicates[a],i=[];e.predicates[a]={predicate:a,objects:i};for(var n=0;n<s.objects.length;n++){var h=s.objects[n];if(h.type==this.XMLLiteralURI){for(var o=new XMLSerializer,p="",l=0;l<h.value.length;l++)h.value[l].nodeType==Node.ELEMENT_NODE?p+=o.serializeToString(h.value[l]):h.value[l].nodeType==Node.TEXT_NODE&&(p+=h.value[l].nodeValue);i.push({type:h.type,value:p})}else i.push({type:h.type,value:h.value})}}return e},n.prototype.getProjection=function(t,e){if(!t)return null;t=this._data_.curieParser.parse(t,!0);var r=this._data_.triplesGraph[t];return r?n.toProjection(this,r,e):null},n.prototype.getProjections=function(t,e,r){t&&(t=this._data_.curieParser.parse(t,!0));var a=[];if("undefined"==typeof e&&"undefined"==typeof r&&(r=t),t&&e){var s=this._data_.curieParser.parse(e,!0);for(var i in this._data_.triplesGraph){var h=this._data_.triplesGraph[i],o=h.predicates[t];if(o)for(var p=0;p<o.objects.length;p++)if(o.objects[p].value==e||o.objects[p].value==s){a.push(n.toProjection(this,h,r));break}}}else if(t)for(var i in this._data_.triplesGraph){var h=this._data_.triplesGraph[i];h.predicates[t]&&a.push(n.toProjection(this,h,r))}else for(var i in this._data_.triplesGraph){var h=this._data_.triplesGraph[i];a.push(n.toProjection(this,h,r))}return a},n.attach=function(t){Object.defineProperty(t,"data",{value:new n(t.baseURI||t.location.href),writable:!1,configurable:!1,enumerable:!0}),t.getElementsByType=function(t){return this.getElementsByProperty("http://www.w3.org/1999/02/22-rdf-syntax-ns#type",t)},t.getElementsBySubject=function(t){var e=[];e.item=function(t){return this[t]},t=this.data._data_.curieParser.parse(t,!0);var r=this.data._data_.triplesGraph[t];if(r)for(var a=0;a<r.origins.length;a++)e.push(r.origins[a]);return e},t.getElementsByProperty=function(t,e){var r=[];r.item=function(t){return this[t]},e&&(e=this.data._data_.curieParser.parse(e,!1));var a="undefined"==typeof e;t=this.data._data_.curieParser.parse(t,!0);for(var s in this.data._data_.triplesGraph){var i=this.data._data_.triplesGraph[s],n=i.predicates[t];if(n)for(var h=0;h<n.objects.length;h++)(a||n.objects[h].value==e)&&r.push(n.objects[h].origin)}return r},t.getElementSubject=function(t){for(var e in this.data._data_.triplesGraph){var r=this.data._data_.triplesGraph[e];for(predicate in r.predicates)for(var a=r.predicates[predicate],s=0;s<a.objects.length;s++)if(a.objects[s].origin==t)return e}return null}};var o=t.implementation.hasFeature;t.implementation.hasFeature=function(t,e){return"RDFaAPI"==t&&"1.1"==e?!0:o(t,e)};var p=t.data?!0:!1;if(t.head&&!_nodejs){var l=t.createElement("meta");l.setAttribute("name","green-turtle-rdfa-message"),t.head.appendChild(l);var c=function(){var e=t.createEvent("Event");return e.initEvent("green-turtle-rdfa-extension",!0,!0),e};l.addEventListener("green-turtle-rdfa-document",function(e){var r=JSON.parse(l.getAttribute("content"));if("status"==r.type){var a=c();l.setAttribute("content",'{ "type": "status", "loaded": '+p+', "count": '+t.data._data_.tripleCount+" }"),setTimeout(function(){l.dispatchEvent(a)},1)}else if("get-subjects"==r.type){var s=t.data.getSubjects();l.setAttribute("content",'{ "type": "subjects", "subjects": '+JSON.stringify(s)+" }");var e=c();setTimeout(function(){l.dispatchEvent(e)},1)}else if("get-subject"==r.type){var i=null;if(t.data.getSubjectTriples)i=t.data.getSubjectTriples(r.subject);else{for(var s={},n=t.data.getSubjects(),h=0;h<n.length;h++)s[n[h]]=!0;i={subject:r.subject,predicates:{}};for(var o=t.data.getProjection(r.subject),u=o.getProperties(),h=0;h<u.length;h++){var g=[];i.predicates[u[h]]={predicate:predicate,objects:g};for(var f=o.getAll(u[h]),d=0;d<f.length;d++)s[f[d]]?g.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:f[d]}):g.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",value:f[d]})}}var v={type:"subject",subject:r.subject,triples:i};l.setAttribute("content",JSON.stringify(v));var e=c();setTimeout(function(){l.dispatchEvent(e)},1)}},!1)}if(e||!t.data){e||n.attach(t);var u=new a(t.data._data_);u.process(t.documentElement),p=!0}},_nodejs){if(module.exports=RDFa,"undefined"==typeof Node)var Node={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9}}else"loading"==document.readyState?window.addEventListener("load",function(){RDFa.attach(document)},!1):RDFa.attach(document);

},{}],83:[function(require,module,exports){
(function (process){
"use strict";var rdf=require("rdf-interfaces");rdf.isNode="undefined"!=typeof process&&process.versions&&process.versions.node;var mixin=function(r){r=r||{},"undefined"!=typeof window&&(window.rdf=rdf),"undefined"!=typeof Promise?rdf.Promise=Promise:rdf.Promise=null,rdf.defaultRequest=null,rdf.corsProxyRequest=null,rdf.ns={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},require("./lib/utils")(rdf),rdf.isNode?require("./lib/utils-node")(rdf):require("./lib/utils-browser")(rdf),"undefined"==typeof rdf.Graph&&(rdf.Graph={}),rdf.Graph.difference=function(r,e){var i=rdf.createGraph();return r.forEach(function(r){e.some(function(e){return r.equals(e)})||i.add(r)}),i},rdf.Graph.intersection=function(r,e){var i=rdf.createGraph();return r.forEach(function(r){e.some(function(e){return r.equals(e)})&&i.add(r)}),i},rdf.Graph.map=function(r,e){var i=[];return r.forEach(function(r){i.push(e(r))}),i},rdf.Graph.merge=function(r,e){var i=rdf.createGraph();return i.addAll(r),i.addAll(e),i},rdf.Graph.toString=function(r){var e="";return r.forEach(function(r){e+=r.toString()+"\n"}),e};var e=rdf.createGraph.bind(rdf);return rdf.createGraphExt=function(i){var d=e(i);return d.difference=rdf.Graph.difference.bind(d,d),d.intersection=rdf.Graph.intersection.bind(d,d),d.map=rdf.Graph.map.bind(d,d),d.toString=rdf.Graph.toString.bind(d,d),"replaceMerge"in r&&r.replaceMerge&&(d.merge=rdf.Graph.merge.bind(d,d)),d},Object.defineProperty(rdf,"createGraph",{value:rdf.createGraphExt}),require("./lib/clownface.js")(rdf),require("./lib/inmemory-store.js")(rdf),require("./lib/jsonld-parser.js")(rdf),require("./lib/jsonld-serializer.js")(rdf),require("./lib/ldp-store.js")(rdf),require("./lib/microdata-parser.js")(rdf),require("./lib/ntriples-serializer.js")(rdf),require("./lib/promise.js")(rdf),require("./lib/rdfstore-store.js")(rdf),require("./lib/rdfxml-parser.js")(rdf),require("./lib/singlegraph-store.js")(rdf),require("./lib/sparql-store.js")(rdf),require("./lib/turtle-parser.js")(rdf),require("./lib/turtle-serializer.js")(rdf),rdf};rdf.isNode||mixin(),module.exports=mixin;

}).call(this,require('_process'))
},{"./lib/clownface.js":62,"./lib/inmemory-store.js":63,"./lib/jsonld-parser.js":64,"./lib/jsonld-serializer.js":65,"./lib/ldp-store.js":66,"./lib/microdata-parser.js":67,"./lib/ntriples-serializer.js":68,"./lib/promise.js":69,"./lib/rdfstore-store.js":70,"./lib/rdfxml-parser.js":71,"./lib/singlegraph-store.js":72,"./lib/sparql-store.js":73,"./lib/turtle-parser.js":74,"./lib/turtle-serializer.js":75,"./lib/utils":79,"./lib/utils-browser":77,"./lib/utils-node":78,"_process":14,"rdf-interfaces":84}],84:[function(require,module,exports){
rdf=function(){var e={};e.encodeString=function(e){for(var n="",r=!1,t=0,a=e.length;a>t;){var i=t++;if(r)r=!r;else{var l=e.charCodeAt(i);if(l>=55296&&56319>=l){var u=e.charCodeAt(i+1);l=1024*(l-55296)+(u-56320)+65536,r=!0}if(l>1114111)throw new Error("Char out of range");var o="00000000".concat(new Number(l).toString(16).toUpperCase());if(l>=65536)n+="\\U"+o.slice(-8);else if(l>=127||31>=l)switch(l){case 9:n+="\\t";break;case 10:n+="\\n";break;case 13:n+="\\r";break;default:n+="\\u"+o.slice(-4)}else switch(l){case 34:n+='\\"';break;case 92:n+="\\\\";break;default:n+=e.charAt(i)}}}return n},e.BlankNode=function(){return Object.defineProperties({},{interfaceName:{writable:!1,configurable:!1,enumerable:!0,value:"BlankNode"},nominalValue:{writable:!1,configurable:!1,enumerable:!0,value:"b".concat(++e.BlankNode.NEXTID)},valueOf:{writable:!1,configurable:!1,enumerable:!0,value:function(){return this.nominalValue}},equals:{writable:!0,configurable:!1,enumerable:!0,value:function(e){return e.hasOwnProperty("interfaceName")?e.interfaceName==this.interfaceName?this.nominalValue==e.nominalValue:!1:"function"==typeof e&&"RegExp"==e.constructor.name?e.test(this.valueOf().toString()):this.valueOf()==e}},toString:{writable:!1,configurable:!1,enumerable:!0,value:function(){return"_:".concat(this.nominalValue)}},toNT:{writable:!1,configurable:!1,enumerable:!0,value:function(){return e.encodeString(this.toString())}},h:{configurable:!1,enumerable:!1,get:function(){return this.nominalValue}}})},e.BlankNode.NEXTID=0,e.NamedNode=function(n){return Object.defineProperties({},{interfaceName:{writable:!1,configurable:!1,enumerable:!0,value:"NamedNode"},nominalValue:{writable:!1,configurable:!1,enumerable:!0,value:n},valueOf:{writable:!1,configurable:!1,enumerable:!0,value:function(){return this.nominalValue}},equals:{writable:!0,configurable:!1,enumerable:!0,value:function(e){return e.hasOwnProperty("interfaceName")?e.interfaceName==this.interfaceName?this.nominalValue==e.nominalValue:!1:"function"==typeof e&&"RegExp"==e.constructor.name?e.test(this.valueOf().toString()):this.valueOf()==e}},toString:{writable:!1,configurable:!1,enumerable:!0,value:function(){return this.nominalValue.toString()}},toNT:{writable:!1,configurable:!1,enumerable:!0,value:function(){return"<"+e.encodeString(this.toString())+">"}},h:{configurable:!1,enumerable:!1,get:function(){return this.nominalValue}}})},e.Literal=function(n,r,t,a){return"string"==typeof r&&"@"==r[0]&&(r=r.slice(1)),Object.defineProperties({},{interfaceName:{writable:!1,configurable:!1,enumerable:!0,value:"Literal"},nominalValue:{writable:!1,configurable:!1,enumerable:!0,value:n},valueOf:{writable:!1,configurable:!1,enumerable:!0,value:function(){return null===a?this.nominalValue:a}},language:{writable:!1,configurable:!1,enumerable:!0,value:r},datatype:{writable:!1,configurable:!1,enumerable:!0,value:t},equals:{writable:!0,configurable:!1,enumerable:!0,value:function(e){return e.hasOwnProperty("interfaceName")?e.interfaceName!=this.interfaceName?!1:this.h==e.h:"function"==typeof e&&"RegExp"==e.constructor.name?e.test(this.valueOf().toString()):this.valueOf()==e}},toString:{writable:!1,configurable:!1,enumerable:!0,value:function(){return this.nominalValue.toString()}},toNT:{writable:!1,configurable:!1,enumerable:!0,value:function(){var n='"'+e.encodeString(this.nominalValue)+'"';return Boolean(this.language).valueOf()?n.concat("@"+this.language):Boolean(this.datatype).valueOf()?n.concat("^^"+this.datatype.toNT()):n}},h:{writable:!1,configurable:!1,enumerable:!1,value:r+"|"+(t?t.toString():"")+"|"+n.toString()}})},e.Triple=function(e,n,r){return Object.defineProperties({},{subject:{writable:!1,configurable:!1,enumerable:!0,value:e},predicate:{writable:!1,configurable:!1,enumerable:!0,value:n},object:{writable:!1,configurable:!1,enumerable:!0,value:r},equals:{writable:!0,configurable:!1,enumerable:!0,value:function(e){return this.s.equals(e.s)&&this.p.equals(e.p)&&this.o.equals(e.o)}},toString:{writable:!1,configurable:!1,enumerable:!0,value:function(){return this.s.toNT()+" "+this.p.toNT()+" "+this.o.toNT()+" ."}},s:{configurable:!1,enumerable:!1,get:function(){return this.subject}},p:{configurable:!1,enumerable:!1,get:function(){return this.predicate}},o:{configurable:!1,enumerable:!1,get:function(){return this.object}}})},e.Graph=function(n){return Object.defineProperties({},{_graph:{writable:!0,configurable:!1,enumerable:!1,value:[]},_spo:{writable:!0,configurable:!1,enumerable:!1,value:{}},length:{configurable:!1,enumerable:!0,get:function(){return this._graph.length}},add:{writable:!1,configurable:!1,enumerable:!0,value:function(e){return this._spo[e.s.h]||(this._spo[e.s.h]={}),this._spo[e.s.h][e.p.h]||(this._spo[e.s.h][e.p.h]={}),this._spo[e.s.h][e.p.h][e.o.h]||(this._spo[e.s.h][e.p.h][e.o.h]=e,this._graph.push(e),this.actions.forEach(function(n){n.run(e)})),this}},addArray:{writable:!1,configurable:!1,enumerable:!1,value:function(e){if(Array.isArray(e)){var n=this;e.forEach(function(e){n.add(e)})}return this}},remove:{writable:!1,configurable:!1,enumerable:!0,value:function(e){return this._spo[e.s.h]&&this._spo[e.s.h][e.p.h]&&this._spo[e.s.h][e.p.h][e.o.h]&&delete this._spo[e.s.h][e.p.h][e.o.h]&&this._graph.splice(this._graph.indexOf(e),1),this}},removeMatches:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n,r){e=void 0===arguments[0]?null:e,n=void 0===arguments[1]?null:n,r=void 0===arguments[2]?null:r;var t=[];this.forEach(function(a,i){(null===e||a.s.equals(e))&&(null===n||a.p.equals(n))&&(null===r||a.o.equals(r))&&t.push(a)});for(var a in t)this.remove(t[a]);return this}},toArray:{writable:!1,configurable:!1,enumerable:!0,value:function(){return this._graph.slice(0)}},some:{writable:!1,configurable:!1,enumerable:!0,value:function(e){return this._graph.some(e)}},every:{writable:!1,configurable:!1,enumerable:!0,value:function(e){return this._graph.every(e)}},filter:{writable:!1,configurable:!1,enumerable:!0,value:function(n){return new e.Graph(this._graph.filter(n))}},forEach:{writable:!1,configurable:!1,enumerable:!0,value:function(e){var n=this;this._graph.forEach(function(r){e(r,n)})}},match:{writable:!1,configurable:!1,enumerable:!0,value:function(n,r,t,a){n=void 0===arguments[0]?null:n,r=void 0===arguments[1]?null:r,t=void 0===arguments[2]?null:t,a=void 0===arguments[3]?null:a;var i=0;return 1>a&&(a=-1),new e.Graph(this._graph.filter(function(e){return i==a?!1:(null===n||e.s.equals(n))&&(null===r||e.p.equals(r))&&(null===t||e.o.equals(t))&&++i}))}},merge:{writable:!1,configurable:!1,enumerable:!0,value:function(n){return(new e.Graph).addAll(this).addAll(n)}},addAll:{writable:!1,configurable:!1,enumerable:!0,value:function(e){return this.addArray(e.toArray())}},actions:{writable:!1,configurable:!1,enumerable:!0,value:[]},addAction:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n){return n&&this.forEach(function(n,r){e.run(n,r)}),this.actions.push(e),this}}}).addArray(n)},e.TripleAction=function(e,n){return Object.defineProperties({},{action:{writable:!0,configurable:!1,enumerable:!0,value:n},test:{writable:!0,configurable:!1,enumerable:!0,value:e},run:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n){this.test(e)&&this.action(e,n)}}})},e.PrefixMap=function(e){return Object.defineProperties({},{resolve:{writable:!1,configurable:!1,enumerable:!0,value:function(e){var n=e.indexOf(":");if(0>n||e.indexOf("//")>=0)return null;var r=e.slice(0,n).toLowerCase();return this[r]?this[r].concat(e.slice(++n)):null}},shrink:{writable:!1,configurable:!1,enumerable:!0,value:function(e){for(pref in this)if(e.substr(0,this[pref].length)==this[pref])return pref+":"+e.slice(this[pref].length);return e}},setDefault:{writable:!1,configurable:!1,enumerable:!0,value:function(e){this[""]=e}},addAll:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n){for(p in e)(!this[p]||n)&&(this[p]=e[p]);return this}}}).addAll(e)},e.TermMap=function(e){return Object.defineProperties({},{resolve:{writable:!1,configurable:!1,enumerable:!0,value:function(e){return this[e]?this[e]:this[""]?this[""].concat(e):null}},shrink:{writable:!1,configurable:!1,enumerable:!0,value:function(e){for(t in this)if(this[t]==e)return t;return e}},setDefault:{writable:!1,configurable:!1,enumerable:!0,value:function(e){this[""]=e}},addAll:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n){for(t in e)(!this[t]||n)&&(this[t]=e[t]);return this}}}).addAll(e)},e.Profile=function(n){return Object.defineProperties({},{prefixes:{writable:!1,configurable:!1,enumerable:!0,value:new e.PrefixMap},terms:{writable:!1,configurable:!1,enumerable:!0,value:new e.TermMap},resolve:{writable:!1,configurable:!1,enumerable:!0,value:function(e){return e.indexOf(":")>=0?this.prefixes.resolve(e):this.terms.resolve(e)}},setDefaultVocabulary:{writable:!1,configurable:!1,enumerable:!0,value:function(e){this.terms.setDefault(e)}},setDefaultPrefix:{writable:!1,configurable:!1,enumerable:!0,value:function(e){this.prefixes.setDefault(e)}},setTerm:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n){this.terms[e]=n}},setPrefix:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n){this.prefixes[e]=n}},importProfile:{writable:!1,configurable:!1,enumerable:!0,value:function(e,n){return e?(this.prefixes.addAll(e.prefixes,n),this.terms.addAll(e.terms,n),this):this}}}).importProfile(n)},e.RDFEnvironment=function(){var n={terms:{},prefixes:{owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdfa:"http://www.w3.org/ns/rdfa#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#"}},r={};for(v in x=["string","boolean","dateTime","date","time","int","double","float","decimal","integer","nonPositiveInteger","negativeInteger","long","int","short","byte","nonNegativeInteger","unsignedLong","unsignedInt","unsignedShort","unsignedByte","positiveInteger"])r[x[v]]=n.prefixes.xsd.concat(x[v]);return Object.defineProperties(new e.Profile(n),{createBlankNode:{writable:!1,configurable:!1,enumerable:!0,value:function(){return new e.BlankNode}},createNamedNode:{writable:!1,configurable:!1,enumerable:!0,value:function(n){return new e.NamedNode(n)}},createLiteral:{writable:!1,configurable:!1,enumerable:!0,value:function(n){var t=null,a=arguments[2],i=n;if(arguments[1]&&(arguments[1].hasOwnProperty("interfaceName")?a=arguments[1]:t=arguments[1]),a)switch(a.valueOf()){case r.string:i=new String(i);break;case r["boolean"]:i=new Boolean("false"==i?!1:i).valueOf();break;case r["float"]:case r.integer:case r["long"]:case r["double"]:case r.decimal:case r.nonPositiveInteger:case r.nonNegativeInteger:case r.negativeInteger:case r["int"]:case r.unsignedLong:case r.positiveInteger:case r["short"]:case r.unsignedInt:case r["byte"]:case r.unsignedShort:case r.unsignedByte:i=new Number(i).valueOf();break;case r.date:case r.time:case r.dateTime:i=new Date(i)}return new e.Literal(n,t,a,i)}},createTriple:{writable:!1,configurable:!1,enumerable:!0,value:function(n,r,t){return new e.Triple(n,r,t)}},createGraph:{writable:!1,configurable:!0,enumerable:!0,value:function(n){return new e.Graph(n)}},createAction:{writable:!1,configurable:!1,enumerable:!0,value:function(n,r){return new e.TripleAction(n,r)}},createProfile:{writable:!1,configurable:!1,enumerable:!0,value:function(n){return new e.Profile(n?null:this)}},createTermMap:{writable:!1,configurable:!1,enumerable:!0,value:function(n){return new e.TermMap(n?null:this.terms)}},createPrefixMap:{writable:!1,configurable:!1,enumerable:!0,value:function(n){return new e.PrefixMap(n?null:this.prefixes)}}})};var n=new e.RDFEnvironment;return Object.keys(e).forEach(function(r){n[r]=e[r]}),e=n}(),"undefined"!=typeof module&&(module.exports=rdf);

},{}],85:[function(require,module,exports){
function readBlob(e,r,t){var o;if("string"!=typeof r&&(t=r,r="arraybuffer"),!(e instanceof Blob)){var a=new Error("first argument is not a blob");return t?void t(a):Promise.reject(a)}t||(o=new Promise(function(e,r){t=function(t,o){t?r(t):e(o)}}));var n=methods[r.toLowerCase()],d=new FileReader;return d.addEventListener("loadend",function s(e){d.removeEventListener("loadend",s),e.error?t(e.error):t(null,d.result)}),n?d[n](e):d.readAsText(e,r),o}var methods={arraybuffer:"readAsArrayBuffer",dataurl:"readAsDataURL",text:"readAsText"};module.exports=readBlob,Object.keys(methods).forEach(function(e){readBlob[e]=function(r,t){return readBlob(r,e,t)}});

},{}],86:[function(require,module,exports){
"use strict";function reduceReducers(){for(var e=arguments.length,r=Array(e),u=0;e>u;u++)r[u]=arguments[u];return function(e,u){return r.reduce(function(e,r){return r(e,u)},e)}}exports.__esModule=!0,exports["default"]=reduceReducers,module.exports=exports["default"];

},{}],87:[function(require,module,exports){
"use strict";function identity(t){return t}function createAction(t,e,n){var o="function"==typeof e?e:identity;return function(){var e={type:t,payload:o.apply(void 0,arguments)};return"function"==typeof n&&(e.meta=n.apply(void 0,arguments)),e}}exports.__esModule=!0,exports["default"]=createAction,module.exports=exports["default"];

},{}],88:[function(require,module,exports){
"use strict";function isFunction(t){return"function"==typeof t}function handleAction(t,n){return function(r,e){if(e.type!==t)return r;var o=_fluxStandardAction.isError(e)?"throw":"next";isFunction(n)&&(n.next=n);var u=n[o];return isFunction(u)?u(r,e):r}}exports.__esModule=!0,exports["default"]=handleAction;var _fluxStandardAction=require("flux-standard-action");module.exports=exports["default"];

},{"flux-standard-action":24}],89:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function handleActions(e,u){var r=_ownKeys2["default"](e).map(function(u){return _handleAction2["default"](u,e[u])});return"undefined"!=typeof u?function(e,n){return void 0===e&&(e=u),_reduceReducers2["default"].apply(void 0,r)(e,n)}:_reduceReducers2["default"].apply(void 0,r)}exports.__esModule=!0,exports["default"]=handleActions;var _handleAction=require("./handleAction"),_handleAction2=_interopRequireDefault(_handleAction),_ownKeys=require("./ownKeys"),_ownKeys2=_interopRequireDefault(_ownKeys),_reduceReducers=require("reduce-reducers"),_reduceReducers2=_interopRequireDefault(_reduceReducers);module.exports=exports["default"];

},{"./handleAction":88,"./ownKeys":91,"reduce-reducers":86}],90:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var _createAction=require("./createAction"),_createAction2=_interopRequireDefault(_createAction),_handleAction=require("./handleAction"),_handleAction2=_interopRequireDefault(_handleAction),_handleActions=require("./handleActions"),_handleActions2=_interopRequireDefault(_handleActions);exports.createAction=_createAction2["default"],exports.handleAction=_handleAction2["default"],exports.handleActions=_handleActions2["default"];

},{"./createAction":87,"./handleAction":88,"./handleActions":89}],91:[function(require,module,exports){
"use strict";function ownKeys(e){if("undefined"!=typeof Reflect)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}exports.__esModule=!0,exports["default"]=ownKeys,module.exports=exports["default"];

},{}],92:[function(require,module,exports){
"use strict";function eventMiddleware(){function e(e,n){function t(n){n&&e(n)}var o=n.payload,c=o.id,i=o.event,E=o.cb,N=o.once,l=isDocEvent(i)?d:r;switch(n.type){case HANDLE_EVENT:c=u();var v=compose(t,E);if(N&&(v=function(e){t({type:UNHANDLE_EVENT,payload:{id:c,event:i}}),t(E(e))}),"domready"===i){var s=d.documentElement.doScroll;if((s?/^loaded|^c/:/^loaded|^i|^c/).test(d.readyState))return void v();i="DOMContentLoaded"}return l.addEventListener(i,v),a[c]=v,c;case UNHANDLE_EVENT:return l.removeEventListener(i,a[c]),void delete a[c]}}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.wnd,r=void 0===t?window:t,o=n.doc,d=void 0===o?document:o,a={},u=idGenerator();return function(n){var t=n.dispatch;n.getState;return function(n){return function(r){return r.type===HANDLE_EVENT||r.type===UNHANDLE_EVENT?Promise.resolve(e(t,r)):n(r)}}}}function isDocEvent(e){return-1!==docEvents.indexOf(e)}function idGenerator(){var e=0;return function(){return e++}}function compose(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];return n.reduce(function(e,n){return function(t){return e(n(t))}},function(e){return e})}function handle(e,n){return{type:HANDLE_EVENT,payload:{event:e,cb:n}}}function handleOnce(e,n){return{type:HANDLE_EVENT,payload:{cb:n,event:e,once:!0}}}function unhandle(e,n){return{type:UNHANDLE_EVENT,payload:{event:e,id:n}}}Object.defineProperty(exports,"__esModule",{value:!0});var HANDLE_EVENT="HANDLE_EVENT",UNHANDLE_EVENT="UNHANDLE_EVENT",docEvents=["DOMContentLoaded","click"];exports["default"]=eventMiddleware,exports.handle=handle,exports.handleOnce=handleOnce,exports.unhandle=unhandle;

},{}],93:[function(require,module,exports){
"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{"default":r}}function effects(r){function e(r){var e=promisify(n(r.payload));return r.meta&&t(r.meta.steps,e)}function t(r,e){return void 0===r&&(r=[]),r.reduce(function(r,e){var t=_slicedToArray(e,2),i=t[0],o=void 0===i?noop:i,u=t[1],a=void 0===u?noop:u;return r.then(function(r){return n(o(r))},function(r){return n(a(r))})},e)}function n(r){return r&&i(r)}var i=r.dispatch;r.getState;return function(r){return function(t){return t.type===EFFECT_COMPOSE?e(t):r(t)}}}function promisify(r){return Array.isArray(r)?Promise.all(r):Promise.resolve(r)}function noop(){}function bind(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return{type:EFFECT_COMPOSE,payload:r,meta:{steps:[t]}}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function r(r,e){var t=[],n=!0,i=!1,o=void 0;try{for(var u,a=r[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!e||t.length!==e);n=!0);}catch(s){i=!0,o=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(i)throw o}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_isPromise=require("is-promise"),_isPromise2=_interopRequireDefault(_isPromise),EFFECT_COMPOSE="EFFECT_COMPOSE";exports["default"]=effects,exports.bind=bind;

},{"is-promise":39}],94:[function(require,module,exports){
"use strict";function createLogger(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){var o=t.getState;return function(t){return function(r){var n=e.level,i=e.logger,a=e.collapsed,c=e.predicate,u=e.duration,l=void 0===u?!1:u,d=e.timestamp,f=void 0===d?!0:d,g=e.transformer,p=void 0===g?function(e){return e}:g,s=e.actionTransformer,m=void 0===s?function(e){return e}:s,v=i||window.console;if("undefined"==typeof v)return t(r);if("function"==typeof c&&!c(o,r))return t(r);var w=timer.now(),h=p(o()),y=t(r),b=timer.now()-w,x=p(o()),E=new Date,A="function"==typeof a?a(o,r):a,F=f?" @ "+pad(E.getHours(),2)+":"+pad(E.getMinutes(),2)+":"+pad(E.getSeconds(),2)+"."+pad(E.getMilliseconds(),3):"",C=l?" in "+b.toFixed(2)+" ms":"",M=m(r),S="action "+M.type+F+C,j=A?v.groupCollapsed:v.group;try{j.call(v,S)}catch(D){v.log(S)}n?(v[n]("%c prev state","color: #9E9E9E; font-weight: bold",h),v[n]("%c action","color: #03A9F4; font-weight: bold",M),v[n]("%c next state","color: #4CAF50; font-weight: bold",x)):(v.log("%c prev state","color: #9E9E9E; font-weight: bold",h),v.log("%c action","color: #03A9F4; font-weight: bold",M),v.log("%c next state","color: #4CAF50; font-weight: bold",x));try{v.groupEnd()}catch(D){v.log(" log end ")}return y}}}}Object.defineProperty(exports,"__esModule",{value:!0});var repeat=function(e,t){return new Array(t+1).join(e)},pad=function(e,t){return repeat("0",t-e.toString().length)+e},timer="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;exports["default"]=createLogger,module.exports=exports["default"];

},{}],95:[function(require,module,exports){
"use strict";function multi(e){var r=e.dispatch;return function(e){return function(t){return Array.isArray(t)?Promise.all(t.filter(Boolean).map(function(e){return r(e)})):e(t)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=multi,module.exports=exports["default"];

},{}],96:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function createStore(e,t){function n(){return c}function r(e){s.push(e);var t=!0;return function(){if(t){t=!1;var n=s.indexOf(e);s.splice(n,1)}}}function i(e){if(!_utilsIsPlainObject2["default"](e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(a)throw new Error("Reducers may not dispatch actions.");try{a=!0,c=u(c,e)}finally{a=!1}return s.slice().forEach(function(e){return e()}),e}function o(e){u=e,i({type:ActionTypes.INIT})}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,s=[],a=!1;return i({type:ActionTypes.INIT}),{dispatch:i,subscribe:r,getState:n,replaceReducer:o}}exports.__esModule=!0,exports["default"]=createStore;var _utilsIsPlainObject=require("./utils/isPlainObject"),_utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject),ActionTypes={INIT:"@@redux/INIT"};exports.ActionTypes=ActionTypes;

},{"./utils/isPlainObject":102}],97:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var _createStore=require("./createStore"),_createStore2=_interopRequireDefault(_createStore),_utilsCombineReducers=require("./utils/combineReducers"),_utilsCombineReducers2=_interopRequireDefault(_utilsCombineReducers),_utilsBindActionCreators=require("./utils/bindActionCreators"),_utilsBindActionCreators2=_interopRequireDefault(_utilsBindActionCreators),_utilsApplyMiddleware=require("./utils/applyMiddleware"),_utilsApplyMiddleware2=_interopRequireDefault(_utilsApplyMiddleware),_utilsCompose=require("./utils/compose"),_utilsCompose2=_interopRequireDefault(_utilsCompose);exports.createStore=_createStore2["default"],exports.combineReducers=_utilsCombineReducers2["default"],exports.bindActionCreators=_utilsBindActionCreators2["default"],exports.applyMiddleware=_utilsApplyMiddleware2["default"],exports.compose=_utilsCompose2["default"];

},{"./createStore":96,"./utils/applyMiddleware":98,"./utils/bindActionCreators":99,"./utils/combineReducers":100,"./utils/compose":101}],98:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function applyMiddleware(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(e){return function(r,n){var a=e(r,n),o=a.dispatch,u=[],s={getState:a.getState,dispatch:function(e){return o(e)}};return u=t.map(function(e){return e(s)}),o=_compose2["default"].apply(void 0,u)(a.dispatch),_extends({},a,{dispatch:o})}}}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};exports["default"]=applyMiddleware;var _compose=require("./compose"),_compose2=_interopRequireDefault(_compose);module.exports=exports["default"];

},{"./compose":101}],99:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function bindActionCreator(t,e){return function(){return e(t.apply(void 0,arguments))}}function bindActionCreators(t,e){if("function"==typeof t)return bindActionCreator(t,e);if("object"!=typeof t||null===t||void 0===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');return _utilsMapValues2["default"](t,function(t){return bindActionCreator(t,e)})}exports.__esModule=!0,exports["default"]=bindActionCreators;var _utilsMapValues=require("../utils/mapValues"),_utilsMapValues2=_interopRequireDefault(_utilsMapValues);module.exports=exports["default"];

},{"../utils/mapValues":103}],100:[function(require,module,exports){
(function (process){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function getUndefinedStateErrorMessage(e,t){var r=t&&t.type,n=r&&'"'+r.toString()+'"'||"an action";return'Reducer "'+e+'" returned undefined handling '+n+". To ignore an action, you must explicitly return the previous state."}function getUnexpectedStateKeyWarningMessage(e,t,r){var n=Object.keys(t),i=r&&r.type===_createStore.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===n.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!_utilsIsPlainObject2["default"](e))return"The "+i+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+n.join('", "')+'"');var u=Object.keys(e).filter(function(e){return n.indexOf(e)<0});return u.length>0?"Unexpected "+(u.length>1?"keys":"key")+" "+('"'+u.join('", "')+'" found in '+i+". ")+"Expected to find one of the known reducer keys instead: "+('"'+n.join('", "')+'". Unexpected keys will be ignored.'):void 0}function assertReducerSanity(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:_createStore.ActionTypes.INIT});if("undefined"==typeof n)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof r(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function combineReducers(e){var t,r=_utilsPick2["default"](e,function(e){return"function"==typeof e});try{assertReducerSanity(r)}catch(n){t=n}var i=_utilsMapValues2["default"](r,function(){return void 0});return function(e,n){if(void 0===e&&(e=i),t)throw t;var u=!1,a=_utilsMapValues2["default"](r,function(t,r){var i=e[r],a=t(i,n);if("undefined"==typeof a){var o=getUndefinedStateErrorMessage(r,n);throw new Error(o)}return u=u||a!==i,a});if("production"!==process.env.NODE_ENV){var o=getUnexpectedStateKeyWarningMessage(e,a,n);o&&console.error(o)}return u?a:e}}exports.__esModule=!0,exports["default"]=combineReducers;var _createStore=require("../createStore"),_utilsIsPlainObject=require("../utils/isPlainObject"),_utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject),_utilsMapValues=require("../utils/mapValues"),_utilsMapValues2=_interopRequireDefault(_utilsMapValues),_utilsPick=require("../utils/pick"),_utilsPick2=_interopRequireDefault(_utilsPick);module.exports=exports["default"];

}).call(this,require('_process'))
},{"../createStore":96,"../utils/isPlainObject":102,"../utils/mapValues":103,"../utils/pick":104,"_process":14}],101:[function(require,module,exports){
"use strict";function compose(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return function(e){return r.reduceRight(function(e,r){return r(e)},e)}}exports.__esModule=!0,exports["default"]=compose,module.exports=exports["default"];

},{}],102:[function(require,module,exports){
"use strict";function isPlainObject(t){if(!t||"object"!=typeof t)return!1;var o="function"==typeof t.constructor?Object.getPrototypeOf(t):Object.prototype;if(null===o)return!0;var e=o.constructor;return"function"==typeof e&&e instanceof e&&fnToString(e)===fnToString(Object)}exports.__esModule=!0,exports["default"]=isPlainObject;var fnToString=function(t){return Function.prototype.toString.call(t)};module.exports=exports["default"];

},{}],103:[function(require,module,exports){
"use strict";function mapValues(e,t){return Object.keys(e).reduce(function(u,r){return u[r]=t(e[r],r),u},{})}exports.__esModule=!0,exports["default"]=mapValues,module.exports=exports["default"];

},{}],104:[function(require,module,exports){
"use strict";function pick(e,t){return Object.keys(e).reduce(function(r,u){return t(e[u])&&(r[u]=e[u]),r},{})}exports.__esModule=!0,exports["default"]=pick,module.exports=exports["default"];

},{}],105:[function(require,module,exports){
function shallow(r,n,t){var a=Array.isArray(r),e=Array.isArray(n);if(a!==e)return!1;var o=typeof r,f=typeof n;return o!==f?!1:flat(o)?t?t(r,n):r===n:a?shallowArray(r,n,t):shallowObject(r,n,t)}function shallowArray(r,n,t){var a=r.length;if(a!==n.length)return!1;if(t){for(var e=0;a>e;e++)if(!t(r[e],n[e]))return!1}else for(var e=0;a>e;e++)if(r[e]!==n[e])return!1;return!0}function shallowObject(r,n,t){var a=0,e=0;if(t)for(var o in r){if(r.hasOwnProperty(o)&&!t(r[o],n[o]))return!1;a++}else for(var o in r){if(r.hasOwnProperty(o)&&r[o]!==n[o])return!1;a++}for(var o in n)n.hasOwnProperty(o)&&e++;return a===e}function flat(r){return"function"!==r&&"object"!==r}module.exports=shallow;

},{}],106:[function(require,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");inherits(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function i(e){if(s(),0===EE.listenerCount(this,"error"))throw e}function s(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",a),m.removeListener("close",o),m.removeListener("error",i),e.removeListener("error",i),m.removeListener("end",s),m.removeListener("close",s),e.removeListener("close",s)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&r.end===!1||(m.on("end",a),m.on("close",o));var u=!1;return m.on("error",i),e.on("error",i),m.on("end",s),m.on("close",s),e.on("close",s),e.emit("pipe",m),e};

},{"events":23,"inherits":34,"readable-stream/duplex.js":107,"readable-stream/passthrough.js":113,"readable-stream/readable.js":114,"readable-stream/transform.js":115,"readable-stream/writable.js":116}],107:[function(require,module,exports){
module.exports=require("./lib/_stream_duplex.js");

},{"./lib/_stream_duplex.js":108}],108:[function(require,module,exports){
(function (process){
function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function forEach(e,t){for(var i=0,r=e.length;r>i;i++)t(e[i],i)}module.exports=Duplex;var objectKeys=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t},util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable),forEach(objectKeys(Writable.prototype),function(e){Duplex.prototype[e]||(Duplex.prototype[e]=Writable.prototype[e])});

}).call(this,require('_process'))
},{"./_stream_readable":110,"./_stream_writable":112,"_process":14,"core-util-is":17,"inherits":34}],109:[function(require,module,exports){
function PassThrough(r){return this instanceof PassThrough?void Transform.call(this,r):new PassThrough(r)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,i){i(null,r)};

},{"./_stream_transform":111,"core-util-is":17,"inherits":34}],110:[function(require,module,exports){
(function (process){
function ReadableState(e,t){var n=require("./_stream_duplex");e=e||{};var r=e.highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){require("./_stream_duplex");return this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,n,r,i){var a=chunkInvalid(t,n);if(a)e.emit("error",a);else if(util.isNullOrUndefined(n))t.reading=!1,t.ended||onEofChunk(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&i){var d=new Error("stream.unshift() after end event");e.emit("error",d)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e)),maybeReadMore(e,t);else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function roundUpToNextPowerOf2(e){if(e>=MAX_HWM)e=MAX_HWM;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function howMuchToRead(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||util.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=roundUpToNextPowerOf2(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function chunkInvalid(e,t){var n=null;return util.isBuffer(t)||util.isString(t)||util.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function onEofChunk(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick(function(){emitReadable_(e)}):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){maybeReadMore_(e,t)}))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EE.listenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(function(){resume_(e,t)}))}function resume_(e,t){t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;if(debug("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function fromList(e,t){var n,r=t.buffer,i=t.length,a=!!t.decoder,d=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(d)n=r.shift();else if(!e||e>=i)n=a?r.join(""):Buffer.concat(r,i),r.length=0;else if(e<r[0].length){var o=r[0];n=o.slice(0,e),r[0]=o.slice(e)}else if(e===r[0].length)n=r.shift();else{n=a?"":new Buffer(e);for(var l=0,u=0,s=r.length;s>u&&e>l;u++){var o=r[0],h=Math.min(e-l,o.length);a?n+=o.slice(0,h):o.copy(n,l,0,h),h<o.length?r[0]=o.slice(h):r.shift(),l+=h}}return n}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function forEach(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function indexOf(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}module.exports=Readable;var isArray=require("isarray"),Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;EE.listenerCount||(EE.listenerCount=function(e,t){return e.listeners(t).length});var Stream=require("stream"),util=require("core-util-is");util.inherits=require("inherits");var StringDecoder,debug=require("util");debug=debug&&debug.debuglog?debug.debuglog("stream"):function(){},util.inherits(Readable,Stream),Readable.prototype.push=function(e,t){var n=this._readableState;return util.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new Buffer(e,t),t="")),readableAddChunk(this,n,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e);var t=this._readableState,n=e;if((!util.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var r=t.needReadable;debug("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,debug("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,debug("reading or ended",r)),r&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=howMuchToRead(n,t));var i;return i=e>0?fromList(e,t):null,util.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&endReadable(this),util.isNull(i)||this.emit("data",i),i},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){function n(e){debug("onunpipe"),e===s&&i()}function r(){debug("onend"),e.end()}function i(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",d),e.removeListener("unpipe",n),s.removeListener("end",r),s.removeListener("end",i),s.removeListener("data",a),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){debug("ondata");var n=e.write(t);!1===n&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,s.pause())}function d(t){debug("onerror",t),u(),e.removeListener("error",d),0===EE.listenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",l),u()}function l(){debug("onfinish"),e.removeListener("close",o),u()}function u(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,b=f?r:i;h.endEmitted?process.nextTick(b):s.once("end",b),e.on("unpipe",n);var g=pipeOnDrain(s);return e.on("drain",g),s.on("data",a),e._events&&e._events.error?isArray(e._events.error)?e._events.error.unshift(d):e._events.error=[d,e._events.error]:e.on("error",d),e.once("close",o),e.once("finish",l),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=indexOf(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var n=Stream.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&emitReadable(this,r);else{var i=this;process.nextTick(function(){debug("readable nexttick read 0"),i.read(0)})}}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,e.reading||(debug("resume read 0"),this.read(0)),resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(debug("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var a=r.push(i);a||(n=!0,e.pause())}});for(var i in e)util.isFunction(e[i])&&util.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return forEach(a,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){debug("wrapped _read",t),n&&(n=!1,e.resume())},r},Readable._fromList=fromList;

}).call(this,require('_process'))
},{"./_stream_duplex":108,"_process":14,"buffer":15,"core-util-is":17,"events":23,"inherits":34,"isarray":40,"stream":106,"string_decoder/":117,"util":11}],111:[function(require,module,exports){
function TransformState(r,t){this.afterTransform=function(r,n){return afterTransform(t,r,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var i=e.writecb;if(!i)return r.emit("error",new Error("no writecb in Transform class"));e.writechunk=null,e.writecb=null,util.isNullOrUndefined(n)||r.push(n),i&&i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState=new TransformState(r,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){util.isFunction(this._flush)?this._flush(function(r){done(t,r)}):done(t)})}function done(r,t){if(t)return r.emit("error",t);var n=r._writableState,e=r._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(e.transforming)throw new Error("calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error("not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;util.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))};

},{"./_stream_duplex":108,"core-util-is":17,"inherits":34}],112:[function(require,module,exports){
(function (process){
function WriteReq(e,i,t){this.chunk=e,this.encoding=i,this.callback=t}function WritableState(e,i){var t=require("./_stream_duplex");e=e||{};var r=e.highWaterMark,n=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.objectMode=!!e.objectMode,i instanceof t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(i,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(e){var i=require("./_stream_duplex");return this instanceof Writable||this instanceof i?(this._writableState=new WritableState(e,this),this.writable=!0,void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,i,t){var r=new Error("write after end");e.emit("error",r),process.nextTick(function(){t(r)})}function validChunk(e,i,t,r){var n=!0;if(!(util.isBuffer(t)||util.isString(t)||util.isNullOrUndefined(t)||i.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),process.nextTick(function(){r(o)}),n=!1}return n}function decodeChunk(e,i,t){return!e.objectMode&&e.decodeStrings!==!1&&util.isString(i)&&(i=new Buffer(i,t)),i}function writeOrBuffer(e,i,t,r,n){t=decodeChunk(i,t,r),util.isBuffer(t)&&(r="buffer");var o=i.objectMode?1:t.length;i.length+=o;var f=i.length<i.highWaterMark;return f||(i.needDrain=!0),i.writing||i.corked?i.buffer.push(new WriteReq(t,r,n)):doWrite(e,i,!1,o,t,r,n),f}function doWrite(e,i,t,r,n,o,f){i.writelen=r,i.writecb=f,i.writing=!0,i.sync=!0,t?e._writev(n,i.onwrite):e._write(n,o,i.onwrite),i.sync=!1}function onwriteError(e,i,t,r,n){t?process.nextTick(function(){i.pendingcb--,n(r)}):(i.pendingcb--,n(r)),e._writableState.errorEmitted=!0,e.emit("error",r)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,i){var t=e._writableState,r=t.sync,n=t.writecb;if(onwriteStateUpdate(t),i)onwriteError(e,t,r,i,n);else{var o=needFinish(e,t);o||t.corked||t.bufferProcessing||!t.buffer.length||clearBuffer(e,t),r?process.nextTick(function(){afterWrite(e,t,o,n)}):afterWrite(e,t,o,n)}}function afterWrite(e,i,t,r){t||onwriteDrain(e,i),i.pendingcb--,r(),finishMaybe(e,i)}function onwriteDrain(e,i){0===i.length&&i.needDrain&&(i.needDrain=!1,e.emit("drain"))}function clearBuffer(e,i){if(i.bufferProcessing=!0,e._writev&&i.buffer.length>1){for(var t=[],r=0;r<i.buffer.length;r++)t.push(i.buffer[r].callback);i.pendingcb++,doWrite(e,i,!0,i.length,i.buffer,"",function(e){for(var r=0;r<t.length;r++)i.pendingcb--,t[r](e)}),i.buffer=[]}else{for(var r=0;r<i.buffer.length;r++){var n=i.buffer[r],o=n.chunk,f=n.encoding,u=n.callback,s=i.objectMode?1:o.length;if(doWrite(e,i,!1,s,o,f,u),i.writing){r++;break}}r<i.buffer.length?i.buffer=i.buffer.slice(r):i.buffer.length=0}i.bufferProcessing=!1}function needFinish(e,i){return i.ending&&0===i.length&&!i.finished&&!i.writing}function prefinish(e,i){i.prefinished||(i.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,i){var t=needFinish(e,i);return t&&(0===i.pendingcb?(prefinish(e,i),i.finished=!0,e.emit("finish")):prefinish(e,i)),t}function endWritable(e,i,t){i.ending=!0,finishMaybe(e,i),t&&(i.finished?process.nextTick(t):e.once("finish",t)),i.ended=!0}module.exports=Writable;var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream=require("stream");util.inherits(Writable,Stream),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(e,i,t){var r=this._writableState,n=!1;return util.isFunction(i)&&(t=i,i=null),util.isBuffer(e)?i="buffer":i||(i=r.defaultEncoding),util.isFunction(t)||(t=function(){}),r.ended?writeAfterEnd(this,r,t):validChunk(this,r,e,t)&&(r.pendingcb++,n=writeOrBuffer(this,r,e,i,t)),n},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||clearBuffer(this,e))},Writable.prototype._write=function(e,i,t){t(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,i,t){var r=this._writableState;util.isFunction(e)?(t=e,e=null,i=null):util.isFunction(i)&&(t=i,i=null),util.isNullOrUndefined(e)||this.write(e,i),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||endWritable(this,r,t)};

}).call(this,require('_process'))
},{"./_stream_duplex":108,"_process":14,"buffer":15,"core-util-is":17,"inherits":34,"stream":106}],113:[function(require,module,exports){
module.exports=require("./lib/_stream_passthrough.js");

},{"./lib/_stream_passthrough.js":109}],114:[function(require,module,exports){
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=require("stream"),exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");

},{"./lib/_stream_duplex.js":108,"./lib/_stream_passthrough.js":109,"./lib/_stream_readable.js":110,"./lib/_stream_transform.js":111,"./lib/_stream_writable.js":112,"stream":106}],115:[function(require,module,exports){
module.exports=require("./lib/_stream_transform.js");

},{"./lib/_stream_transform.js":111}],116:[function(require,module,exports){
module.exports=require("./lib/_stream_writable.js");

},{"./lib/_stream_writable.js":112}],117:[function(require,module,exports){
function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var h=t.charCodeAt(t.length-1);if(!(h>=55296&&56319>=h)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,h=t.charCodeAt(i);if(h>=55296&&56319>=h){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,i)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(2>=t&&r>>4==14){this.charLength=3;break}if(3>=t&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,h=this.charBuffer,i=this.encoding;t+=h.slice(0,r).toString(i)}return t};

},{"buffer":15}],118:[function(require,module,exports){
function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}function isString(t){return"string"==typeof t}function isObject(t){return"object"==typeof t&&null!==t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}var punycode=require("punycode");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t;h=h.trim();var r=protocolPattern.exec(h);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,h=h.substr(r.length)}if(e||r||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===h.substr(0,2);!a||r&&hostlessProtocol[r]||(h=h.substr(2),this.slashes=!0)}if(!hostlessProtocol[r]&&(a||r&&!slashedProtocol[r])){for(var n=-1,i=0;i<hostEndingChars.length;i++){var l=h.indexOf(hostEndingChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}var c,u;u=-1===n?h.lastIndexOf("@"):h.lastIndexOf("@",n),-1!==u&&(c=h.slice(0,u),h=h.slice(u+1),this.auth=decodeURIComponent(c)),n=-1;for(var i=0;i<nonHostChars.length;i++){var l=h.indexOf(nonHostChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}-1===n&&(n=h.length),this.host=h.slice(0,n),h=h.slice(n),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var f=this.hostname.split(/\./),i=0,m=f.length;m>i;i++){var v=f[i];if(v&&!v.match(hostnamePartPattern)){for(var g="",y=0,d=v.length;d>y;y++)g+=v.charCodeAt(y)>127?"x":v[y];if(!g.match(hostnamePartPattern)){var P=f.slice(0,i),b=f.slice(i+1),j=v.match(hostnamePartStart);j&&(P.push(j[1]),b.unshift(j[2])),b.length&&(h="/"+b.join(".")+h),this.hostname=P.join(".");break}}}if(this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var O=this.hostname.split("."),q=[],i=0;i<O.length;++i){var x=O[i];q.push(x.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(x):x)}this.hostname=q.join(".")}var U=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+U,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!unsafeProtocol[o])for(var i=0,m=autoEscape.length;m>i;i++){var A=autoEscape[i],E=encodeURIComponent(A);E===A&&(E=escape(A)),h=h.split(A).join(E)}var w=h.indexOf("#");-1!==w&&(this.hash=h.substr(w),h=h.slice(0,w));var R=h.indexOf("?");if(-1!==R?(this.search=h.substr(R),this.query=h.substr(R+1),s&&(this.query=querystring.parse(this.query)),h=h.slice(0,R)):s&&(this.search="",this.query={}),h&&(this.pathname=h),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",x=this.search||"";this.path=U+x}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var a=this.search||o&&"?"+o||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),a&&"?"!==a.charAt(0)&&(a="?"+a),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),s+r+e+a+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}var e=new Url;if(Object.keys(this).forEach(function(t){e[t]=this[t]},this),e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(s){"protocol"!==s&&(e[s]=t[s])}),slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e;if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol])return Object.keys(t).forEach(function(s){e[s]=t[s]}),e.href=e.format(),e;if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var r=e.pathname||"",o=e.search||"";e.path=r+o}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var a=e.pathname&&"/"===e.pathname.charAt(0),n=t.host||t.pathname&&"/"===t.pathname.charAt(0),i=n||a||e.host&&t.pathname,l=i,c=e.pathname&&e.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],u=e.protocol&&!slashedProtocol[e.protocol];if(u&&(e.hostname="",e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),i=i&&(""===h[0]||""===c[0])),n)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,c=h;else if(h.length)c||(c=[]),c.pop(),c=c.concat(h),e.search=t.search,e.query=t.query;else if(!isNullOrUndefined(t.search)){if(u){e.hostname=e.host=c.shift();var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return e.search=t.search,e.query=t.query,isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!c.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var f=c.slice(-1)[0],m=(e.host||t.host)&&("."===f||".."===f)||""===f,v=0,g=c.length;g>=0;g--)f=c[g],"."==f?c.splice(g,1):".."===f?(c.splice(g,1),v++):v&&(c.splice(g,1),v--);if(!i&&!l)for(;v--;v)c.unshift("..");!i||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),m&&"/"!==c.join("/").substr(-1)&&c.push("");var y=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(u){e.hostname=e.host=y?"":c.length?c.shift():"";var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return i=i||e.host&&c.length,i&&!y&&c.unshift(""),c.length?e.pathname=c.join("/"):(e.pathname=null,e.path=null),isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};

},{"punycode":58,"querystring":61}],119:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};

},{}],120:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var a="",c=!1,l=["{","}"];if(isArray(r)&&(c=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";a=" [Function"+p+"]"}if(isRegExp(r)&&(a=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(a=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(a=" "+formatError(r)),0===o.length&&(!c||0==r.length))return l[0]+a+l[1];if(0>t)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=c?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,c)}),e.seen.pop(),reduceToSingleString(f,a,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;u>s;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,a;if(a=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},a.get?u=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(u=isNull(t)?formatValue(e,a.value,null):formatValue(e,a.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(r){return"[Circular]"}default:return e}}),s=n[t];i>t;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./support/isBuffer":119,"_process":14,"inherits":34}],121:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function element(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;r>a;a++)o[a-2]=arguments[a];return o=o.filter(function(e){return!(void 0===e||null===e||e===!1||""===e)}),"string"!=typeof e?(0,_virtualComponent2["default"])(e,t,o):(0,_virtualDomH2["default"])(e,normalizeAttrs(t),o)}function normalizeAttrs(e){if(!e)return e;for(var t in e)e.hasOwnProperty(t)&&propertyMap[t]&&(e[propertyMap[t]]=e[t],delete e[t]);return e.className&&(e.className=classSugar(e.className)),e.focused&&(e.focused=new _virtualDomVirtualHyperscriptHooksFocusHook2["default"]),e}function classSugar(e){return isPlainObject(e)&&(e=Object.keys(e).filter(function(t){return e[t]})),Array.isArray(e)?e.join(" "):e}function isPlainObject(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(exports,"__esModule",{value:!0});var _virtualDomH=require("virtual-dom/h"),_virtualDomH2=_interopRequireDefault(_virtualDomH),_virtualDomVirtualHyperscriptHooksFocusHook=require("virtual-dom/virtual-hyperscript/hooks/focus-hook"),_virtualDomVirtualHyperscriptHooksFocusHook2=_interopRequireDefault(_virtualDomVirtualHyperscriptHooksFocusHook),_virtualComponent=require("virtual-component"),_virtualComponent2=_interopRequireDefault(_virtualComponent),propertyMap={"class":"className","for":"htmlFor","http-equiv":"httpEquiv",accesskey:"accessKey",autocomplete:"autoComplete",autoplay:"autoPlay",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",enctype:"encType",formnovalidate:"formNoValidate",hreflang:"hrefLang",novalidate:"noValidate",readonly:"readOnly",rowspan:"rowSpan","spellcheck ":"spellCheck",srcdoc:"srcDoc",srcset:"srcSet",tabindex:"tabIndex"};exports["default"]=element,module.exports=exports["default"];

},{"virtual-component":123,"virtual-dom/h":126,"virtual-dom/virtual-hyperscript/hooks/focus-hook":136}],122:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function vdux(e,t,u){function r(){return t(e.getState())}function o(){var e=r();i=(0,_virtualDom.patch)(i,(0,_virtualDom.diff)(n,e)),n=e}var n=r(),i=(0,_virtualDom.create)(n);return u.appendChild(i),(0,_composeFunction2["default"])((0,_delegant2["default"])(u,function(t){return t&&e.dispatch(t)}),e.subscribe(o))}Object.defineProperty(exports,"__esModule",{value:!0});var _delegant=require("delegant"),_delegant2=_interopRequireDefault(_delegant),_composeFunction=require("compose-function"),_composeFunction2=_interopRequireDefault(_composeFunction),_virtualDom=require("virtual-dom");exports["default"]=vdux,module.exports=exports["default"];

},{"compose-function":16,"delegant":19,"virtual-dom":127}],123:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function factory(e,o,t){o||(o={});var n=e.render||e;return o.children=t,e.transformProps&&(o=e.transformProps(o)),{props:o,type:"Thunk",component:e,render:function(t){var r=void 0;return t&&isSameThunk(t,this)?shouldUpdate(e,t.props,o)?(execHook(e.beforeUpdate,t.props,o),setTimeout(function(){return execHook(e.afterUpdate,t.props,o)}),r=chainThunks(n(o),this),this.hookKey=t.hookKey,r.properties[this.hookKey]=t.vnode.properties[this.hookKey],r.properties[this.hookKey].props=this.props,r):(this.hookKey=t.hookKey,t.vnode.properties[this.hookKey].props=this.props,t.vnode):(this.hookKey=(0,_getUid2["default"])(),execHook(e.beforeMount,o),applyHook(chainThunks(n(o),this),this.hookKey,createComponentHook(e,o)))}}}function chainThunks(e,o){if(!isThunk(e))return e;var t=o.nextThunk;return o.nextThunk=e,e.vnode=e.render(t),e.vnode}function isThunk(e){return e&&"Thunk"===e.type}function applyHook(e,o,t){return e.hooks=e.hooks||{},e.properties=e.properties||{},e.hooks[o]=e.properties[o]=t,e}function isSameThunk(e,o){return isThunk(e)&&e.component===o.component}function createComponentHook(e,o){return Object.create({hook:function(){return setTimeout(function(){return execHook(e.afterMount,o)})},unhook:function(){return execHook(e.beforeUnmount,o)}})}function shouldUpdate(e,o,t){return o&&t&&(0,_shallowEquals2["default"])(o.children,t.children)&&(t.children=o.children),e.shouldUpdate?e.shouldUpdate(o,t):!(0,_shallowEquals2["default"])(o,t)}function execHook(e){if(e){for(var o=arguments.length,t=Array(o>1?o-1:0),n=1;o>n;n++)t[n-1]=arguments[n];var r=e.apply(void 0,t);return r&&dispatch(r),r}}function dispatch(e){var o=new CustomEvent(ActionEvent,{detail:e});setTimeout(function(){return window.dispatchEvent(o)})}function listen(e){function o(o){e(o.detail)}return window.addEventListener(ActionEvent,o,!0),function(){return window.removeEventListener(ActionEvent,o,!0)}}Object.defineProperty(exports,"__esModule",{value:!0});var _shallowEquals=require("shallow-equals"),_shallowEquals2=_interopRequireDefault(_shallowEquals),_getUid=require("get-uid"),_getUid2=_interopRequireDefault(_getUid),ActionEvent="virtual-component-action";exports["default"]=factory,exports.listen=listen;

},{"get-uid":25,"shallow-equals":105}],124:[function(require,module,exports){
var createElement=require("./vdom/create-element.js");module.exports=createElement;

},{"./vdom/create-element.js":130}],125:[function(require,module,exports){
var diff=require("./vtree/diff.js");module.exports=diff;

},{"./vtree/diff.js":151}],126:[function(require,module,exports){
var h=require("./virtual-hyperscript/index.js");module.exports=h;

},{"./virtual-hyperscript/index.js":138}],127:[function(require,module,exports){
var diff=require("./diff.js"),patch=require("./patch.js"),h=require("./h.js"),create=require("./create-element.js"),VNode=require("./vnode/vnode.js"),VText=require("./vnode/vtext.js");module.exports={diff:diff,patch:patch,h:h,create:create,VNode:VNode,VText:VText};

},{"./create-element.js":124,"./diff.js":125,"./h.js":126,"./patch.js":128,"./vnode/vnode.js":147,"./vnode/vtext.js":149}],128:[function(require,module,exports){
var patch=require("./vdom/patch.js");module.exports=patch;

},{"./vdom/patch.js":133}],129:[function(require,module,exports){
function applyProperties(o,t,e){for(var r in t){var i=t[r];void 0===i?removeProperty(o,r,i,e):isHook(i)?(removeProperty(o,r,i,e),i.hook&&i.hook(o,r,e?e[r]:void 0)):isObject(i)?patchObject(o,t,e,r,i):o[r]=i}}function removeProperty(o,t,e,r){if(r){var i=r[t];if(isHook(i))i.unhook&&i.unhook(o,t,e);else if("attributes"===t)for(var v in i)o.removeAttribute(v);else if("style"===t)for(var s in i)o.style[s]="";else"string"==typeof i?o[t]="":o[t]=null}}function patchObject(o,t,e,r,i){var v=e?e[r]:void 0;if("attributes"!==r){if(v&&isObject(v)&&getPrototype(v)!==getPrototype(i))return void(o[r]=i);isObject(o[r])||(o[r]={});var s="style"===r?"":void 0;for(var n in i){var p=i[n];o[r][n]=void 0===p?s:p}}else for(var c in i){var u=i[c];void 0===u?o.removeAttribute(c):o.setAttribute(c,u)}}function getPrototype(o){return Object.getPrototypeOf?Object.getPrototypeOf(o):o.__proto__?o.__proto__:o.constructor?o.constructor.prototype:void 0}var isObject=require("is-object"),isHook=require("../vnode/is-vhook.js");module.exports=applyProperties;

},{"../vnode/is-vhook.js":142,"is-object":38}],130:[function(require,module,exports){
function createElement(e,r){var t=r?r.document||document:document,n=r?r.warn:null;if(e=handleThunk(e).a,isWidget(e))return e.init();if(isVText(e))return t.createTextNode(e.text);if(!isVNode(e))return n&&n("Item is not a valid virtual dom node",e),null;var i=null===e.namespace?t.createElement(e.tagName):t.createElementNS(e.namespace,e.tagName),a=e.properties;applyProperties(i,a);for(var d=e.children,l=0;l<d.length;l++){var o=createElement(d[l],r);o&&i.appendChild(o)}return i}var document=require("global/document"),applyProperties=require("./apply-properties"),isVNode=require("../vnode/is-vnode.js"),isVText=require("../vnode/is-vtext.js"),isWidget=require("../vnode/is-widget.js"),handleThunk=require("../vnode/handle-thunk.js");module.exports=createElement;

},{"../vnode/handle-thunk.js":140,"../vnode/is-vnode.js":143,"../vnode/is-vtext.js":144,"../vnode/is-widget.js":145,"./apply-properties":129,"global/document":26}],131:[function(require,module,exports){
function domIndex(n,e,r,i){return r&&0!==r.length?(r.sort(ascending),recurse(n,e,r,i,0)):{}}function recurse(n,e,r,i,t){if(i=i||{},n){indexInRange(r,t,t)&&(i[t]=n);var d=e.children;if(d)for(var u=n.childNodes,o=0;o<e.children.length;o++){t+=1;var c=d[o]||noChild,f=t+(c.count||0);indexInRange(r,t,f)&&recurse(u[o],c,r,i,t),t=f}}return i}function indexInRange(n,e,r){if(0===n.length)return!1;for(var i,t,d=0,u=n.length-1;u>=d;){if(i=(u+d)/2>>0,t=n[i],d===u)return t>=e&&r>=t;if(e>t)d=i+1;else{if(!(t>r))return!0;u=i-1}}return!1}function ascending(n,e){return n>e?1:-1}var noChild={};module.exports=domIndex;

},{}],132:[function(require,module,exports){
function applyPatch(e,r,t){var a=e.type,n=e.vNode,o=e.patch;switch(a){case VPatch.REMOVE:return removeNode(r,n);case VPatch.INSERT:return insertNode(r,o,t);case VPatch.VTEXT:return stringPatch(r,n,o,t);case VPatch.WIDGET:return widgetPatch(r,n,o,t);case VPatch.VNODE:return vNodePatch(r,n,o,t);case VPatch.ORDER:return reorderChildren(r,o),r;case VPatch.PROPS:return applyProperties(r,o,n.properties),r;case VPatch.THUNK:return replaceRoot(r,t.patch(r,o,t));default:return r}}function removeNode(e,r){var t=e.parentNode;return t&&t.removeChild(e),destroyWidget(e,r),null}function insertNode(e,r,t){var a=t.render(r,t);return e&&e.appendChild(a),e}function stringPatch(e,r,t,a){var n;if(3===e.nodeType)e.replaceData(0,e.length,t.text),n=e;else{var o=e.parentNode;n=a.render(t,a),o&&n!==e&&o.replaceChild(n,e)}return n}function widgetPatch(e,r,t,a){var n,o=updateWidget(r,t);n=o?t.update(r,e)||e:a.render(t,a);var d=e.parentNode;return d&&n!==e&&d.replaceChild(n,e),o||destroyWidget(e,r),n}function vNodePatch(e,r,t,a){var n=e.parentNode,o=a.render(t,a);return n&&o!==e&&n.replaceChild(o,e),o}function destroyWidget(e,r){"function"==typeof r.destroy&&isWidget(r)&&r.destroy(e)}function reorderChildren(e,r){for(var t,a,n,o=e.childNodes,d={},i=0;i<r.removes.length;i++)a=r.removes[i],t=o[a.from],a.key&&(d[a.key]=t),e.removeChild(t);for(var c=o.length,p=0;p<r.inserts.length;p++)n=r.inserts[p],t=d[n.key],e.insertBefore(t,n.to>=c++?null:o[n.to])}function replaceRoot(e,r){return e&&r&&e!==r&&e.parentNode&&e.parentNode.replaceChild(r,e),r}var applyProperties=require("./apply-properties"),isWidget=require("../vnode/is-widget.js"),VPatch=require("../vnode/vpatch.js"),updateWidget=require("./update-widget");module.exports=applyPatch;

},{"../vnode/is-widget.js":145,"../vnode/vpatch.js":148,"./apply-properties":129,"./update-widget":134}],133:[function(require,module,exports){
function patch(r,e,t){return t=t||{},t.patch=t.patch&&t.patch!==patch?t.patch:patchRecursive,t.render=t.render||render,t.patch(r,e,t)}function patchRecursive(r,e,t){var a=patchIndices(e);if(0===a.length)return r;var n=domIndex(r,e.a,a),c=r.ownerDocument;t.document||c===document||(t.document=c);for(var p=0;p<a.length;p++){var u=a[p];r=applyPatch(r,n[u],e[u],t)}return r}function applyPatch(r,e,t,a){if(!e)return r;var n;if(isArray(t))for(var c=0;c<t.length;c++)n=patchOp(t[c],e,a),e===r&&(r=n);else n=patchOp(t,e,a),e===r&&(r=n);return r}function patchIndices(r){var e=[];for(var t in r)"a"!==t&&e.push(Number(t));return e}var document=require("global/document"),isArray=require("x-is-array"),render=require("./create-element"),domIndex=require("./dom-index"),patchOp=require("./patch-op");module.exports=patch;

},{"./create-element":130,"./dom-index":131,"./patch-op":132,"global/document":26,"x-is-array":153}],134:[function(require,module,exports){
function updateWidget(i,e){return isWidget(i)&&isWidget(e)?"name"in i&&"name"in e?i.id===e.id:i.init===e.init:!1}var isWidget=require("../vnode/is-widget.js");module.exports=updateWidget;

},{"../vnode/is-widget.js":145}],135:[function(require,module,exports){
"use strict";function EvHook(o){return this instanceof EvHook?void(this.value=o):new EvHook(o)}var EvStore=require("ev-store");module.exports=EvHook,EvHook.prototype.hook=function(o,t){var e=EvStore(o),r=t.substr(3);e[r]=this.value},EvHook.prototype.unhook=function(o,t){var e=EvStore(o),r=t.substr(3);e[r]=void 0};

},{"ev-store":22}],136:[function(require,module,exports){
"use strict";function MutableFocusHook(){return this instanceof MutableFocusHook?void 0:new MutableFocusHook}var document=require("global/document"),nextTick=require("next-tick");module.exports=MutableFocusHook,MutableFocusHook.prototype.hook=function(o){nextTick(function(){document.activeElement!==o&&o.focus()})};

},{"global/document":26,"next-tick":55}],137:[function(require,module,exports){
"use strict";function SoftSetHook(o){return this instanceof SoftSetHook?void(this.value=o):new SoftSetHook(o)}module.exports=SoftSetHook,SoftSetHook.prototype.hook=function(o,t){o[t]!==this.value&&(o[t]=this.value)};

},{}],138:[function(require,module,exports){
"use strict";function h(e,r,i){var t,n,o,s,a=[];return!i&&isChildren(r)&&(i=r,n={}),n=n||r||{},t=parseTag(e,n),n.hasOwnProperty("key")&&(o=n.key,n.key=void 0),n.hasOwnProperty("namespace")&&(s=n.namespace,n.namespace=void 0),"INPUT"!==t||s||!n.hasOwnProperty("value")||void 0===n.value||isHook(n.value)||(n.value=softSetHook(n.value)),transformProperties(n),void 0!==i&&null!==i&&addChild(i,a,t,n),new VNode(t,n,a,o,s)}function addChild(e,r,i,t){if("string"==typeof e)r.push(new VText(e));else if("number"==typeof e)r.push(new VText(String(e)));else if(isChild(e))r.push(e);else{if(!isArray(e)){if(null===e||void 0===e)return;throw UnexpectedVirtualElement({foreignObject:e,parentVnode:{tagName:i,properties:t}})}for(var n=0;n<e.length;n++)addChild(e[n],r,i,t)}}function transformProperties(e){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(isHook(i))continue;"ev-"===r.substr(0,3)&&(e[r]=evHook(i))}}function isChild(e){return isVNode(e)||isVText(e)||isWidget(e)||isVThunk(e)}function isChildren(e){return"string"==typeof e||isArray(e)||isChild(e)}function UnexpectedVirtualElement(e){var r=new Error;return r.type="virtual-hyperscript.unexpected.virtual-element",r.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+errorString(e.foreignObject)+".\nThe parent vnode is:\n"+errorString(e.parentVnode),r.foreignObject=e.foreignObject,r.parentVnode=e.parentVnode,r}function errorString(e){try{return JSON.stringify(e,null,"    ")}catch(r){return String(e)}}var isArray=require("x-is-array"),VNode=require("../vnode/vnode.js"),VText=require("../vnode/vtext.js"),isVNode=require("../vnode/is-vnode"),isVText=require("../vnode/is-vtext"),isWidget=require("../vnode/is-widget"),isHook=require("../vnode/is-vhook"),isVThunk=require("../vnode/is-thunk"),parseTag=require("./parse-tag.js"),softSetHook=require("./hooks/soft-set-hook.js"),evHook=require("./hooks/ev-hook.js");module.exports=h;

},{"../vnode/is-thunk":141,"../vnode/is-vhook":142,"../vnode/is-vnode":143,"../vnode/is-vtext":144,"../vnode/is-widget":145,"../vnode/vnode.js":147,"../vnode/vtext.js":149,"./hooks/ev-hook.js":135,"./hooks/soft-set-hook.js":137,"./parse-tag.js":139,"x-is-array":153}],139:[function(require,module,exports){
"use strict";function parseTag(s,a){if(!s)return"DIV";var t=!a.hasOwnProperty("id"),e=split(s,classIdSplit),r=null;notClassId.test(e[1])&&(r="DIV");var l,n,i,p;for(p=0;p<e.length;p++)n=e[p],n&&(i=n.charAt(0),r?"."===i?(l=l||[],l.push(n.substring(1,n.length))):"#"===i&&t&&(a.id=n.substring(1,n.length)):r=n);return l&&(a.className&&l.push(a.className),a.className=l.join(" ")),a.namespace?r:r.toUpperCase()}var split=require("browser-split"),classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,notClassId=/^\.|#/;module.exports=parseTag;

},{"browser-split":12}],140:[function(require,module,exports){
function handleThunk(e,n){var r=e,i=n;return isThunk(n)&&(i=renderThunk(n,e)),isThunk(e)&&(r=renderThunk(e,null)),{a:r,b:i}}function renderThunk(e,n){var r=e.vnode;if(r||(r=e.vnode=e.render(n)),!(isVNode(r)||isVText(r)||isWidget(r)))throw new Error("thunk did not return a valid node");return r}var isVNode=require("./is-vnode"),isVText=require("./is-vtext"),isWidget=require("./is-widget"),isThunk=require("./is-thunk");module.exports=handleThunk;

},{"./is-thunk":141,"./is-vnode":143,"./is-vtext":144,"./is-widget":145}],141:[function(require,module,exports){
function isThunk(n){return n&&"Thunk"===n.type}module.exports=isThunk;

},{}],142:[function(require,module,exports){
function isHook(o){return o&&("function"==typeof o.hook&&!o.hasOwnProperty("hook")||"function"==typeof o.unhook&&!o.hasOwnProperty("unhook"))}module.exports=isHook;

},{}],143:[function(require,module,exports){
function isVirtualNode(e){return e&&"VirtualNode"===e.type&&e.version===version}var version=require("./version");module.exports=isVirtualNode;

},{"./version":146}],144:[function(require,module,exports){
function isVirtualText(e){return e&&"VirtualText"===e.type&&e.version===version}var version=require("./version");module.exports=isVirtualText;

},{"./version":146}],145:[function(require,module,exports){
function isWidget(e){return e&&"Widget"===e.type}module.exports=isWidget;

},{}],146:[function(require,module,exports){
module.exports="2";

},{}],147:[function(require,module,exports){
function VirtualNode(e,i,o,s,r){this.tagName=e,this.properties=i||noProperties,this.children=o||noChildren,this.key=null!=s?String(s):void 0,this.namespace="string"==typeof r?r:null;var t,n=o&&o.length||0,h=0,a=!1,d=!1,u=!1;for(var k in i)if(i.hasOwnProperty(k)){var l=i[k];isVHook(l)&&l.unhook&&(t||(t={}),t[k]=l)}for(var p=0;n>p;p++){var v=o[p];isVNode(v)?(h+=v.count||0,!a&&v.hasWidgets&&(a=!0),!d&&v.hasThunks&&(d=!0),u||!v.hooks&&!v.descendantHooks||(u=!0)):!a&&isWidget(v)?"function"==typeof v.destroy&&(a=!0):!d&&isThunk(v)&&(d=!0)}this.count=n+h,this.hasWidgets=a,this.hasThunks=d,this.hooks=t,this.descendantHooks=u}var version=require("./version"),isVNode=require("./is-vnode"),isWidget=require("./is-widget"),isThunk=require("./is-thunk"),isVHook=require("./is-vhook");module.exports=VirtualNode;var noProperties={},noChildren=[];VirtualNode.prototype.version=version,VirtualNode.prototype.type="VirtualNode";

},{"./is-thunk":141,"./is-vhook":142,"./is-vnode":143,"./is-widget":145,"./version":146}],148:[function(require,module,exports){
function VirtualPatch(t,a,r){this.type=Number(t),this.vNode=a,this.patch=r}var version=require("./version");VirtualPatch.NONE=0,VirtualPatch.VTEXT=1,VirtualPatch.VNODE=2,VirtualPatch.WIDGET=3,VirtualPatch.PROPS=4,VirtualPatch.ORDER=5,VirtualPatch.INSERT=6,VirtualPatch.REMOVE=7,VirtualPatch.THUNK=8,module.exports=VirtualPatch,VirtualPatch.prototype.version=version,VirtualPatch.prototype.type="VirtualPatch";

},{"./version":146}],149:[function(require,module,exports){
function VirtualText(t){this.text=String(t)}var version=require("./version");module.exports=VirtualText,VirtualText.prototype.version=version,VirtualText.prototype.type="VirtualText";

},{"./version":146}],150:[function(require,module,exports){
function diffProps(o,t){var e;for(var r in o){r in t||(e=e||{},e[r]=void 0);var i=o[r],f=t[r];if(i!==f)if(isObject(i)&&isObject(f))if(getPrototype(f)!==getPrototype(i))e=e||{},e[r]=f;else if(isHook(f))e=e||{},e[r]=f;else{var s=diffProps(i,f);s&&(e=e||{},e[r]=s)}else e=e||{},e[r]=f}for(var n in t)n in o||(e=e||{},e[n]=t[n]);return e}function getPrototype(o){return Object.getPrototypeOf?Object.getPrototypeOf(o):o.__proto__?o.__proto__:o.constructor?o.constructor.prototype:void 0}var isObject=require("is-object"),isHook=require("../vnode/is-vhook");module.exports=diffProps;

},{"../vnode/is-vhook":142,"is-object":38}],151:[function(require,module,exports){
function diff(e,n){var t={a:e};return walk(e,n,t,0),t}function walk(e,n,t,r){if(e!==n){var h=t[r],a=!1;if(isThunk(e)||isThunk(n))thunks(e,n,t,r);else if(null==n)isWidget(e)||(clearState(e,t,r),h=t[r]),h=appendPatch(h,new VPatch(VPatch.REMOVE,e,n));else if(isVNode(n))if(isVNode(e))if(e.tagName===n.tagName&&e.namespace===n.namespace&&e.key===n.key){var i=diffProps(e.properties,n.properties);i&&(h=appendPatch(h,new VPatch(VPatch.PROPS,e,i))),h=diffChildren(e,n,t,h,r)}else h=appendPatch(h,new VPatch(VPatch.VNODE,e,n)),a=!0;else h=appendPatch(h,new VPatch(VPatch.VNODE,e,n)),a=!0;else isVText(n)?isVText(e)?e.text!==n.text&&(h=appendPatch(h,new VPatch(VPatch.VTEXT,e,n))):(h=appendPatch(h,new VPatch(VPatch.VTEXT,e,n)),a=!0):isWidget(n)&&(isWidget(e)||(a=!0),h=appendPatch(h,new VPatch(VPatch.WIDGET,e,n)));h&&(t[r]=h),a&&clearState(e,t,r)}}function diffChildren(e,n,t,r,h){for(var a=e.children,i=reorder(a,n.children),s=i.children,o=a.length,u=s.length,c=o>u?o:u,d=0;c>d;d++){var l=a[d],f=s[d];h+=1,l?walk(l,f,t,h):f&&(r=appendPatch(r,new VPatch(VPatch.INSERT,null,f))),isVNode(l)&&l.count&&(h+=l.count)}return i.moves&&(r=appendPatch(r,new VPatch(VPatch.ORDER,e,i.moves))),r}function clearState(e,n,t){unhook(e,n,t),destroyWidgets(e,n,t)}function destroyWidgets(e,n,t){if(isWidget(e))"function"==typeof e.destroy&&(n[t]=appendPatch(n[t],new VPatch(VPatch.REMOVE,e,null)));else if(isVNode(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,h=r.length,a=0;h>a;a++){var i=r[a];t+=1,destroyWidgets(i,n,t),isVNode(i)&&i.count&&(t+=i.count)}else isThunk(e)&&thunks(e,null,n,t)}function thunks(e,n,t,r){var h=handleThunk(e,n),a=diff(h.a,h.b);hasPatches(a)&&(t[r]=new VPatch(VPatch.THUNK,null,a))}function hasPatches(e){for(var n in e)if("a"!==n)return!0;return!1}function unhook(e,n,t){if(isVNode(e)){if(e.hooks&&(n[t]=appendPatch(n[t],new VPatch(VPatch.PROPS,e,undefinedKeys(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,h=r.length,a=0;h>a;a++){var i=r[a];t+=1,unhook(i,n,t),isVNode(i)&&i.count&&(t+=i.count)}}else isThunk(e)&&thunks(e,null,n,t)}function undefinedKeys(e){var n={};for(var t in e)n[t]=void 0;return n}function reorder(e,n){var t=keyIndex(n),r=t.keys,h=t.free;if(h.length===n.length)return{children:n,moves:null};var a=keyIndex(e),i=a.keys,s=a.free;if(s.length===e.length)return{children:n,moves:null};for(var o=[],u=0,c=h.length,d=0,l=0;l<e.length;l++){var f,k=e[l];k.key?r.hasOwnProperty(k.key)?(f=r[k.key],o.push(n[f])):(f=l-d++,o.push(null)):c>u?(f=h[u++],o.push(n[f])):(f=l-d++,o.push(null))}for(var p=u>=h.length?n.length:h[u],P=0;P<n.length;P++){var v=n[P];v.key?i.hasOwnProperty(v.key)||o.push(v):P>=p&&o.push(v)}for(var y,V=o.slice(),g=0,T=[],m=[],w=0;w<n.length;){var N=n[w];for(y=V[g];null===y&&V.length;)T.push(remove(V,g,null)),y=V[g];y&&y.key===N.key?(g++,w++):N.key?(y&&y.key&&r[y.key]!==w+1?(T.push(remove(V,g,y.key)),y=V[g],y&&y.key===N.key?g++:m.push({key:N.key,to:w})):m.push({key:N.key,to:w}),w++):y&&y.key&&T.push(remove(V,g,y.key))}for(;g<V.length;)y=V[g],T.push(remove(V,g,y&&y.key));return T.length!==d||m.length?{children:o,moves:{removes:T,inserts:m}}:{children:o,moves:null}}function remove(e,n,t){return e.splice(n,1),{from:n,key:t}}function keyIndex(e){for(var n={},t=[],r=e.length,h=0;r>h;h++){var a=e[h];a.key?n[a.key]=h:t.push(h)}return{keys:n,free:t}}function appendPatch(e,n){return e?(isArray(e)?e.push(n):e=[e,n],e):n}var isArray=require("x-is-array"),VPatch=require("../vnode/vpatch"),isVNode=require("../vnode/is-vnode"),isVText=require("../vnode/is-vtext"),isWidget=require("../vnode/is-widget"),isThunk=require("../vnode/is-thunk"),handleThunk=require("../vnode/handle-thunk"),diffProps=require("./diff-props");module.exports=diff;

},{"../vnode/handle-thunk":140,"../vnode/is-thunk":141,"../vnode/is-vnode":143,"../vnode/is-vtext":144,"../vnode/is-widget":145,"../vnode/vpatch":148,"./diff-props":150,"x-is-array":153}],152:[function(require,module,exports){
!function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function n(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),n(e)}function i(t){var e=new FileReader;return e.readAsText(t),n(e)}function a(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},p.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(t){var e=t.toUpperCase();return c.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var o=e.body;if(h.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,o||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",(e.headers||!this.headers)&&(this.headers=new r(e.headers)),this.method=u(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function f(t){var e=new r,o=t.getAllResponseHeaders().trim().split("\n");return o.forEach(function(t){var r=t.trim().split(":"),o=r.shift().trim(),n=r.join(":").trim();e.append(o,n)}),e}function l(t,e){e||(e={}),this._initBody(t),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof r?e.headers:new r(e.headers),this.url=e.url||""}if(!self.fetch){r.prototype.append=function(r,o){r=t(r),o=e(o);var n=this.map[r];n||(n=[],this.map[r]=n),n.push(o)},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(r,o){this.map[t(r)]=[e(o)]},r.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(o){t.call(e,o,r,this)},this)},this)};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},a.call(h.prototype),a.call(l.prototype),l.prototype.clone=function(){return new l(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},l.error=function(){var t=new l(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];l.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new l(null,{status:e,headers:{location:t}})},self.Headers=r,self.Request=h,self.Response=l,self.fetch=function(t,e){return new Promise(function(r,o){function n(){return"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0}var s;s=h.prototype.isPrototypeOf(t)&&!e?t:new h(t,e);var i=new XMLHttpRequest;i.onload=function(){var t=1223===i.status?204:i.status;if(100>t||t>599)return void o(new TypeError("Network request failed"));var e={status:t,statusText:i.statusText,headers:f(i),url:n()},s="response"in i?i.response:i.responseText;r(new l(s,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.open(s.method,s.url,!0),"include"===s.credentials&&(i.withCredentials=!0),"responseType"in i&&p.blob&&(i.responseType="blob"),s.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},self.fetch.polyfill=!0}}();

},{}],153:[function(require,module,exports){
function isArray(r){return"[object Array]"===toString.call(r)}var nativeIsArray=Array.isArray,toString=Object.prototype.toString;module.exports=nativeIsArray||isArray;

},{}],154:[function(require,module,exports){
function DOMParser(t){this.options=t||{locator:{}}}function buildErrorHandler(t,e,n){function r(e){var r=t[e];if(!r)if(i)r=2==t.length?function(n){t(e,n)}:t;else for(var a=arguments.length;--a&&!(r=t[arguments[a]]););o[e]=r&&function(t){r(t+_locator(n))}||function(){}}if(!t){if(e instanceof DOMHandler)return e;t=e}var o={},i=t instanceof Function;return n=n||{},r("warning","warn"),r("error","warn","warning"),r("fatalError","warn","warning","error"),o}function DOMHandler(){this.cdata=!1}function position(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function _locator(t){return t?"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]":void 0}function _toString(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function appendElement(t,e){t.currentElement?t.currentElement.appendChild(e):t.document.appendChild(e)}if(DOMParser.prototype.parseFromString=function(t,e){var n=this.options,r=new XMLReader,o=n.domBuilder||new DOMHandler,i=n.errorHandler,a=n.locator,c=n.xmlns||{},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return a&&o.setDocumentLocator(a),r.errorHandler=buildErrorHandler(i,o,a),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(e)&&(l.nbsp="",l.copy="",c[""]="http://www.w3.org/1999/xhtml"),t?r.parse(t,c,l):r.errorHandler.error("invalid document source"),o.document},DOMHandler.prototype={startDocument:function(){this.document=(new DOMImplementation).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var o=this.document,i=o.createElementNS(t,n||e),a=r.length;appendElement(this,i),this.currentElement=i,this.locator&&position(this.locator,i);for(var c=0;a>c;c++){var t=r.getURI(c),l=r.getValue(c),n=r.getQName(c),s=o.createAttributeNS(t,n);s.getOffset&&position(s.getOffset(1),s),s.value=s.nodeValue=l,i.setAttributeNode(s)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.document.createProcessingInstruction(t,e);this.locator&&position(this.locator,n),appendElement(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=_toString.apply(this,arguments),this.currentElement&&t){if(this.cdata){var r=this.document.createCDATASection(t);this.currentElement.appendChild(r)}else{var r=this.document.createTextNode(t);this.currentElement.appendChild(r)}this.locator&&position(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=_toString.apply(this,arguments);var r=this.document.createComment(t);this.locator&&position(this.locator,r),appendElement(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.document.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(t,e,n);this.locator&&position(this.locator,o),appendElement(this,o)}},warning:function(t){console.warn(t,_locator(this.locator))},error:function(t){console.error(t,_locator(this.locator))},fatalError:function(t){throw console.error(t,_locator(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){DOMHandler.prototype[t]=function(){return null}}),"function"==typeof require){var XMLReader=require("./sax").XMLReader,DOMImplementation=exports.DOMImplementation=require("./dom").DOMImplementation;exports.XMLSerializer=require("./dom").XMLSerializer,exports.DOMParser=DOMParser}

},{"./dom":155,"./sax":156}],155:[function(require,module,exports){
function copy(e,t){for(var n in e)t[n]=e[n]}function _extends(e,t){function n(){}var o=e.prototype;if(Object.create){var i=Object.create(t.prototype);o.__proto__=i}o instanceof t||(n.prototype=t.prototype,n=new n,copy(o,n),e.prototype=o=n),o.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),o.constructor=e)}function DOMException(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,ExceptionMessage[e]),this.message=ExceptionMessage[e],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return n.code=e,t&&(this.message=this.message+": "+t),n}function NodeList(){}function LiveNodeList(e,t){this._node=e,this._refresh=t,_updateLiveList(this)}function _updateLiveList(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);__set__(e,"length",n.length),copy(n,e),e._inc=t}}function NamedNodeMap(){}function _findNodeIndex(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function _addNamedNode(e,t,n,o){if(o?t[_findNodeIndex(t,o)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(o&&_onRemoveAttribute(i,e,o),_onAddAttribute(i,e,n))}}function _removeNamedNode(e,t,n){var o=_findNodeIndex(t,n);if(!(o>=0))throw DOMException(NOT_FOUND_ERR,new Error);for(var i=t.length-1;i>o;)t[o]=t[++o];if(t.length=i,e){var r=e.ownerDocument;r&&(_onRemoveAttribute(r,e,n),n.ownerElement=null)}}function DOMImplementation(e){if(this._features={},e)for(var t in e)this._features=e[t]}function Node(){}function _xmlEncoder(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function _visitNode(e,t){if(t(e))return!0;if(e=e.firstChild)do if(_visitNode(e,t))return!0;while(e=e.nextSibling)}function Document(){}function _onAddAttribute(e,t,n){e&&e._inc++;var o=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==o&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function _onRemoveAttribute(e,t,n,o){e&&e._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete t._nsMap[n.prefix?n.localName:""]}function _onUpdateChild(e,t,n){if(e&&e._inc){e._inc++;var o=t.childNodes;if(n)o[o.length++]=n;else{for(var i=t.firstChild,r=0;i;)o[r++]=i,i=i.nextSibling;o.length=r}}}function _removeChild(e,t){var n=t.previousSibling,o=t.nextSibling;return n?n.nextSibling=o:e.firstChild=o,o?o.previousSibling=n:e.lastChild=n,_onUpdateChild(e.ownerDocument,e),t}function _insertBefore(e,t,n){var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===DOCUMENT_FRAGMENT_NODE){var i=t.firstChild;if(null==i)return t;var r=t.lastChild}else i=r=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,r.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=r:n.previousSibling=r;do i.parentNode=e;while(i!==r&&(i=i.nextSibling));return _onUpdateChild(e.ownerDocument||e,e),t.nodeType==DOCUMENT_FRAGMENT_NODE&&(t.firstChild=t.lastChild=null),t}function _appendSingleChild(e,t){var n=t.parentNode;if(n){var o=e.lastChild;n.removeChild(t);var o=e.lastChild}var o=e.lastChild;return t.parentNode=e,t.previousSibling=o,t.nextSibling=null,o?o.nextSibling=t:e.firstChild=t,e.lastChild=t,_onUpdateChild(e.ownerDocument,e,t),t}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function serializeToString(e,t){switch(e.nodeType){case ELEMENT_NODE:var n=e.attributes,o=n.length,i=e.firstChild,r=e.tagName,a=htmlns===e.namespaceURI;t.push("<",r);for(var s=0;o>s;s++)serializeToString(n.item(s),t,a);if(i||a&&!/^(?:meta|link|img|br|hr|input)$/i.test(r)){if(t.push(">"),a&&/^script$/i.test(r))i&&t.push(i.data);else for(;i;)serializeToString(i,t),i=i.nextSibling;t.push("</",r,">")}else t.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var i=e.firstChild;i;)serializeToString(i,t),i=i.nextSibling;return;case ATTRIBUTE_NODE:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,_xmlEncoder),'"');case TEXT_NODE:return t.push(e.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return t.push("<![CDATA[",e.data,"]]>");case COMMENT_NODE:return t.push("<!--",e.data,"-->");case DOCUMENT_TYPE_NODE:var u=e.publicId,d=e.systemId;if(t.push("<!DOCTYPE ",e.name),u)t.push(' PUBLIC "',u),d&&"."!=d&&t.push('" "',d),t.push('">');else if(d&&"."!=d)t.push(' SYSTEM "',d,'">');else{var c=e.internalSubset;c&&t.push(" [",c,"]"),t.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return t.push("<?",e.target," ",e.data,"?>");case ENTITY_REFERENCE_NODE:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function importNode(e,t,n){var o;switch(t.nodeType){case ELEMENT_NODE:o=t.cloneNode(!1),o.ownerDocument=e;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:n=!0}if(o||(o=t.cloneNode(!1)),o.ownerDocument=e,o.parentNode=null,n)for(var i=t.firstChild;i;)o.appendChild(importNode(e,i,n)),i=i.nextSibling;return o}function cloneNode(e,t,n){var o=new t.constructor;for(var i in t){var r=t[i];"object"!=typeof r&&r!=o[i]&&(o[i]=r)}switch(t.childNodes&&(o.childNodes=new NodeList),o.ownerDocument=e,o.nodeType){case ELEMENT_NODE:var a=t.attributes,s=o.attributes=new NamedNodeMap,u=a.length;s._ownerElement=o;for(var d=0;u>d;d++)o.setAttributeNode(cloneNode(e,a.item(d),!0));break;case ATTRIBUTE_NODE:n=!0}if(n)for(var c=t.firstChild;c;)o.appendChild(cloneNode(e,c,n)),c=c.nextSibling;return o}function __set__(e,t,n){e[t]=n}function getTextContent(e){switch(e.nodeType){case 1:case 11:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(getTextContent(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},INDEX_SIZE_ERR=ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),DOMSTRING_SIZE_ERR=ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),WRONG_DOCUMENT_ERR=ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),INVALID_CHARACTER_ERR=ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),NO_DATA_ALLOWED_ERR=ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),NO_MODIFICATION_ALLOWED_ERR=ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8),NOT_SUPPORTED_ERR=ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10),INVALID_STATE_ERR=ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),SYNTAX_ERR=ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),INVALID_MODIFICATION_ERR=ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),NAMESPACE_ERR=ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),INVALID_ACCESS_ERR=ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(e){return this[e]||null}},LiveNodeList.prototype.item=function(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var n=this.getNamedItem(e.nodeName);return _addNamedNode(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return t=this.getNamedItemNS(e.namespaceURI,e.localName),_addNamedNode(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return _removeNamedNode(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return _removeNamedNode(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var o=this[n];if(o.localName==t&&o.namespaceURI==e)return o}return null}},DOMImplementation.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return n&&(!t||t in n)?!0:!1},createDocument:function(e,t,n){var o=new Document;if(o.doctype=n,n&&o.appendChild(n),o.implementation=this,o.childNodes=new NodeList,t){var i=o.createElementNS(e,t);o.appendChild(i)}return o},createDocumentType:function(e,t,n){var o=new DocumentType;return o.name=e,o.nodeName=e,o.publicId=t,o.systemId=n,o}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _insertBefore(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return _removeChild(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return cloneNode(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==TEXT_NODE&&e.nodeType==TEXT_NODE?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var o in n)if(n[o]==e)return o;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==DOCUMENT_FRAGMENT_NODE){for(var n=e.firstChild;n;){var o=n.nextSibling;this.insertBefore(n,t),n=o}return e}return null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),_insertBefore(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),_removeChild(this,e)},importNode:function(e,t){return importNode(this,e,t)},getElementById:function(e){var t=null;return _visitNode(this.documentElement,function(n){return 1==n.nodeType&&n.getAttribute("id")==e?(t=n,!0):void 0}),t},createElement:function(e){var t=new Element;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new NodeList;var n=t.attributes=new NamedNodeMap;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument=this,e.childNodes=new NodeList,e},createTextNode:function(e){var t=new Text;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Comment;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new CDATASection;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ProcessingInstruction;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Attr;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new EntityReference;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Element,o=t.split(":"),i=n.attributes=new NamedNodeMap;return n.childNodes=new NodeList,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==o.length?(n.prefix=o[0],n.localName=o[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new Attr,o=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==o.length?(n.prefix=o[0],n.localName=o[1]):n.localName=t,n}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(e,null):_appendSingleChild(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var o=this.ownerDocument.createAttributeNS(e,t);o.value=o.nodeValue=n,this.setAttributeNode(o)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new LiveNodeList(this,function(t){var n=[];return _visitNode(t,function(o){o===t||o.nodeType!=ELEMENT_NODE||"*"!==e&&o.tagName!=e||n.push(o)}),n})},getElementsByTagNameNS:function(e,t){return new LiveNodeList(this,function(n){var o=[];return _visitNode(n,function(i){i===n||i.nodeType!==ELEMENT_NODE||i.namespaceURI!==e||"*"!==t&&i.localName!=t||o.push(i)}),o})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(ExceptionMessage[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var o=this.data.substring(0,e),i=this.data.substring(e+t);n=o+n+i,this.nodeValue=this.data=n,this.length=n.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var o=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling),o}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(e){var t=[];return serializeToString(e,t),t.join("")},Node.prototype.toString=function(){return XMLSerializer.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=value,this.nodeValue=e}}}),__set__=function(e,t,n){e["$$"+t]=n})}catch(e){}"function"==typeof require&&(exports.DOMImplementation=DOMImplementation,exports.XMLSerializer=XMLSerializer);

},{}],156:[function(require,module,exports){
function XMLReader(){}function parse(e,t,r,a,n){function s(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}function i(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?s(parseInt(t.substr(1).replace("x","0x"))):(n.error("entity not found:"+e),e)}function c(t){var r=e.substring(S,t).replace(/&#?\w+;/g,i);m&&o(S),a.characters(r,0,t-S),S=t}function o(t,r){for(;t>=l&&(r=f.exec(e));)u=r.index,l=u+r[0].length,m.lineNumber++;m.columnNumber=t-u+1}for(var u=0,l=0,f=/.+(?:\r\n?|\n)|.*$/g,m=a.locator,p=[{currentNSMap:t}],d={},S=0;;){var _=e.indexOf("<",S);if(0>_){if(!e.substr(S).match(/^\s*$/)){var h=a.document,g=h.createTextNode(e.substr(S));h.appendChild(g),a.currentElement=g}return}switch(_>S&&c(_),e.charAt(_+1)){case"/":var w=e.indexOf(">",_+3),b=e.substring(_+2,w),v=p.pop(),x=v.localNSMap;if(v.tagName!=b&&n.fatalError("end tag name: "+b+" is not match the current start tagName:"+v.tagName),a.endElement(v.uri,v.localName,b),x)for(var T in x)a.endPrefixMapping(T);w++;break;case"?":m&&o(_),w=parseInstruction(e,_,a);break;case"!":m&&o(_),w=parseDCC(e,_,a,n);break;default:try{m&&o(_);var N=new ElementAttributes,w=parseElementStartPart(e,_,N,i,n),E=N.length;if(E&&m){for(var A=copyLocator(m,{}),_=0;E>_;_++){var C=N[_];o(C.offset),C.offset=copyLocator(m,{})}copyLocator(A,m)}!N.closed&&fixSelfClosed(e,w,N.tagName,d)&&(N.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),appendElement(N,a,p),"http://www.w3.org/1999/xhtml"!==N.uri||N.closed?w++:w=parseHtmlSpecialContent(e,w,N.tagName,i,a)}catch(F){n.error("element parse error: "+F),w=-1}}0>w?c(_+1):S=w}}function copyLocator(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function parseElementStartPart(e,t,r,a,n){for(var s,i,c=++t,o=S_TAG;;){var u=e.charAt(c);switch(u){case"=":if(o===S_ATTR)s=e.slice(t,c),o=S_EQ;else{if(o!==S_ATTR_S)throw new Error("attribute equal must after attrName");o=S_EQ}break;case"'":case'"':if(o===S_EQ){if(t=c+1,c=e.indexOf(u,t),!(c>0))throw new Error("attribute value no end '"+u+"' match");i=e.slice(t,c).replace(/&#?\w+;/g,a),r.add(s,i,t-1),o=S_E}else{if(o!=S_V)throw new Error('attribute value must after "="');i=e.slice(t,c).replace(/&#?\w+;/g,a),r.add(s,i,t),n.warning('attribute "'+s+'" missed start quot('+u+")!!"),t=c+1,o=S_E}break;case"/":switch(o){case S_TAG:r.setTagName(e.slice(t,c));case S_E:case S_S:case S_C:o=S_C,r.closed=!0;case S_V:case S_ATTR:case S_ATTR_S:break;default:throw new Error("attribute invalid close char('/')")}break;case"":n.error("unexpected end of input");case">":switch(o){case S_TAG:r.setTagName(e.slice(t,c));case S_E:case S_S:case S_C:break;case S_V:case S_ATTR:i=e.slice(t,c),"/"===i.slice(-1)&&(r.closed=!0,i=i.slice(0,-1));case S_ATTR_S:o===S_ATTR_S&&(i=s),o==S_V?(n.warning('attribute "'+i+'" missed quot(")!!'),r.add(s,i.replace(/&#?\w+;/g,a),t)):(n.warning('attribute "'+i+'" missed value!! "'+i+'" instead!!'),r.add(i,i,t));break;case S_EQ:throw new Error("attribute value missed!!")}return c;case"":u=" ";default:if(" ">=u)switch(o){case S_TAG:r.setTagName(e.slice(t,c)),o=S_S;break;case S_ATTR:s=e.slice(t,c),o=S_ATTR_S;break;case S_V:var i=e.slice(t,c).replace(/&#?\w+;/g,a);n.warning('attribute "'+i+'" missed quot(")!!'),r.add(s,i,t);case S_E:o=S_S}else switch(o){case S_ATTR_S:n.warning('attribute "'+s+'" missed value!! "'+s+'" instead!!'),r.add(s,s,t),t=c,o=S_ATTR;break;case S_E:n.warning('attribute space is required"'+s+'"!!');case S_S:o=S_ATTR,t=c;break;case S_EQ:o=S_V,t=c;break;case S_C:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function appendElement(e,t,r){for(var a=e.tagName,n=null,s=r[r.length-1].currentNSMap,i=e.length;i--;){var c=e[i],o=c.qName,u=c.value,l=o.indexOf(":");if(l>0)var f=c.prefix=o.slice(0,l),m=o.slice(l+1),p="xmlns"===f&&m;else m=o,f=null,p="xmlns"===o&&"";c.localName=m,p!==!1&&(null==n&&(n={},_copy(s,s={})),s[p]=n[p]=u,c.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,u))}for(var i=e.length;i--;){c=e[i];var f=c.prefix;f&&("xml"===f&&(c.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==f&&(c.uri=s[f]))}var l=a.indexOf(":");l>0?(f=e.prefix=a.slice(0,l),m=e.localName=a.slice(l+1)):(f=null,m=e.localName=a);var d=e.uri=s[f||""];if(t.startElement(d,m,a,e),e.closed){if(t.endElement(d,m,a),n)for(f in n)t.endPrefixMapping(f)}else e.currentNSMap=s,e.localNSMap=n,r.push(e)}function parseHtmlSpecialContent(e,t,r,a,n){if(/^(?:script|textarea)$/i.test(r)){var s=e.indexOf("</"+r+">",t),i=e.substring(t+1,s);if(/[&<]/.test(i))return/^script$/i.test(r)?(n.characters(i,0,i.length),s):(i=i.replace(/&#?\w+;/g,a),n.characters(i,0,i.length),s)}return t+1}function fixSelfClosed(e,t,r,a){var n=a[r];return null==n&&(n=a[r]=e.lastIndexOf("</"+r+">")),t>n}function _copy(e,t){for(var r in e)t[r]=e[r]}function parseDCC(e,t,r,a){var n=e.charAt(t+2);switch(n){case"-":if("-"===e.charAt(t+3)){var s=e.indexOf("-->",t+4);return s>t?(r.comment(e,t+4,s-t-4),s+3):(a.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){var s=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,s-t-9),r.endCDATA(),s+3}var i=split(e,t),c=i.length;if(c>1&&/!doctype/i.test(i[0][0])){var o=i[1][0],u=c>3&&/^public$/i.test(i[2][0])&&i[3][0],l=c>4&&i[4][0],f=i[c-1];return r.startDTD(o,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),f.index+f[0].length}}return-1}function parseInstruction(e,t,r){var a=e.indexOf("?>",t);if(a){var n=e.substring(t,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){n[0].length;return r.processingInstruction(n[1],n[2]),a+2}return-1}return-1}function ElementAttributes(e){}function _set_proto_(e,t){return e.__proto__=t,e}function split(e,t){var r,a=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(a.push(r),r[1])return a}var nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"-\\ux203F-]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_S=2,S_EQ=3,S_V=4,S_E=5,S_S=6,S_C=7;XMLReader.prototype={parse:function(e,t,r){var a=this.domBuilder;a.startDocument(),_copy(t,t={}),parse(e,t,r,a,this.errorHandler),a.endDocument()}},ElementAttributes.prototype={setTagName:function(e){if(!tagNamePattern.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!tagNamePattern.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(e,t){function r(){}r.prototype=t,r=new r;for(t in e)r[t]=e[t];return r}),"function"==typeof require&&(exports.XMLReader=XMLReader);

},{}],157:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _createActionTypes=require("create-action-types"),_createActionTypes2=_interopRequireDefault(_createActionTypes),actionTypes=(0,_createActionTypes2["default"])(["SELECT_RESOURCE","REQUEST_RESOURCE","RECEIVE_RESOURCE","ERRORED_RESOURCE"]);module.exports=actionTypes;

},{"create-action-types":18}],158:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function fetchResource(e){return[requestResource(e),(0,_reduxEffects.bind)((0,_effectsFetch.fetch)(e),parseResource,erroredResource)]}function parseResource(e){return(0,_reduxEffects.bind)((0,_effectsParse.parse)(e),receiveResource,erroredResource)}var _reduxActions=require("redux-actions"),_reduxEffects=require("redux-effects"),_effectsFetch=require("./effects/fetch"),_effectsParse=require("./effects/parse"),_actionTypes=require("./action-types"),_actionTypes2=_interopRequireDefault(_actionTypes),selectResource=(0,_reduxActions.createAction)(_actionTypes2["default"].SELECT_RESOURCE),requestResource=(0,_reduxActions.createAction)(_actionTypes2["default"].REQUEST_RESOURCE),receiveResource=(0,_reduxActions.createAction)(_actionTypes2["default"].RECEIVE_RESOURCE),erroredResource=(0,_reduxActions.createAction)(_actionTypes2["default"].ERRORED_RESOURCE);module.exports={selectResource:selectResource,fetchResource:fetchResource};

},{"./action-types":157,"./effects/fetch":161,"./effects/parse":162,"redux-actions":90,"redux-effects":93}],159:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function beforeMount(e){return(0,_actions.fetchResource)(e.resourceId)}function beforeUpdate(e,r){return e.resourceId!==r.resourceId?(0,_actions.fetchResource)(r.resourceId):void 0}function render(e){var r=e.resourceId,o=e.resource,n=e.loading,t=e.error;return(0,_vdomElement2["default"])("div",null,(0,_vdomElement2["default"])(_componentsUrlInput2["default"],{key:"resourceId",value:r,label:"@id",onChange:_actions.selectResource}),t?(0,_vdomElement2["default"])("div",null,"error!"):n?(0,_vdomElement2["default"])("div",null,"loading..."):(0,_vdomElement2["default"])("code",null,(0,_vdomElement2["default"])("pre",null,o?o.toString():"")))}var _vdomElement=require("vdom-element"),_vdomElement2=_interopRequireDefault(_vdomElement),_actions=require("./actions"),_componentsUrlInput=require("./components/url-input"),_componentsUrlInput2=_interopRequireDefault(_componentsUrlInput);module.exports={beforeMount:beforeMount,beforeUpdate:beforeUpdate,render:render};

},{"./actions":158,"./components/url-input":160,"vdom-element":121}],160:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function render(e){var t=e.key,l=e.value,n=e.label,r=e.onChange;return(0,_vdomElement2["default"])("div",{"class":"UrlInput-container"},(0,_vdomElement2["default"])("label",{"class":"UrlInput-label",htmlFor:t},n),(0,_vdomElement2["default"])("input",{"class":"UrlInput-input",type:"url",value:l,id:t,"ev-change":function(e){return r(e.target.value)}}))}var _vdomElement=require("vdom-element"),_vdomElement2=_interopRequireDefault(_vdomElement);module.exports={render:render};

},{"vdom-element":121}],161:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function fetchMiddleware(e){e.dispatch,e.getState;return function(e){return function(t){return t.type===FETCH?(0,_isomorphicFetch2["default"])(t.payload.url,t.payload.params).then(checkStatus).then(blobify).then(textify):e(t)}}}function checkStatus(e){if(e.status>=200&&e.status<300)return e;throw e}function blobify(e){return e.blob()}function textify(e){return(0,_readBlob2["default"])(e,"text").then(function(t){return{type:e.type,text:t}})}Object.defineProperty(exports,"__esModule",{value:!0});var _isomorphicFetch=require("isomorphic-fetch"),_isomorphicFetch2=_interopRequireDefault(_isomorphicFetch),_readBlob=require("read-blob"),_readBlob2=_interopRequireDefault(_readBlob),_reduxActions=require("redux-actions"),FETCH="EFFECT_FETCH",fetch=(0,_reduxActions.createAction)(FETCH,function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return{url:e,params:t}});exports["default"]=fetchMiddleware,exports.fetch=fetch;

},{"isomorphic-fetch":41,"read-blob":85,"redux-actions":90}],162:[function(require,module,exports){
"use strict";function parseMiddleware(e){e.dispatch,e.getState;return function(e){return function(r){return r.type===PARSE?rdf.utils.parse(r.payload.type,r.payload.text):e(r)}}}Object.defineProperty(exports,"__esModule",{value:!0});var _reduxActions=require("redux-actions"),rdf=require("rdf-ext")(),PARSE="EFFECT_PARSE",parse=(0,_reduxActions.createAction)(PARSE);exports["default"]=parseMiddleware,exports.parse=parse;

},{"rdf-ext":83,"redux-actions":90}],163:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _vdux=require("vdux"),_vdux2=_interopRequireDefault(_vdux),_virtualComponent=require("virtual-component"),_reduxEffectsEvents=require("redux-effects-events"),_vdomElement=require("vdom-element"),_vdomElement2=_interopRequireDefault(_vdomElement),_store=require("./store"),_store2=_interopRequireDefault(_store),_app=require("./app"),_app2=_interopRequireDefault(_app),store=(0,_store2["default"])({resourceId:"https://rawgit.com/valueflows/agent/master/examples/enspiral.jsonld",resource:null});store.dispatch((0,_reduxEffectsEvents.handleOnce)("domready",function(){(0,_virtualComponent.listen)(store.dispatch),(0,_vdux2["default"])(store,function(e){return(0,_vdomElement2["default"])(_app2["default"],e)},document.body)}));

},{"./app":159,"./store":165,"redux-effects-events":92,"vdom-element":121,"vdux":122,"virtual-component":123}],164:[function(require,module,exports){
"use strict";var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var E=arguments[r];for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(e[R]=E[R])}return e},_reduxActions=require("redux-actions"),_require=require("./action-types"),SELECT_RESOURCE=_require.SELECT_RESOURCE,REQUEST_RESOURCE=_require.REQUEST_RESOURCE,RECEIVE_RESOURCE=_require.RECEIVE_RESOURCE,ERRORED_RESOURCE=_require.ERRORED_RESOURCE,reducer=(0,_reduxActions.handleActions)({SELECT_RESOURCE:function(e,r){return _extends({},e,{resourceId:r.payload})},REQUEST_RESOURCE:function(e,r){return _extends({},e,{loading:!0,error:null})},RECEIVE_RESOURCE:function(e,r){return _extends({},e,{resource:r.payload,loading:!1})},ERRORED_RESOURCE:function(e,r){return _extends({},e,{error:r.payload})}});module.exports=reducer;

},{"./action-types":157,"redux-actions":90}],165:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function configureStore(e){return _redux.applyMiddleware.apply(void 0,middleware)(_redux.createStore)(_reducer2["default"],e)}var _redux=require("redux"),_reducer=require("./reducer"),_reducer2=_interopRequireDefault(_reducer),_reduxEffects=require("redux-effects"),_reduxEffects2=_interopRequireDefault(_reduxEffects),_reduxEffectsEvents=require("redux-effects-events"),_reduxEffectsEvents2=_interopRequireDefault(_reduxEffectsEvents),_effectsFetch=require("./effects/fetch"),_effectsFetch2=_interopRequireDefault(_effectsFetch),_effectsParse=require("./effects/parse"),_effectsParse2=_interopRequireDefault(_effectsParse),_reduxMulti=require("redux-multi"),_reduxMulti2=_interopRequireDefault(_reduxMulti),_reduxLogger=require("redux-logger"),_reduxLogger2=_interopRequireDefault(_reduxLogger);module.exports=configureStore;var middleware=[_reduxMulti2["default"],_reduxEffects2["default"],(0,_reduxEffectsEvents2["default"])(),_effectsFetch2["default"],_effectsParse2["default"],(0,_reduxLogger2["default"])()];

},{"./effects/fetch":161,"./effects/parse":162,"./reducer":164,"redux":97,"redux-effects":93,"redux-effects-events":92,"redux-logger":94,"redux-multi":95}]},{},[1]);
